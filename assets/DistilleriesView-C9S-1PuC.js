import{d as f,_ as h,o as r,c as V,w as t,a as e,a1 as C,a2 as v,a3 as w,a4 as D,U as b,Q as c,a5 as L,b as n,L as N,a6 as B,V as _,a7 as I,N as M,a8 as S,u as T,P as a,T as x,R as u,$ as m,S as F}from"./index-QfAUzdef.js";import{V as R}from"./VRating-pTbIiTpQ.js";import{M as j}from"./Map-3vABsu8_.js";import{V as A}from"./VContainer-NRdJHSEj.js";import{V as z}from"./VCol-BN_h-Lq7.js";const E=f({name:"Distillery",props:{distillery:{type:Object,required:!0}},computed:{distilleryLink(s){return`/Drinks/#/distilleries/${s}`}}});function P(s,i,l,o,y,g){return r(),V(S,null,{loader:t(({isActive:d})=>[e(C,{active:d,color:"deep-purple",height:"4",indeterminate:""},null,8,["active"])]),default:t(()=>[e(v,{height:"250",src:s.distillery.image_link,cover:""},null,8,["src"]),e(w,null,{default:t(()=>[e(D,null,{default:t(()=>[b(c(s.distillery.name),1)]),_:1}),e(L,null,{default:t(()=>[i[0]||(i[0]=n("span",{class:"me-1"},"Local Favorite",-1)),e(N,{color:"error",icon:"mdi-fire-circle",size:"small"})]),_:1})]),_:1}),e(B,null,{default:t(()=>[e(_,{align:"center",class:"mx-0"},{default:t(()=>[e(R,{"model-value":4.5,color:"amber",density:"compact",size:"small","half-increments":"",readonly:""}),i[1]||(i[1]=n("div",{class:"text-grey ms-4"},"4.5 (413)",-1))]),_:1}),i[2]||(i[2]=n("div",{class:"my-4 text-subtitle-1"},"$ â€¢ Italian, Cafe",-1)),n("div",null,c(s.distillery.description||"No description."),1)]),_:1}),e(I,null,{default:t(()=>[e(M,{color:"deep-purple-lighten-2",text:"More",block:"",border:""})]),_:1})]),_:1})}const U=h(E,[["render",P]]),q=f({name:"App",components:{Distillery:U,Map:j},data(){return{distilleries:[],pins:[]}},mounted(){this.fetchDistilleries()},methods:{async fetchDistilleries(){try{const s=T(),i=await fetch(`https://api.allorigins.win/raw?url=${encodeURIComponent(`https://api.fordsdevelopment.co.uk/drinks/distilleries?password=${s.password}`)}`);this.distilleries=await i.json(),this.pins=this.distilleries.filter(l=>{if(l.lat)return l}).map(l=>({lat:parseFloat(l.lat),lng:parseFloat(l.lng),body:`<h4>${l.name}</h4>
                  <ul>
                    ${l.spirits.map(o=>`
                      <li>
                        <a href="/Drinks/#/spirits/${o.id}">${o.name}</a>
                      </li>
                    `).join("")}
                  </ul>
            `}))}catch(s){console.error("Error fetching distilleries:",s)}}}}),O={key:0},Q={key:0,class:"row m-0 g-2 p-2"},G={key:1};function H(s,i,l,o,y,g){const d=m("Map"),$=m("Distillery");return r(),a(u,null,[s.pins.length>0?(r(),a("div",O,[e(d,{pins:s.pins},null,8,["pins"])])):x("",!0),n("main",null,[s.distilleries.length>0?(r(),a("div",Q,[e(A,null,{default:t(()=>[e(_,null,{default:t(()=>[(r(!0),a(u,null,F(s.distilleries,(p,k)=>(r(),V(z,{cols:"12",sm:"4",key:k,distillery:p},{default:t(()=>[e($,{distillery:p},null,8,["distillery"])]),_:2},1032,["distillery"]))),128))]),_:1})]),_:1})])):(r(),a("p",G,"Loading distilleries..."))])],64)}const Z=h(q,[["render",H]]);export{Z as default};
