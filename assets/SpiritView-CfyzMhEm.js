import{d as y,u,m as _,_ as g,g as e,a as f,h as k,b as l,t as w,F as S,k as $,l as p,o as t,c as v}from"./index-Dgo0gmOG.js";import{S as B}from"./Spirit-D2cFtwmK.js";import{M as C}from"./Map-Bc8QxRRB.js";import"./VCol-DjnPnRNT.js";import"./VRating-DFb_ZKv5.js";const F=y({name:"App",data(){return{distillery:{},pins:[]}},components:{Spirit:B,Map:C},mounted(){this.fetchDistillery()},methods:{async fetchDistillery(){const r=_().params.id,o=u();try{const i=await fetch(`https://api.allorigins.win/raw?url=${encodeURIComponent(`https://api.fordsdevelopment.co.uk/drinks/spirits/${r}?password=${o.password}`)}`);this.distillery=await i.json(),this.distillery.lat&&(this.pins=[{lat:parseFloat(this.distillery.lat),lng:parseFloat(this.distillery.lng),body:`<h1>${this.distillery.name}</h1>
            `}])}catch(i){console.error("Error fetching distillery:",i)}}}}),M={key:0},V={key:1,class:"row m-0 g-2 p-2"},D=["src","alt"],L={key:2},N={key:3,class:"row m-0 g-2 p-2"},b={key:4};function A(s,r,o,i,E,R){var n,a;const d=p("Map"),c=p("Spirit");return t(),e("main",null,[s.pins.length>0?(t(),e("div",M,[f(d,{pins:s.pins},null,8,["pins"])])):k("",!0),(n=s.distillery)!=null&&n.id?(t(),e("div",V,[l("h1",null,w(s.distillery.name),1),l("img",{src:s.distillery.image_link,alt:s.distillery.name,class:"whisky-image"},null,8,D)])):(t(),e("p",L,"Loading distillery...")),((a=s.distillery.spirits)==null?void 0:a.length)>0?(t(),e("div",N,[(t(!0),e(S,null,$(s.distillery.spirits,(m,h)=>(t(),v(c,{key:h,spirit:m},null,8,["spirit"]))),128))])):(t(),e("p",b,"Loading spirits..."))])}const z=g(F,[["render",A]]);export{z as default};
