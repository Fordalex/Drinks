import{d as m,_ as u,o as t,c as n,e,t as o,h as k,M as $,a as g,b as w,F as d,r as D,f as h,g as v}from"./index-BWYQkPLO.js";const b=m({name:"Distillery",props:{spirit:{type:Object,required:!0}},computed:{distilleryLink(){return`/Drinks/#/distilleries/${this.spirit.id}`}}}),M={class:"col-12 col-md-6 col-lg-4 col-xl-3"},V={class:"whisky-container"},B={class:"row"},C={class:"col-8"},F={class:"whisky-name"},L={class:"whisky-description"},N={class:"whisky-details"},j={class:"whisky-location"},E={class:"whisky-info"},q={class:"col-4"},A=["src","alt"],I=["href"];function O(s,i,l,_,f,y){var r,a,c,p;return t(),n("div",M,[e("div",V,[e("div",B,[e("div",C,[e("h2",F,o(s.spirit.name),1),e("p",L,o(s.spirit.description),1),e("div",N,[e("p",j,o((r=s.spirit.country)==null?void 0:r.name)+" - "+o((a=s.spirit.region)==null?void 0:a.name),1),i[2]||(i[2]=e("br",null,null,-1)),e("p",E,[i[0]||(i[0]=e("b",null,"Distillery:",-1)),k(" "+o((c=s.spirit.distillery)==null?void 0:c.name),1),i[1]||(i[1]=e("br",null,null,-1))])])]),e("div",q,[e("img",{src:(p=s.spirit)==null?void 0:p.image_link,alt:s.spirit.name,class:"whisky-image"},null,8,A)])]),e("a",{href:s.distilleryLink,class:"button"},"More",8,I)])])}const R=u(b,[["render",O]]),S=m({name:"App",components:{Distillery:R,Map:$},data(){return{distilleries:[],pins:[]}},mounted(){this.fetchDistilleries()},methods:{async fetchDistilleries(){try{const s=await fetch(`https://api.allorigins.win/raw?url=${encodeURIComponent("https://api.fordsdevelopment.co.uk/distilleries")}`);this.distilleries=await s.json(),this.pins=this.distilleries.filter(i=>{if(i.lat)return i}).map(i=>({lat:parseFloat(i.lat),lng:parseFloat(i.lng),body:`<h4>${i.name}</h4>
                  <ul>
                    ${i.spirits.map(l=>`
                      <li>
                        <a href="/Drinks/#/spirits/${l.id}">${l.name}</a>
                      </li>
                    `).join("")}
                  </ul>
            `}))}catch(s){console.error("Error fetching distilleries:",s)}}}}),T={key:0},U={key:0,class:"row m-0 g-2 p-2"},z={key:1};function G(s,i,l,_,f,y){const r=h("Map"),a=h("Distillery");return t(),n(d,null,[s.pins.length>0?(t(),n("div",T,[g(r,{pins:s.pins},null,8,["pins"])])):w("",!0),e("main",null,[s.distilleries.length>0?(t(),n("div",U,[(t(!0),n(d,null,D(s.distilleries,(c,p)=>(t(),v(a,{key:p,spirit:c},null,8,["spirit"]))),128))])):(t(),n("p",z,"Loading distilleries..."))])],64)}const J=u(S,[["render",G]]);export{J as default};
