import{d as b,e as B,_ as h,o as s,c as t,w as e,a,p as T,q as L,s as v,v as M,j as w,t as V,bg as j,b as l,T as N,U as S,V as d,x as A,i as I,y as z,u as F,r as g,f as U,g as k,h as m,F as C,k as $,l as q}from"./index-CT-GqKWP.js";import{M as D}from"./Map-BOHRkLF0.js";import{V as R}from"./VRating-iODfQQOI.js";import{V as f}from"./VContainer-sJ23_0df.js";import{V as y}from"./VCol-6K7bv0ry.js";import{V as x,a as E}from"./VSkeletonLoader-BW0iy_lM.js";const H=b({name:"Company",props:{company:{type:Object,required:!0}},setup(o){return{companyLink:B(()=>`/Drinks/#/companies/${o.company.id}`)}}});function O(o,n,p,i,c,_){return s(),t(z,null,{loader:e(({isActive:r})=>[a(T,{active:r,color:"deep-purple",height:"4",indeterminate:""},null,8,["active"])]),default:e(()=>[a(L,{height:"250",src:o.company.image_link,cover:""},null,8,["src"]),a(v,null,{default:e(()=>[a(M,null,{default:e(()=>[w(V(o.company.name),1)]),_:1}),a(j,null,{default:e(()=>[n[0]||(n[0]=l("span",{class:"me-1"},"Local Favorite",-1)),a(N,{color:"error",icon:"mdi-fire-circle",size:"small"})]),_:1})]),_:1}),a(v,null,{default:e(()=>[l("p",null,"Brands: "+V(o.company.brands),1)]),_:1}),a(S,null,{default:e(()=>[a(d,{align:"center",class:"mx-0"},{default:e(()=>[a(R,{"model-value":4.5,color:"amber",density:"compact",size:"small","half-increments":"",readonly:""}),n[1]||(n[1]=l("div",{class:"text-grey ms-4"},"4.5 (413)",-1))]),_:1}),n[2]||(n[2]=l("div",{class:"my-4 text-subtitle-1"},"$ â€¢ Italian, Cafe",-1)),l("div",null,V(o.company.description||"No description."),1)]),_:1}),a(A,null,{default:e(()=>[a(I,{href:o.companyLink,color:"deep-purple-lighten-2",text:"More",block:"",border:""},null,8,["href"])]),_:1})]),_:1})}const P=h(H,[["render",O]]),G=b({name:"HomeView",components:{Map:D,Company:P},setup(){const o=F(),n=g([]),p=g(null),i=g(!0),c=async()=>{const r=await fetch("https://api.fordsdevelopment.co.uk/drinks/companies",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${o.accessToken}`}});if(r.ok)n.value=await r.json(),i.value=!1;else{const u=await r.json();p.value=u.error,i.value=!1}};return U(()=>{c()}),{fetchCompanies:c,companies:n,errorMessage:p,loading:i}}});function J(o,n,p,i,c,_){const r=q("Company");return s(),k(C,null,[a(f,null,{default:e(()=>[a(d,null,{default:e(()=>[a(y,{cols:"12"},{default:e(()=>n[0]||(n[0]=[l("h1",null,"Companies",-1)])),_:1})]),_:1})]),_:1}),o.loading?m("",!0):(s(),t(f,{key:0},{default:e(()=>[a(d,null,{default:e(()=>[a(y,{cols:"12"},{default:e(()=>[o.errorMessage?(s(),t(x,{key:0,type:"error",dismissible:"",border:"left",elevation:"2"},{default:e(()=>[w(V(o.errorMessage),1)]),_:1})):m("",!0)]),_:1})]),_:1})]),_:1})),o.loading?m("",!0):(s(),t(f,{key:1},{default:e(()=>[a(d,null,{default:e(()=>[(s(!0),k(C,null,$(o.companies,u=>(s(),t(y,{cols:"12",sm:"6",md:"4",lg:"3",key:u.id},{default:e(()=>[a(r,{company:u},null,8,["company"])]),_:2},1024))),128))]),_:1})]),_:1})),o.loading?(s(),t(f,{key:2},{default:e(()=>[a(d,null,{default:e(()=>[(s(),k(C,null,$(16,u=>a(y,{cols:"12",sm:"6",md:"4",lg:"3"},{default:e(()=>[a(E,{class:"border",type:"image, article"})]),_:1})),64))]),_:1})]),_:1})):m("",!0)],64)}const ee=h(G,[["render",J]]);export{ee as default};
