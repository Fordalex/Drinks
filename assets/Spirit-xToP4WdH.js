import{d as Je,r as D,u as Xe,a9 as j,p as J,aa as wl,ab as Bt,v as ne,x as ce,ac as Pl,ad as rt,ae as Pe,af as be,Q as oe,ag as Pt,O as G,a,M as Ce,ah as Re,ai as Tt,_ as Qe,o as Ae,S as nt,aj as Te,w as Y,a7 as Et,a3 as Mt,W as he,a5 as Dt,X as ke,T as $t,a6 as Fl,N as Me,ak as Se,m as fe,s as Be,I as de,al as Ot,h as ct,am as ze,e as b,an as zt,ao as dt,ap as Lt,H as ue,aq as Ut,ar as Q,as as vt,at as Ie,au as Ye,U as ae,L as re,av as Nt,A as ft,R as pe,G as Ze,P as Ht,aw as $e,ax as mt,J as et,ay as tt,az as Kt,aA as Gt,aB as jt,aC as _l,aD as qt,aE as Ee,aF as Al,f as gt,aG as ot,aH as Rl,i as Wt,B as Jt,y as lt,a8 as yt,aI as Bl,q as ht,aJ as Xt,aK as Qt,aL as Yt,aM as Ke,aN as Tl,aO as Ft,t as Zt,aP as El,j as Ml,aQ as Dl,n as el,aR as $l,aS as Ol,aT as zl,z as Ll,C as Ul,F as tl,aU as Nl,aV as Hl,aW as Kl,K as Gl,aX as ll,aY as bt,aZ as Ge,a_ as jl,a$ as ql,b0 as Wl,b1 as Fe,b2 as Jl,b3 as Xl,b4 as Ql,b5 as Yl,b6 as Zl,b7 as al,b8 as ea,b9 as nl,ba as je,bb as He,bc as ta,bd as la,be as aa,bf as ol,bg as il,bh as ul,bi as qe,bj as sl,bk as it,b as _e,bl as na,bm as oa,bn as ia,Z as ut,c as st,a1 as ua,a2 as sa,V as ra}from"./index-Dxn9Mxcp.js";import{V as ca}from"./VCol-BxbzWNLe.js";import{V as da}from"./VRating-A1seRbxq.js";const va=Je({name:"RecordForm",props:{record:{type:Object,default:()=>({})},endpoint:{type:String,required:!0},method:{type:String,default:"POST"}},setup(e){const n=D(!1),t=D({...e.record}),o=D(null),l=Xe();return j(()=>e.record,r=>{t.value={...r}},{deep:!0,immediate:!0}),{dialog:n,localRecord:t,openDialog:()=>{n.value=!0},saveRecord:async()=>{console.error(JSON.stringify(t.value)),o.value=null;const r=await fetch(e.endpoint,{method:e.method,headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.accessToken}`},body:JSON.stringify(t.value)});console.log(JSON.stringify(t.value)),r.ok?(console.log(JSON.stringify(t.value)),window.location.reload()):(console.log(JSON.stringify(t.value)),o.value=await r.json())},errorMessage:o}}}),fa=J({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...wl({origin:"center center",scrollStrategy:"block",transition:{component:Bt},zIndex:2400})},"VDialog"),ma=ne()({name:"VDialog",props:fa(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,n){let{emit:t,slots:o}=n;const l=ce(e,"modelValue"),{scopeId:i}=Pl(),u=D();function r(g){var y,k;const c=g.relatedTarget,d=g.target;if(c!==d&&((y=u.value)!=null&&y.contentEl)&&((k=u.value)!=null&&k.globalTop)&&![document,u.value.contentEl].includes(d)&&!u.value.contentEl.contains(d)){const V=Tt(u.value.contentEl);if(!V.length)return;const h=V[0],x=V[V.length-1];c===h?x.focus():h.focus()}}rt(()=>{document.removeEventListener("focusin",r)}),Pe&&j(()=>l.value&&e.retainFocus,g=>{g?document.addEventListener("focusin",r):document.removeEventListener("focusin",r)},{immediate:!0});function s(){var g;t("afterEnter"),(g=u.value)!=null&&g.contentEl&&!u.value.contentEl.contains(document.activeElement)&&u.value.contentEl.focus({preventScroll:!0})}function m(){t("afterLeave")}return j(l,async g=>{var c;g||(await be(),(c=u.value.activatorEl)==null||c.focus({preventScroll:!0}))}),oe(()=>{const g=Pt.filterProps(e),c=G({"aria-haspopup":"dialog"},e.activatorProps),d=G({tabindex:-1},e.contentProps);return a(Pt,G({ref:u,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},g,{modelValue:l.value,"onUpdate:modelValue":y=>l.value=y,"aria-modal":"true",activatorProps:c,contentProps:d,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:s,onAfterLeave:m},i),{activator:o.activator,default:function(){for(var y=arguments.length,k=new Array(y),V=0;V<y;V++)k[V]=arguments[V];return a(Ce,{root:"VDialog"},{default:()=>{var h;return[(h=o.default)==null?void 0:h.call(o,...k)]}})}})}),Re({},u)}}),ga={key:0,class:"error text-center"};function ya(e,n,t,o,l,i){return Ae(),nt("div",null,[Te(e.$slots,"trigger",{openDialog:e.openDialog},()=>[a(Me,{color:"primary",onClick:e.openDialog},{default:Y(()=>n[2]||(n[2]=[he("Add Record")])),_:1},8,["onClick"])]),a(ma,{modelValue:e.dialog,"onUpdate:modelValue":n[1]||(n[1]=u=>e.dialog=u),"max-width":"500"},{default:Y(()=>[a(Et,null,{default:Y(()=>[a(Mt,null,{default:Y(()=>[Te(e.$slots,"title",{},()=>[n[3]||(n[3]=he("Add/Edit Record"))])]),_:3}),a(Dt,null,{default:Y(()=>[Te(e.$slots,"form",{record:e.localRecord},()=>[n[4]||(n[4]=he("No form provided"))])]),_:3}),e.errorMessage?(Ae(),nt("p",ga,ke(e.errorMessage),1)):$t("",!0),a(Fl,null,{default:Y(()=>[Te(e.$slots,"actions",{},()=>[a(Me,{text:"",color:"secondary",onClick:n[0]||(n[0]=u=>e.dialog=!1)},{default:Y(()=>n[5]||(n[5]=[he("Cancel")])),_:1}),a(Me,{text:"",color:"primary",onClick:e.saveRecord},{default:Y(()=>n[6]||(n[6]=[he("Save")])),_:1},8,["onClick"])])]),_:3})]),_:3})]),_:3},8,["modelValue"])])}const ha=Qe(va,[["render",ya]]),ba=Je({name:"SelectFromRequest",props:{path:{type:String,required:!0},key:{type:String,required:!0},name:{type:String,required:!0},modelValue:{type:String}},emits:["update:modelValue"],setup(e,{emit:n}){const t=Xe(),o=D([]),l=D(e.value),i=D(!0),u=D(null),r=3;let s=0;const m=async()=>{if(t.accessToken){i.value=!0,u.value=null;try{const c=await fetch(`https://api.fordsdevelopment.co.uk/drinks/${e.path}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});if(!c.ok){if(c.status===500&&s<r){s++,setTimeout(m,500);return}throw new Error(`HTTP error! status: ${c.status}`)}const y=(await c.json()).map(k=>({id:k.id,name:k.name}));console.log("mappedData",y),o.value=y,i.value=!1}catch(c){console.error("Error fetching items:",c),i.value=!1,u.value=c instanceof Error?c.message:String(c)}}},g=c=>{console.log("handleChange",c),console.log("value",l.value),c.target,l.value=l.value,n("update:modelValue",l.value)};return j(()=>e.path,()=>{t.accessToken&&m()},{immediate:!0}),j(()=>t.accessToken,c=>{c&&m()},{immediate:!0}),j(()=>e.value,c=>{l.value=c}),{items:o,selected:l,handleChange:g,loading:i,errorMessage:u}}}),pa=J({text:String,onClick:Se(),...fe(),...Be()},"VLabel"),rl=ne()({name:"VLabel",props:pa(),setup(e,n){let{slots:t}=n;return oe(()=>{var o;return a("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(o=t.default)==null?void 0:o.call(t)])}),{}}}),cl=Symbol.for("vuetify:selection-control-group"),dl=J({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:de,trueIcon:de,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Ot},...fe(),...ct(),...Be()},"SelectionControlGroup"),Va=J({...dl({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");ne()({name:"VSelectionControlGroup",props:Va(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const o=ce(e,"modelValue"),l=ze(),i=b(()=>e.id||`v-selection-control-group-${l}`),u=b(()=>e.name||i.value),r=new Set;return zt(cl,{modelValue:o,forceUpdate:()=>{r.forEach(s=>s())},onForceUpdate:s=>{r.add(s),dt(()=>{r.delete(s)})}}),Lt({[e.defaultsTarget]:{color:ue(e,"color"),disabled:ue(e,"disabled"),density:ue(e,"density"),error:ue(e,"error"),inline:ue(e,"inline"),modelValue:o,multiple:b(()=>!!e.multiple||e.multiple==null&&Array.isArray(o.value)),name:u,falseIcon:ue(e,"falseIcon"),trueIcon:ue(e,"trueIcon"),readonly:ue(e,"readonly"),ripple:ue(e,"ripple"),type:ue(e,"type"),valueComparator:ue(e,"valueComparator")}}),oe(()=>{var s;return a("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(s=t.default)==null?void 0:s.call(t)])}),{}}});const vl=J({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...fe(),...dl()},"VSelectionControl");function ka(e){const n=Nt(cl,void 0),{densityClasses:t}=ft(e),o=ce(e,"modelValue"),l=b(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),i=b(()=>e.falseValue!==void 0?e.falseValue:!1),u=b(()=>!!e.multiple||e.multiple==null&&Array.isArray(o.value)),r=b({get(){const y=n?n.modelValue.value:o.value;return u.value?pe(y).some(k=>e.valueComparator(k,l.value)):e.valueComparator(y,l.value)},set(y){if(e.readonly)return;const k=y?l.value:i.value;let V=k;u.value&&(V=y?[...pe(o.value),k]:pe(o.value).filter(h=>!e.valueComparator(h,l.value))),n?n.modelValue.value=V:o.value=V}}),{textColorClasses:s,textColorStyles:m}=Ze(b(()=>{if(!(e.error||e.disabled))return r.value?e.color:e.baseColor})),{backgroundColorClasses:g,backgroundColorStyles:c}=Ht(b(()=>r.value&&!e.error&&!e.disabled?e.color:e.baseColor)),d=b(()=>r.value?e.trueIcon:e.falseIcon);return{group:n,densityClasses:t,trueValue:l,falseValue:i,model:r,textColorClasses:s,textColorStyles:m,backgroundColorClasses:g,backgroundColorStyles:c,icon:d}}const _t=ne()({name:"VSelectionControl",directives:{Ripple:Ut},inheritAttrs:!1,props:vl(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:t,slots:o}=n;const{group:l,densityClasses:i,icon:u,model:r,textColorClasses:s,textColorStyles:m,backgroundColorClasses:g,backgroundColorStyles:c,trueValue:d}=ka(e),y=ze(),k=Q(!1),V=Q(!1),h=D(),x=b(()=>e.id||`input-${y}`),T=b(()=>!e.disabled&&!e.readonly);l==null||l.onForceUpdate(()=>{h.value&&(h.value.checked=r.value)});function I(S){T.value&&(k.value=!0,$e(S.target,":focus-visible")!==!1&&(V.value=!0))}function w(){k.value=!1,V.value=!1}function P(S){S.stopPropagation()}function R(S){if(!T.value){h.value&&(h.value.checked=r.value);return}e.readonly&&l&&be(()=>l.forceUpdate()),r.value=S.target.checked}return oe(()=>{var F,O;const S=o.label?o.label({label:e.label,props:{for:x.value}}):e.label,[$,U]=vt(t),B=a("input",G({ref:h,checked:r.value,disabled:!!e.disabled,id:x.value,onBlur:w,onFocus:I,onInput:R,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:d.value,name:e.name,"aria-checked":e.type==="checkbox"?r.value:void 0},U),null);return a("div",G({class:["v-selection-control",{"v-selection-control--dirty":r.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":k.value,"v-selection-control--focus-visible":V.value,"v-selection-control--inline":e.inline},i.value,e.class]},$,{style:e.style}),[a("div",{class:["v-selection-control__wrapper",s.value],style:m.value},[(F=o.default)==null?void 0:F.call(o,{backgroundColorClasses:g,backgroundColorStyles:c}),Ie(a("div",{class:["v-selection-control__input"]},[((O=o.input)==null?void 0:O.call(o,{model:r,textColorClasses:s,textColorStyles:m,backgroundColorClasses:g,backgroundColorStyles:c,inputNode:B,icon:u.value,props:{onFocus:I,onBlur:w,id:x.value}}))??a(ae,null,[u.value&&a(re,{key:"icon",icon:u.value},null),B])]),[[Ye("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),S&&a(rl,{for:x.value,onClick:P},{default:()=>[S]})])}),{isFocused:k,input:h}}}),Sa=J({indeterminate:Boolean,indeterminateIcon:{type:de,default:"$checkboxIndeterminate"},...vl({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),fl=ne()({name:"VCheckboxBtn",props:Sa(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,n){let{slots:t}=n;const o=ce(e,"indeterminate"),l=ce(e,"modelValue");function i(s){o.value&&(o.value=!1)}const u=b(()=>o.value?e.indeterminateIcon:e.falseIcon),r=b(()=>o.value?e.indeterminateIcon:e.trueIcon);return oe(()=>{const s=mt(_t.filterProps(e),["modelValue"]);return a(_t,G(s,{modelValue:l.value,"onUpdate:modelValue":[m=>l.value=m,i],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:u.value,trueIcon:r.value,"aria-checked":o.value?"mixed":void 0}),t)}),{}}});function ml(e){const{t:n}=et();function t(o){let{name:l}=o;const i={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[l],u=e[`onClick:${l}`],r=u&&i?n(`$vuetify.input.${i}`,e.label??""):void 0;return a(re,{icon:e[`${l}Icon`],"aria-label":r,onClick:u},null)}return{InputIcon:t}}const Ca=J({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...fe(),...tt({transition:{component:Kt,leaveAbsolute:!0,group:!0}})},"VMessages"),xa=ne()({name:"VMessages",props:Ca(),setup(e,n){let{slots:t}=n;const o=b(()=>pe(e.messages)),{textColorClasses:l,textColorStyles:i}=Ze(b(()=>e.color));return oe(()=>a(Gt,{transition:e.transition,tag:"div",class:["v-messages",l.value,e.class],style:[i.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&o.value.map((u,r)=>a("div",{class:"v-messages__message",key:`${r}-${o.value}`},[t.message?t.message({message:u}):u]))]})),{}}}),gl=J({focused:Boolean,"onUpdate:focused":Se()},"focus");function pt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt();const t=ce(e,"focused"),o=b(()=>({[`${n}--focused`]:t.value}));function l(){t.value=!0}function i(){t.value=!1}return{focusClasses:o,isFocused:t,focus:l,blur:i}}const yl=Symbol.for("vuetify:form"),Ia=J({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function wa(e){const n=ce(e,"modelValue"),t=b(()=>e.disabled),o=b(()=>e.readonly),l=Q(!1),i=D([]),u=D([]);async function r(){const g=[];let c=!0;u.value=[],l.value=!0;for(const d of i.value){const y=await d.validate();if(y.length>0&&(c=!1,g.push({id:d.id,errorMessages:y})),!c&&e.fastFail)break}return u.value=g,l.value=!1,{valid:c,errors:u.value}}function s(){i.value.forEach(g=>g.reset())}function m(){i.value.forEach(g=>g.resetValidation())}return j(i,()=>{let g=0,c=0;const d=[];for(const y of i.value)y.isValid===!1?(c++,d.push({id:y.id,errorMessages:y.errorMessages})):y.isValid===!0&&g++;u.value=d,n.value=c>0?!1:g===i.value.length?!0:null},{deep:!0,flush:"post"}),zt(yl,{register:g=>{let{id:c,vm:d,validate:y,reset:k,resetValidation:V}=g;i.value.some(h=>h.id===c),i.value.push({id:c,validate:y,reset:k,resetValidation:V,vm:_l(d),isValid:null,errorMessages:[]})},unregister:g=>{i.value=i.value.filter(c=>c.id!==g)},update:(g,c,d)=>{const y=i.value.find(k=>k.id===g);y&&(y.isValid=c,y.errorMessages=d)},isDisabled:t,isReadonly:o,isValidating:l,isValid:n,items:i,validateOn:ue(e,"validateOn")}),{errors:u,isDisabled:t,isReadonly:o,isValidating:l,isValid:n,items:i,validate:r,reset:s,resetValidation:m}}function Vt(e){const n=Nt(yl,null);return{...n,isReadonly:b(()=>!!((e==null?void 0:e.readonly)??(n==null?void 0:n.isReadonly.value))),isDisabled:b(()=>!!((e==null?void 0:e.disabled)??(n==null?void 0:n.isDisabled.value)))}}const Pa=J({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...gl()},"validation");function Fa(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt(),t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ze();const o=ce(e,"modelValue"),l=b(()=>e.validationValue===void 0?o.value:e.validationValue),i=Vt(e),u=D([]),r=Q(!0),s=b(()=>!!(pe(o.value===""?null:o.value).length||pe(l.value===""?null:l.value).length)),m=b(()=>{var I;return(I=e.errorMessages)!=null&&I.length?pe(e.errorMessages).concat(u.value).slice(0,Math.max(0,+e.maxErrors)):u.value}),g=b(()=>{var P;let I=(e.validateOn??((P=i.validateOn)==null?void 0:P.value))||"input";I==="lazy"&&(I="input lazy"),I==="eager"&&(I="input eager");const w=new Set((I==null?void 0:I.split(" "))??[]);return{input:w.has("input"),blur:w.has("blur")||w.has("input")||w.has("invalid-input"),invalidInput:w.has("invalid-input"),lazy:w.has("lazy"),eager:w.has("eager")}}),c=b(()=>{var I;return e.error||(I=e.errorMessages)!=null&&I.length?!1:e.rules.length?r.value?u.value.length||g.value.lazy?null:!0:!u.value.length:!0}),d=Q(!1),y=b(()=>({[`${n}--error`]:c.value===!1,[`${n}--dirty`]:s.value,[`${n}--disabled`]:i.isDisabled.value,[`${n}--readonly`]:i.isReadonly.value})),k=qt("validation"),V=b(()=>e.name??Ee(t));Al(()=>{var I;(I=i.register)==null||I.call(i,{id:V.value,vm:k,validate:T,reset:h,resetValidation:x})}),rt(()=>{var I;(I=i.unregister)==null||I.call(i,V.value)}),gt(async()=>{var I;g.value.lazy||await T(!g.value.eager),(I=i.update)==null||I.call(i,V.value,c.value,m.value)}),ot(()=>g.value.input||g.value.invalidInput&&c.value===!1,()=>{j(l,()=>{if(l.value!=null)T();else if(e.focused){const I=j(()=>e.focused,w=>{w||T(),I()})}})}),ot(()=>g.value.blur,()=>{j(()=>e.focused,I=>{I||T()})}),j([c,m],()=>{var I;(I=i.update)==null||I.call(i,V.value,c.value,m.value)});async function h(){o.value=null,await be(),await x()}async function x(){r.value=!0,g.value.lazy?u.value=[]:await T(!g.value.eager)}async function T(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const w=[];d.value=!0;for(const P of e.rules){if(w.length>=+(e.maxErrors??1))break;const S=await(typeof P=="function"?P:()=>P)(l.value);if(S!==!0){if(S!==!1&&typeof S!="string"){console.warn(`${S} is not a valid value. Rule functions must return boolean true or a string.`);continue}w.push(S||"")}}return u.value=w,d.value=!1,r.value=I,u.value}return{errorMessages:m,isDirty:s,isDisabled:i.isDisabled,isReadonly:i.isReadonly,isPristine:r,isValid:c,isValidating:d,reset:h,resetValidation:x,validate:T,validationClasses:y}}const kt=J({id:String,appendIcon:de,centerAffix:{type:Boolean,default:!0},prependIcon:de,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Se(),"onClick:append":Se(),...fe(),...ct(),...Rl(Wt(),["maxWidth","minWidth","width"]),...Be(),...Pa()},"VInput"),We=ne()({name:"VInput",props:{...kt()},emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:t,slots:o,emit:l}=n;const{densityClasses:i}=ft(e),{dimensionStyles:u}=Jt(e),{themeClasses:r}=lt(e),{rtlClasses:s}=yt(),{InputIcon:m}=ml(e),g=ze(),c=b(()=>e.id||`input-${g}`),d=b(()=>`${c.value}-messages`),{errorMessages:y,isDirty:k,isDisabled:V,isReadonly:h,isPristine:x,isValid:T,isValidating:I,reset:w,resetValidation:P,validate:R,validationClasses:S}=Fa(e,"v-input",c),$=b(()=>({id:c,messagesId:d,isDirty:k,isDisabled:V,isReadonly:h,isPristine:x,isValid:T,isValidating:I,reset:w,resetValidation:P,validate:R})),U=b(()=>{var B;return(B=e.errorMessages)!=null&&B.length||!x.value&&y.value.length?y.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return oe(()=>{var A,E,N,q;const B=!!(o.prepend||e.prependIcon),F=!!(o.append||e.appendIcon),O=U.value.length>0,z=!e.hideDetails||e.hideDetails==="auto"&&(O||!!o.details);return a("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},i.value,r.value,s.value,S.value,e.class],style:[u.value,e.style]},[B&&a("div",{key:"prepend",class:"v-input__prepend"},[(A=o.prepend)==null?void 0:A.call(o,$.value),e.prependIcon&&a(m,{key:"prepend-icon",name:"prepend"},null)]),o.default&&a("div",{class:"v-input__control"},[(E=o.default)==null?void 0:E.call(o,$.value)]),F&&a("div",{key:"append",class:"v-input__append"},[e.appendIcon&&a(m,{key:"append-icon",name:"append"},null),(N=o.append)==null?void 0:N.call(o,$.value)]),z&&a("div",{class:"v-input__details"},[a(xa,{id:d.value,active:O,messages:U.value},{message:o.message}),(q=o.details)==null?void 0:q.call(o,$.value)])])}),{reset:w,resetValidation:P,validate:R,isValid:T,errorMessages:y}}});function _a(e){let{selectedElement:n,containerElement:t,isRtl:o,isHorizontal:l}=e;const i=Oe(l,t),u=hl(l,o,t),r=Oe(l,n),s=bl(l,n),m=r*.4;return u>s?s-m:u+i<s+r?s-i+r+m:u}function Aa(e){let{selectedElement:n,containerElement:t,isHorizontal:o}=e;const l=Oe(o,t),i=bl(o,n),u=Oe(o,n);return i-l/2+u/2}function At(e,n){const t=e?"scrollWidth":"scrollHeight";return(n==null?void 0:n[t])||0}function Ra(e,n){const t=e?"clientWidth":"clientHeight";return(n==null?void 0:n[t])||0}function hl(e,n,t){if(!t)return 0;const{scrollLeft:o,offsetWidth:l,scrollWidth:i}=t;return e?n?i-l+o:o:t.scrollTop}function Oe(e,n){const t=e?"offsetWidth":"offsetHeight";return(n==null?void 0:n[t])||0}function bl(e,n){const t=e?"offsetLeft":"offsetTop";return(n==null?void 0:n[t])||0}const Ba=Symbol.for("vuetify:v-slide-group"),pl=J({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Ba},nextIcon:{type:de,default:"$next"},prevIcon:{type:de,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...fe(),...Bl({mobile:null}),...ht(),...Xt({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Rt=ne()({name:"VSlideGroup",props:pl(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{isRtl:o}=yt(),{displayClasses:l,mobile:i}=Qt(e),u=Yt(e,e.symbol),r=Q(!1),s=Q(0),m=Q(0),g=Q(0),c=b(()=>e.direction==="horizontal"),{resizeRef:d,contentRect:y}=Ke(),{resizeRef:k,contentRect:V}=Ke(),h=Tl(),x=b(()=>({container:d.el,duration:200,easing:"easeOutQuart"})),T=b(()=>u.selected.value.length?u.items.value.findIndex(v=>v.id===u.selected.value[0]):-1),I=b(()=>u.selected.value.length?u.items.value.findIndex(v=>v.id===u.selected.value[u.selected.value.length-1]):-1);if(Pe){let v=-1;j(()=>[u.selected.value,y.value,V.value,c.value],()=>{cancelAnimationFrame(v),v=requestAnimationFrame(()=>{if(y.value&&V.value){const p=c.value?"width":"height";m.value=y.value[p],g.value=V.value[p],r.value=m.value+1<g.value}if(T.value>=0&&k.el){const p=k.el.children[I.value];P(p,e.centerActive)}})})}const w=Q(!1);function P(v,p){let _=0;p?_=Aa({containerElement:d.el,isHorizontal:c.value,selectedElement:v}):_=_a({containerElement:d.el,isHorizontal:c.value,isRtl:o.value,selectedElement:v}),R(_)}function R(v){if(!Pe||!d.el)return;const p=Oe(c.value,d.el),_=hl(c.value,o.value,d.el);if(!(At(c.value,d.el)<=p||Math.abs(v-_)<16)){if(c.value&&o.value&&d.el){const{scrollWidth:M,offsetWidth:W}=d.el;v=M-W-v}c.value?h.horizontal(v,x.value):h(v,x.value)}}function S(v){const{scrollTop:p,scrollLeft:_}=v.target;s.value=c.value?_:p}function $(v){if(w.value=!0,!(!r.value||!k.el)){for(const p of v.composedPath())for(const _ of k.el.children)if(_===p){P(_);return}}}function U(v){w.value=!1}let B=!1;function F(v){var p;!B&&!w.value&&!(v.relatedTarget&&((p=k.el)!=null&&p.contains(v.relatedTarget)))&&A(),B=!1}function O(){B=!0}function z(v){if(!k.el)return;function p(_){v.preventDefault(),A(_)}c.value?v.key==="ArrowRight"?p(o.value?"prev":"next"):v.key==="ArrowLeft"&&p(o.value?"next":"prev"):v.key==="ArrowDown"?p("next"):v.key==="ArrowUp"&&p("prev"),v.key==="Home"?p("first"):v.key==="End"&&p("last")}function A(v){var _,X;if(!k.el)return;let p;if(!v)p=Tt(k.el)[0];else if(v==="next"){if(p=(_=k.el.querySelector(":focus"))==null?void 0:_.nextElementSibling,!p)return A("first")}else if(v==="prev"){if(p=(X=k.el.querySelector(":focus"))==null?void 0:X.previousElementSibling,!p)return A("last")}else v==="first"?p=k.el.firstElementChild:v==="last"&&(p=k.el.lastElementChild);p&&p.focus({preventScroll:!0})}function E(v){const p=c.value&&o.value?-1:1,_=(v==="prev"?-p:p)*m.value;let X=s.value+_;if(c.value&&o.value&&d.el){const{scrollWidth:M,offsetWidth:W}=d.el;X+=M-W}R(X)}const N=b(()=>({next:u.next,prev:u.prev,select:u.select,isSelected:u.isSelected})),q=b(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!i.value;case!0:return r.value||Math.abs(s.value)>0;case"mobile":return i.value||r.value||Math.abs(s.value)>0;default:return!i.value&&(r.value||Math.abs(s.value)>0)}}),K=b(()=>Math.abs(s.value)>1),f=b(()=>{if(!d.value)return!1;const v=At(c.value,d.el),p=Ra(c.value,d.el);return v-p-Math.abs(s.value)>1});return oe(()=>a(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":q.value,"v-slide-group--is-overflowing":r.value},l.value,e.class],style:e.style,tabindex:w.value||u.selected.value.length?-1:0,onFocus:F},{default:()=>{var v,p,_;return[q.value&&a("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!K.value}],onMousedown:O,onClick:()=>K.value&&E("prev")},[((v=t.prev)==null?void 0:v.call(t,N.value))??a(Ft,null,{default:()=>[a(re,{icon:o.value?e.nextIcon:e.prevIcon},null)]})]),a("div",{key:"container",ref:d,class:"v-slide-group__container",onScroll:S},[a("div",{ref:k,class:"v-slide-group__content",onFocusin:$,onFocusout:U,onKeydown:z},[(p=t.default)==null?void 0:p.call(t,N.value)])]),q.value&&a("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!f.value}],onMousedown:O,onClick:()=>f.value&&E("next")},[((_=t.next)==null?void 0:_.call(t,N.value))??a(Ft,null,{default:()=>[a(re,{icon:o.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:u.selected,scrollTo:E,scrollOffset:s,focus:A,hasPrev:K,hasNext:f}}}),Vl=Symbol.for("vuetify:v-chip-group"),Ta=J({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ot},...pl(),...fe(),...Xt({selectedClass:"v-chip--selected"}),...ht(),...Be(),...Zt({variant:"tonal"})},"VChipGroup");ne()({name:"VChipGroup",props:Ta(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{themeClasses:o}=lt(e),{isSelected:l,select:i,next:u,prev:r,selected:s}=Yt(e,Vl);return Lt({VChip:{color:ue(e,"color"),disabled:ue(e,"disabled"),filter:ue(e,"filter"),variant:ue(e,"variant")}}),oe(()=>{const m=Rt.filterProps(e);return a(Rt,G(m,{class:["v-chip-group",{"v-chip-group--column":e.column},o.value,e.class],style:e.style}),{default:()=>{var g;return[(g=t.default)==null?void 0:g.call(t,{isSelected:l,select:i,next:u,prev:r,selected:s.value})]}})}),{}}});const Ea=J({activeClass:String,appendAvatar:String,appendIcon:de,closable:Boolean,closeIcon:{type:de,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:de,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:de,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Se(),onClickOnce:Se(),...El(),...fe(),...ct(),...Ml(),...Dl(),...el(),...$l(),...Ol(),...ht({tag:"span"}),...Be(),...Zt({variant:"tonal"})},"VChip"),De=ne()({name:"VChip",directives:{Ripple:Ut},props:Ea(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,n){let{attrs:t,emit:o,slots:l}=n;const{t:i}=et(),{borderClasses:u}=zl(e),{colorClasses:r,colorStyles:s,variantClasses:m}=Ll(e),{densityClasses:g}=ft(e),{elevationClasses:c}=Ul(e),{roundedClasses:d}=tl(e),{sizeClasses:y}=Nl(e),{themeClasses:k}=lt(e),V=ce(e,"modelValue"),h=Hl(e,Vl,!1),x=Kl(e,t),T=b(()=>e.link!==!1&&x.isLink.value),I=b(()=>!e.disabled&&e.link!==!1&&(!!h||e.link||x.isClickable.value)),w=b(()=>({"aria-label":i(e.closeLabel),onClick(S){S.preventDefault(),S.stopPropagation(),V.value=!1,o("click:close",S)}}));function P(S){var $;o("click",S),I.value&&(($=x.navigate)==null||$.call(x,S),h==null||h.toggle())}function R(S){(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),P(S))}return()=>{var E;const S=x.isLink.value?"a":e.tag,$=!!(e.appendIcon||e.appendAvatar),U=!!($||l.append),B=!!(l.close||e.closable),F=!!(l.filter||e.filter)&&h,O=!!(e.prependIcon||e.prependAvatar),z=!!(O||l.prepend),A=!h||h.isSelected.value;return V.value&&Ie(a(S,G({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":I.value,"v-chip--filter":F,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&((E=x.isActive)==null?void 0:E.value)},k.value,u.value,A?r.value:void 0,g.value,c.value,d.value,y.value,m.value,h==null?void 0:h.selectedClass.value,e.class],style:[A?s.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:I.value?0:void 0,onClick:P,onKeydown:I.value&&!T.value&&R},x.linkProps),{default:()=>{var N;return[Gl(I.value,"v-chip"),F&&a(ll,{key:"filter"},{default:()=>[Ie(a("div",{class:"v-chip__filter"},[l.filter?a(Ce,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},l.filter):a(re,{key:"filter-icon",icon:e.filterIcon},null)]),[[bt,h.isSelected.value]])]}),z&&a("div",{key:"prepend",class:"v-chip__prepend"},[l.prepend?a(Ce,{key:"prepend-defaults",disabled:!O,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},l.prepend):a(ae,null,[e.prependIcon&&a(re,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&a(Ge,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),a("div",{class:"v-chip__content","data-no-activator":""},[((N=l.default)==null?void 0:N.call(l,{isSelected:h==null?void 0:h.isSelected.value,selectedClass:h==null?void 0:h.selectedClass.value,select:h==null?void 0:h.select,toggle:h==null?void 0:h.toggle,value:h==null?void 0:h.value.value,disabled:e.disabled}))??e.text]),U&&a("div",{key:"append",class:"v-chip__append"},[l.append?a(Ce,{key:"append-defaults",disabled:!$,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},l.append):a(ae,null,[e.appendIcon&&a(re,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&a(Ge,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),B&&a("button",G({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},w.value),[l.close?a(Ce,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},l.close):a(re,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[Ye("ripple"),I.value&&e.ripple,null]])}}}),Ma=J({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...fe(),...tt({transition:{component:Kt}})},"VCounter"),kl=ne()({name:"VCounter",functional:!0,props:Ma(),setup(e,n){let{slots:t}=n;const o=b(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return oe(()=>a(Gt,{transition:e.transition},{default:()=>[Ie(a("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[t.default?t.default({counter:o.value,max:e.max,value:e.value}):o.value]),[[bt,e.active]])]})),{}}}),Da=J({floating:Boolean,...fe()},"VFieldLabel"),Ne=ne()({name:"VFieldLabel",props:Da(),setup(e,n){let{slots:t}=n;return oe(()=>a(rl,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},t)),{}}}),$a=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],St=J({appendInnerIcon:de,bgColor:String,clearable:Boolean,clearIcon:{type:de,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:de,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>$a.includes(e)},"onClick:clear":Se(),"onClick:appendInner":Se(),"onClick:prependInner":Se(),...fe(),...jl(),...el(),...Be()},"VField"),Ct=ne()({name:"VField",inheritAttrs:!1,props:{id:String,...gl(),...St()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:o,slots:l}=n;const{themeClasses:i}=lt(e),{loaderClasses:u}=ql(e),{focusClasses:r,isFocused:s,focus:m,blur:g}=pt(e),{InputIcon:c}=ml(e),{roundedClasses:d}=tl(e),{rtlClasses:y}=yt(),k=b(()=>e.dirty||e.active),V=b(()=>!e.singleLine&&!!(e.label||l.label)),h=ze(),x=b(()=>e.id||`input-${h}`),T=b(()=>`${x.value}-messages`),I=D(),w=D(),P=D(),R=b(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:S,backgroundColorStyles:$}=Ht(ue(e,"bgColor")),{textColorClasses:U,textColorStyles:B}=Ze(b(()=>e.error||e.disabled?void 0:k.value&&s.value?e.color:e.baseColor));j(k,A=>{if(V.value){const E=I.value.$el,N=w.value.$el;requestAnimationFrame(()=>{const q=Wl(E),K=N.getBoundingClientRect(),f=K.x-q.x,v=K.y-q.y-(q.height/2-K.height/2),p=K.width/.75,_=Math.abs(p-q.width)>1?{maxWidth:Fe(p)}:void 0,X=getComputedStyle(E),M=getComputedStyle(N),W=parseFloat(X.transitionDuration)*1e3||150,Z=parseFloat(M.getPropertyValue("--v-field-label-scale")),ve=M.getPropertyValue("color");E.style.visibility="visible",N.style.visibility="hidden",Jl(E,{transform:`translate(${f}px, ${v}px) scale(${Z})`,color:ve,..._},{duration:W,easing:Zl,direction:A?"normal":"reverse"}).finished.then(()=>{E.style.removeProperty("visibility"),N.style.removeProperty("visibility")})})}},{flush:"post"});const F=b(()=>({isActive:k,isFocused:s,controlRef:P,blur:g,focus:m}));function O(A){A.target!==document.activeElement&&A.preventDefault()}function z(A){var E;A.key!=="Enter"&&A.key!==" "||(A.preventDefault(),A.stopPropagation(),(E=e["onClick:clear"])==null||E.call(e,new MouseEvent("click")))}return oe(()=>{var f,v,p;const A=e.variant==="outlined",E=!!(l["prepend-inner"]||e.prependInnerIcon),N=!!(e.clearable||l.clear),q=!!(l["append-inner"]||e.appendInnerIcon||N),K=()=>l.label?l.label({...F.value,label:e.label,props:{for:x.value}}):e.label;return a("div",G({class:["v-field",{"v-field--active":k.value,"v-field--appended":q,"v-field--center-affix":e.centerAffix??!R.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":E,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!K(),[`v-field--variant-${e.variant}`]:!0},i.value,S.value,r.value,u.value,d.value,y.value,e.class],style:[$.value,e.style],onClick:O},t),[a("div",{class:"v-field__overlay"},null),a(Xl,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),E&&a("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&a(c,{key:"prepend-icon",name:"prependInner"},null),(f=l["prepend-inner"])==null?void 0:f.call(l,F.value)]),a("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&V.value&&a(Ne,{key:"floating-label",ref:w,class:[U.value],floating:!0,for:x.value,style:B.value},{default:()=>[K()]}),V.value&&a(Ne,{key:"label",ref:I,for:x.value},{default:()=>[K()]}),(v=l.default)==null?void 0:v.call(l,{...F.value,props:{id:x.value,class:"v-field__input","aria-describedby":T.value},focus:m,blur:g})]),N&&a(ll,{key:"clear"},{default:()=>[Ie(a("div",{class:"v-field__clearable",onMousedown:_=>{_.preventDefault(),_.stopPropagation()}},[a(Ce,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[l.clear?l.clear({...F.value,props:{onKeydown:z,onFocus:m,onBlur:g,onClick:e["onClick:clear"]}}):a(c,{name:"clear",onKeydown:z,onFocus:m,onBlur:g},null)]})]),[[bt,e.dirty]])]}),q&&a("div",{key:"append",class:"v-field__append-inner"},[(p=l["append-inner"])==null?void 0:p.call(l,F.value),e.appendInnerIcon&&a(c,{key:"append-icon",name:"appendInner"},null)]),a("div",{class:["v-field__outline",U.value],style:B.value},[A&&a(ae,null,[a("div",{class:"v-field__outline__start"},null),V.value&&a("div",{class:"v-field__outline__notch"},[a(Ne,{ref:w,floating:!0,for:x.value},{default:()=>[K()]})]),a("div",{class:"v-field__outline__end"},null)]),R.value&&V.value&&a(Ne,{ref:w,floating:!0,for:x.value},{default:()=>[K()]})])])}),{controlRef:P}}});function Sl(e){const n=Object.keys(Ct.props).filter(t=>!Ql(t)&&t!=="class"&&t!=="style");return Yl(e,n)}const Oa=["color","file","time","date","datetime-local","week","month"],xt=J({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...kt(),...St()},"VTextField"),xe=ne()({name:"VTextField",directives:{Intersect:al},inheritAttrs:!1,props:xt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:o,slots:l}=n;const i=ce(e,"modelValue"),{isFocused:u,focus:r,blur:s}=pt(e),m=b(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:(i.value??"").toString().length),g=b(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),c=b(()=>["plain","underlined"].includes(e.variant));function d(R,S){var $,U;!e.autofocus||!R||(U=($=S[0].target)==null?void 0:$.focus)==null||U.call($)}const y=D(),k=D(),V=D(),h=b(()=>Oa.includes(e.type)||e.persistentPlaceholder||u.value||e.active);function x(){var R;V.value!==document.activeElement&&((R=V.value)==null||R.focus()),u.value||r()}function T(R){o("mousedown:control",R),R.target!==V.value&&(x(),R.preventDefault())}function I(R){x(),o("click:control",R)}function w(R){R.stopPropagation(),x(),be(()=>{i.value=null,nl(e["onClick:clear"],R)})}function P(R){var $;const S=R.target;if(i.value=S.value,($=e.modelModifiers)!=null&&$.trim&&["text","search","password","tel","url"].includes(e.type)){const U=[S.selectionStart,S.selectionEnd];be(()=>{S.selectionStart=U[0],S.selectionEnd=U[1]})}}return oe(()=>{const R=!!(l.counter||e.counter!==!1&&e.counter!=null),S=!!(R||l.details),[$,U]=vt(t),{modelValue:B,...F}=We.filterProps(e),O=Sl(e);return a(We,G({ref:y,modelValue:i.value,"onUpdate:modelValue":z=>i.value=z,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":c.value},e.class],style:e.style},$,F,{centerAffix:!c.value,focused:u.value}),{...l,default:z=>{let{id:A,isDisabled:E,isDirty:N,isReadonly:q,isValid:K}=z;return a(Ct,G({ref:k,onMousedown:T,onClick:I,"onClick:clear":w,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},O,{id:A.value,active:h.value||N.value,dirty:N.value||e.dirty,disabled:E.value,focused:u.value,error:K.value===!1}),{...l,default:f=>{let{props:{class:v,...p}}=f;const _=Ie(a("input",G({ref:V,value:i.value,onInput:P,autofocus:e.autofocus,readonly:q.value,disabled:E.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:x,onBlur:s},p,U),null),[[Ye("intersect"),{handler:d},null,{once:!0}]]);return a(ae,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[a("span",{class:"v-text-field__prefix__text"},[e.prefix])]),l.default?a("div",{class:v,"data-no-activator":""},[l.default(),_]):ea(_,{class:v}),e.suffix&&a("span",{class:"v-text-field__suffix"},[a("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:S?z=>{var A;return a(ae,null,[(A=l.details)==null?void 0:A.call(l,z),R&&a(ae,null,[a("span",null,null),a(kl,{active:e.persistentCounter||u.value,value:m.value,max:g.value,disabled:e.disabled},l.counter)])])}:void 0})}),Re({},y,k,V)}}),za=J({renderless:Boolean,...fe()},"VVirtualScrollItem"),La=ne()({name:"VVirtualScrollItem",inheritAttrs:!1,props:za(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:t,emit:o,slots:l}=n;const{resizeRef:i,contentRect:u}=Ke(void 0,"border");j(()=>{var r;return(r=u.value)==null?void 0:r.height},r=>{r!=null&&o("update:height",r)}),oe(()=>{var r,s;return e.renderless?a(ae,null,[(r=l.default)==null?void 0:r.call(l,{itemRef:i})]):a("div",G({ref:i,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(s=l.default)==null?void 0:s.call(l)])})}}),Ua=-1,Na=1,at=100,Ha=J({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Ka(e,n){const t=Qt(),o=Q(0);je(()=>{o.value=parseFloat(e.itemHeight||0)});const l=Q(0),i=Q(Math.ceil((parseInt(e.height)||t.height.value)/(o.value||16))||1),u=Q(0),r=Q(0),s=D(),m=D();let g=0;const{resizeRef:c,contentRect:d}=Ke();je(()=>{c.value=s.value});const y=b(()=>{var f;return s.value===document.documentElement?t.height.value:((f=d.value)==null?void 0:f.height)||parseInt(e.height)||0}),k=b(()=>!!(s.value&&m.value&&y.value&&o.value));let V=Array.from({length:n.value.length}),h=Array.from({length:n.value.length});const x=Q(0);let T=-1;function I(f){return V[f]||o.value}const w=ta(()=>{const f=performance.now();h[0]=0;const v=n.value.length;for(let p=1;p<=v-1;p++)h[p]=(h[p-1]||0)+I(p-1);x.value=Math.max(x.value,performance.now()-f)},x),P=j(k,f=>{f&&(P(),g=m.value.offsetTop,w.immediate(),E(),~T&&be(()=>{Pe&&window.requestAnimationFrame(()=>{q(T),T=-1})}))});dt(()=>{w.clear()});function R(f,v){const p=V[f],_=o.value;o.value=_?Math.min(o.value,v):v,(p!==v||_!==o.value)&&(V[f]=v,w())}function S(f){return f=He(f,0,n.value.length-1),h[f]||0}function $(f){return Ga(h,f)}let U=0,B=0,F=0;j(y,(f,v)=>{v&&(E(),f<v&&requestAnimationFrame(()=>{B=0,E()}))});function O(){if(!s.value||!m.value)return;const f=s.value.scrollTop,v=performance.now();v-F>500?(B=Math.sign(f-U),g=m.value.offsetTop):B=f-U,U=f,F=v,E()}function z(){!s.value||!m.value||(B=0,F=0,E())}let A=-1;function E(){cancelAnimationFrame(A),A=requestAnimationFrame(N)}function N(){if(!s.value||!y.value)return;const f=U-g,v=Math.sign(B),p=Math.max(0,f-at),_=He($(p),0,n.value.length),X=f+y.value+at,M=He($(X)+1,_+1,n.value.length);if((v!==Ua||_<l.value)&&(v!==Na||M>i.value)){const W=S(l.value)-S(_),Z=S(M)-S(i.value);Math.max(W,Z)>at?(l.value=_,i.value=M):(_<=0&&(l.value=_),M>=n.value.length&&(i.value=M))}u.value=S(l.value),r.value=S(n.value.length)-S(i.value)}function q(f){const v=S(f);!s.value||f&&!v?T=f:s.value.scrollTop=v}const K=b(()=>n.value.slice(l.value,i.value).map((f,v)=>({raw:f,index:v+l.value})));return j(n,()=>{V=Array.from({length:n.value.length}),h=Array.from({length:n.value.length}),w.immediate(),E()},{deep:!0}),{calculateVisibleItems:E,containerRef:s,markerRef:m,computedItems:K,paddingTop:u,paddingBottom:r,scrollToIndex:q,handleScroll:O,handleScrollend:z,handleItemResize:R}}function Ga(e,n){let t=e.length-1,o=0,l=0,i=null,u=-1;if(e[t]<n)return t;for(;o<=t;)if(l=o+t>>1,i=e[l],i>n)t=l-1;else if(i<n)u=l,o=l+1;else return i===n?l:o;return u}const ja=J({items:{type:Array,default:()=>[]},renderless:Boolean,...Ha(),...fe(),...Wt()},"VVirtualScroll"),Cl=ne()({name:"VVirtualScroll",props:ja(),setup(e,n){let{slots:t}=n;const o=qt("VVirtualScroll"),{dimensionStyles:l}=Jt(e),{calculateVisibleItems:i,containerRef:u,markerRef:r,handleScroll:s,handleScrollend:m,handleItemResize:g,scrollToIndex:c,paddingTop:d,paddingBottom:y,computedItems:k}=Ka(e,ue(e,"items"));return ot(()=>e.renderless,()=>{function V(){var T,I;const x=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";u.value===document.documentElement?(document[x]("scroll",s,{passive:!0}),document[x]("scrollend",m)):((T=u.value)==null||T[x]("scroll",s,{passive:!0}),(I=u.value)==null||I[x]("scrollend",m))}gt(()=>{u.value=la(o.vnode.el,!0),V(!0)}),dt(V)}),oe(()=>{const V=k.value.map(h=>a(La,{key:h.index,renderless:e.renderless,"onUpdate:height":x=>g(h.index,x)},{default:x=>{var T;return(T=t.default)==null?void 0:T.call(t,{item:h.raw,index:h.index,...x})}}));return e.renderless?a(ae,null,[a("div",{ref:r,class:"v-virtual-scroll__spacer",style:{paddingTop:Fe(d.value)}},null),V,a("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Fe(y.value)}},null)]):a("div",{ref:u,class:["v-virtual-scroll",e.class],onScrollPassive:s,onScrollend:m,style:[l.value,e.style]},[a("div",{ref:r,class:"v-virtual-scroll__container",style:{paddingTop:Fe(d.value),paddingBottom:Fe(y.value)}},[V])])}),{calculateVisibleItems:i,scrollToIndex:c}}});function xl(e,n){const t=Q(!1);let o;function l(r){cancelAnimationFrame(o),t.value=!0,o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{t.value=!1})})}async function i(){await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>{if(t.value){const s=j(t,()=>{s(),r()})}else r()})}async function u(r){var g,c;if(r.key==="Tab"&&((g=n.value)==null||g.focus()),!["PageDown","PageUp","Home","End"].includes(r.key))return;const s=(c=e.value)==null?void 0:c.$el;if(!s)return;(r.key==="Home"||r.key==="End")&&s.scrollTo({top:r.key==="Home"?0:s.scrollHeight,behavior:"smooth"}),await i();const m=s.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(r.key==="PageDown"||r.key==="Home"){const d=s.getBoundingClientRect().top;for(const y of m)if(y.getBoundingClientRect().top>=d){y.focus();break}}else{const d=s.getBoundingClientRect().bottom;for(const y of[...m].reverse())if(y.getBoundingClientRect().bottom<=d){y.focus();break}}}return{onScrollPassive:l,onKeydown:u}}const Il=J({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:de,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...aa({itemChildren:!1})},"Select"),qa=J({...Il(),...mt(xt({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...tt({transition:{component:Bt}})},"VSelect"),Wa=ne()({name:"VSelect",props:qa(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:t}=n;const{t:o}=et(),l=D(),i=D(),u=D(),r=ce(e,"menu"),s=b({get:()=>r.value,set:f=>{var v;r.value&&!f&&((v=i.value)!=null&&v.Î¨openChildren.size)||(r.value=f)}}),{items:m,transformIn:g,transformOut:c}=ol(e),d=ce(e,"modelValue",[],f=>g(f===null?[null]:pe(f)),f=>{const v=c(f);return e.multiple?v:v[0]??null}),y=b(()=>typeof e.counterValue=="function"?e.counterValue(d.value):typeof e.counterValue=="number"?e.counterValue:d.value.length),k=Vt(e),V=b(()=>d.value.map(f=>f.value)),h=Q(!1),x=b(()=>s.value?e.closeText:e.openText);let T="",I;const w=b(()=>e.hideSelected?m.value.filter(f=>!d.value.some(v=>e.valueComparator(v,f))):m.value),P=b(()=>e.hideNoData&&!w.value.length||k.isReadonly.value||k.isDisabled.value),R=b(()=>{var f;return{...e.menuProps,activatorProps:{...((f=e.menuProps)==null?void 0:f.activatorProps)||{},"aria-haspopup":"listbox"}}}),S=D(),$=xl(S,l);function U(f){e.openOnClear&&(s.value=!0)}function B(){P.value||(s.value=!s.value)}function F(f){it(f)&&O(f)}function O(f){var X,M;if(!f.key||k.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(f.key)&&f.preventDefault(),["Enter","ArrowDown"," "].includes(f.key)&&(s.value=!0),["Escape","Tab"].includes(f.key)&&(s.value=!1),f.key==="Home"?(X=S.value)==null||X.focus("first"):f.key==="End"&&((M=S.value)==null||M.focus("last"));const v=1e3;if(e.multiple||!it(f))return;const p=performance.now();p-I>v&&(T=""),T+=f.key.toLowerCase(),I=p;const _=m.value.find(W=>W.title.toLowerCase().startsWith(T));if(_!==void 0){d.value=[_];const W=w.value.indexOf(_);Pe&&window.requestAnimationFrame(()=>{var Z;W>=0&&((Z=u.value)==null||Z.scrollToIndex(W))})}}function z(f){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!f.props.disabled)if(e.multiple){const p=d.value.findIndex(X=>e.valueComparator(X.value,f.value)),_=v??!~p;if(~p){const X=_?[...d.value,f]:[...d.value];X.splice(p,1),d.value=X}else _&&(d.value=[...d.value,f])}else{const p=v!==!1;d.value=p?[f]:[],be(()=>{s.value=!1})}}function A(f){var v;(v=S.value)!=null&&v.$el.contains(f.relatedTarget)||(s.value=!1)}function E(){var f;e.eager&&((f=u.value)==null||f.calculateVisibleItems())}function N(){var f;h.value&&((f=l.value)==null||f.focus())}function q(f){h.value=!0}function K(f){if(f==null)d.value=[];else if($e(l.value,":autofill")||$e(l.value,":-webkit-autofill")){const v=m.value.find(p=>p.title===f);v&&z(v)}else l.value&&(l.value.value="")}return j(s,()=>{if(!e.hideSelected&&s.value&&d.value.length){const f=w.value.findIndex(v=>d.value.some(p=>e.valueComparator(p.value,v.value)));Pe&&window.requestAnimationFrame(()=>{var v;f>=0&&((v=u.value)==null||v.scrollToIndex(f))})}}),j(()=>e.items,(f,v)=>{s.value||h.value&&!v.length&&f.length&&(s.value=!0)}),oe(()=>{const f=!!(e.chips||t.chip),v=!!(!e.hideNoData||w.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),p=d.value.length>0,_=xe.filterProps(e),X=p||!h.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return a(xe,G({ref:l},_,{modelValue:d.value.map(M=>M.props.value).join(", "),"onUpdate:modelValue":K,focused:h.value,"onUpdate:focused":M=>h.value=M,validationValue:d.externalValue,counterValue:y.value,dirty:p,class:["v-select",{"v-select--active-menu":s.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":d.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:X,"onClick:clear":U,"onMousedown:control":B,onBlur:A,onKeydown:O,"aria-label":o(x.value),title:o(x.value)}),{...t,default:()=>a(ae,null,[a(il,G({ref:i,modelValue:s.value,"onUpdate:modelValue":M=>s.value=M,activator:"parent",contentClass:"v-select__content",disabled:P.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:E,onAfterLeave:N},R.value),{default:()=>[v&&a(ul,G({ref:S,selected:V.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:M=>M.preventDefault(),onKeydown:F,onFocusin:q,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},$,e.listProps),{default:()=>{var M,W,Z;return[(M=t["prepend-item"])==null?void 0:M.call(t),!w.value.length&&!e.hideNoData&&(((W=t["no-data"])==null?void 0:W.call(t))??a(qe,{title:o(e.noDataText)},null)),a(Cl,{ref:u,renderless:!0,items:w.value},{default:ve=>{var L;let{item:me,index:Ve,itemRef:te}=ve;const C=G(me.props,{ref:te,key:Ve,onClick:()=>z(me,null)});return((L=t.item)==null?void 0:L.call(t,{item:me,index:Ve,props:C}))??a(qe,G(C,{role:"option"}),{prepend:ee=>{let{isSelected:H}=ee;return a(ae,null,[e.multiple&&!e.hideSelected?a(fl,{key:me.value,modelValue:H,ripple:!1,tabindex:"-1"},null):void 0,me.props.prependAvatar&&a(Ge,{image:me.props.prependAvatar},null),me.props.prependIcon&&a(re,{icon:me.props.prependIcon},null)])}})}}),(Z=t["append-item"])==null?void 0:Z.call(t)]}})]}),d.value.map((M,W)=>{function Z(te){te.stopPropagation(),te.preventDefault(),z(M,!1)}const ve={"onClick:close":Z,onKeydown(te){te.key!=="Enter"&&te.key!==" "||(te.preventDefault(),te.stopPropagation(),Z(te))},onMousedown(te){te.preventDefault(),te.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},me=f?!!t.chip:!!t.selection,Ve=me?sl(f?t.chip({item:M,index:W,props:ve}):t.selection({item:M,index:W})):void 0;if(!(me&&!Ve))return a("div",{key:M.value,class:"v-select__selection"},[f?t.chip?a(Ce,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:M.title}}},{default:()=>[Ve]}):a(De,G({key:"chip",closable:e.closableChips,size:"small",text:M.title,disabled:M.props.disabled},ve),null):Ve??a("span",{class:"v-select__selection-text"},[M.title,e.multiple&&W<d.value.length-1&&a("span",{class:"v-select__selection-comma"},[he(",")])])])})]),"append-inner":function(){var ve;for(var M=arguments.length,W=new Array(M),Z=0;Z<M;Z++)W[Z]=arguments[Z];return a(ae,null,[(ve=t["append-inner"])==null?void 0:ve.call(t,...W),e.menuIcon?a(re,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Re({isFocused:h,menu:s,select:z},l)}}),Ja={class:"block text capitalize"};function Xa(e,n,t,o,l,i){return Ae(),nt(ae,null,[_e("label",Ja,ke(e.$props.path.replace("_"," ")),1),a(Wa,{modelValue:e.selected,"onUpdate:modelValue":[n[0]||(n[0]=u=>e.selected=u),e.handleChange],items:e.items,"item-title":"name","item-value":"id",loading:e.loading,"error-messages":e.errorMessage,name:e.$props.name,outlined:"",dense:"",clearable:""},null,8,["modelValue","items","onUpdate:modelValue","loading","error-messages","name"])],64)}const Qa=Qe(ba,[["render",Xa]]),Ya=Je({name:"SpiritForm",props:{spirit:{type:Object,required:!1,default:()=>({name:"",description:"",image:"",rating:0,spirit_type_id:null,spirit_style_id:null})}},components:{RecordForm:ha,SelectFromRequest:Qa},setup(e){Xe();const n=["Vanilla","Caramel","Spicy","Fruity","Floral","Herbal","Smoky","Woody"],t=D([]),o=D(""),l=D(""),i=D(""),u=b(()=>!!e.spirit.id),r=b(()=>u.value?`https://api.fordsdevelopment.co.uk/drinks/spirits/${e.spirit.id}`:"https://api.fordsdevelopment.co.uk/drinks/spirits"),s=b(()=>u.value?"PUT":"POST");return{isEditMode:u,endpoint:r,method:s,handleSave:async g=>{console.log(`${u.value?"Updated":"Created"} record:`,g),window.location.reload()},items:n,value:t,selectedSpiritType:o,selectedSpiritStyle:l,selectedDistillery:i}}}),Za=(e,n,t)=>e==null||n==null?-1:e.toString().toLocaleLowerCase().indexOf(n.toString().toLocaleLowerCase()),en=J({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function tn(e,n,t){var r;const o=[],l=(t==null?void 0:t.default)??Za,i=t!=null&&t.filterKeys?pe(t.filterKeys):!1,u=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return o;e:for(let s=0;s<e.length;s++){const[m,g=m]=pe(e[s]),c={},d={};let y=-1;if((n||u>0)&&!(t!=null&&t.noFilter)){if(typeof m=="object"){const h=i||Object.keys(g);for(const x of h){const T=na(g,x),I=(r=t==null?void 0:t.customKeyFilter)==null?void 0:r[x];if(y=I?I(T,n,m):l(T,n,m),y!==-1&&y!==!1)I?c[x]=y:d[x]=y;else if((t==null?void 0:t.filterMode)==="every")continue e}}else y=l(m,n,m),y!==-1&&y!==!1&&(d.title=y);const k=Object.keys(d).length,V=Object.keys(c).length;if(!k&&!V||(t==null?void 0:t.filterMode)==="union"&&V!==u&&!k||(t==null?void 0:t.filterMode)==="intersection"&&(V!==u||!k))continue}o.push({index:s,matches:{...d,...c}})}return o}function ln(e,n,t,o){const l=D([]),i=D(new Map),u=b(()=>Ee(n));je(()=>{const s=typeof t=="function"?t():Ee(t),m=typeof s!="string"&&typeof s!="number"?"":String(s),g=tn(u.value,m,{customKeyFilter:{...e.customKeyFilter,...Ee(o==null?void 0:o.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),c=Ee(n),d=[],y=new Map;g.forEach(k=>{let{index:V,matches:h}=k;const x=c[V];d.push(x),y.set(x.value,h)}),l.value=d,i.value=y});function r(s){return i.value.get(s.value)}return{filteredItems:l,filteredMatches:i,getMatches:r}}function an(e,n,t){if(n==null)return e;if(Array.isArray(n))throw new Error("Multiple matches is not implemented");return typeof n=="number"&&~n?a(ae,null,[a("span",{class:"v-autocomplete__unmask"},[e.substr(0,n)]),a("span",{class:"v-autocomplete__mask"},[e.substr(n,t)]),a("span",{class:"v-autocomplete__unmask"},[e.substr(n+t)])]):e}const nn=J({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...en({filterKeys:["title"]}),...Il(),...mt(xt({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...tt({transition:!1})},"VAutocomplete"),on=ne()({name:"VAutocomplete",props:nn(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:t}=n;const{t:o}=et(),l=D(),i=Q(!1),u=Q(!0),r=Q(!1),s=D(),m=D(),g=ce(e,"menu"),c=b({get:()=>g.value,set:C=>{var L;g.value&&!C&&((L=s.value)!=null&&L.Î¨openChildren.size)||(g.value=C)}}),d=Q(-1),y=b(()=>{var C;return(C=l.value)==null?void 0:C.color}),k=b(()=>c.value?e.closeText:e.openText),{items:V,transformIn:h,transformOut:x}=ol(e),{textColorClasses:T,textColorStyles:I}=Ze(y),w=ce(e,"search",""),P=ce(e,"modelValue",[],C=>h(C===null?[null]:pe(C)),C=>{const L=x(C);return e.multiple?L:L[0]??null}),R=b(()=>typeof e.counterValue=="function"?e.counterValue(P.value):typeof e.counterValue=="number"?e.counterValue:P.value.length),S=Vt(e),{filteredItems:$,getMatches:U}=ln(e,V,()=>u.value?"":w.value),B=b(()=>e.hideSelected?$.value.filter(C=>!P.value.some(L=>L.value===C.value)):$.value),F=b(()=>!!(e.chips||t.chip)),O=b(()=>F.value||!!t.selection),z=b(()=>P.value.map(C=>C.props.value)),A=b(()=>{var L;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&w.value===((L=B.value[0])==null?void 0:L.title))&&B.value.length>0&&!u.value&&!r.value}),E=b(()=>e.hideNoData&&!B.value.length||S.isReadonly.value||S.isDisabled.value),N=D(),q=xl(N,l);function K(C){e.openOnClear&&(c.value=!0),w.value=""}function f(){E.value||(c.value=!0)}function v(C){E.value||(i.value&&(C.preventDefault(),C.stopPropagation()),c.value=!c.value)}function p(C){var L;it(C)&&((L=l.value)==null||L.focus())}function _(C){var H,le,ge;if(S.isReadonly.value)return;const L=l.value.selectionStart,ee=P.value.length;if((d.value>-1||["Enter","ArrowDown","ArrowUp"].includes(C.key))&&C.preventDefault(),["Enter","ArrowDown"].includes(C.key)&&(c.value=!0),["Escape"].includes(C.key)&&(c.value=!1),A.value&&["Enter","Tab"].includes(C.key)&&!P.value.some(ie=>{let{value:se}=ie;return se===B.value[0].value})&&te(B.value[0]),C.key==="ArrowDown"&&A.value&&((H=N.value)==null||H.focus("next")),["Backspace","Delete"].includes(C.key)){if(!e.multiple&&O.value&&P.value.length>0&&!w.value)return te(P.value[0],!1);if(~d.value){const ie=d.value;te(P.value[d.value],!1),d.value=ie>=ee-1?ee-2:ie}else C.key==="Backspace"&&!w.value&&(d.value=ee-1)}if(e.multiple){if(C.key==="ArrowLeft"){if(d.value<0&&L>0)return;const ie=d.value>-1?d.value-1:ee-1;P.value[ie]?d.value=ie:(d.value=-1,l.value.setSelectionRange((le=w.value)==null?void 0:le.length,(ge=w.value)==null?void 0:ge.length))}if(C.key==="ArrowRight"){if(d.value<0)return;const ie=d.value+1;P.value[ie]?d.value=ie:(d.value=-1,l.value.setSelectionRange(0,0))}}}function X(C){if($e(l.value,":autofill")||$e(l.value,":-webkit-autofill")){const L=V.value.find(ee=>ee.title===C.target.value);L&&te(L)}}function M(){var C;e.eager&&((C=m.value)==null||C.calculateVisibleItems())}function W(){var C;i.value&&(u.value=!0,(C=l.value)==null||C.focus())}function Z(C){i.value=!0,setTimeout(()=>{r.value=!0})}function ve(C){r.value=!1}function me(C){(C==null||C===""&&!e.multiple&&!O.value)&&(P.value=[])}const Ve=Q(!1);function te(C){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!C||C.props.disabled))if(e.multiple){const ee=P.value.findIndex(le=>e.valueComparator(le.value,C.value)),H=L??!~ee;if(~ee){const le=H?[...P.value,C]:[...P.value];le.splice(ee,1),P.value=le}else H&&(P.value=[...P.value,C]);e.clearOnSelect&&(w.value="")}else{const ee=L!==!1;P.value=ee?[C]:[],w.value=ee&&!O.value?C.title:"",be(()=>{c.value=!1,u.value=!0})}}return j(i,(C,L)=>{var ee;C!==L&&(C?(Ve.value=!0,w.value=e.multiple||O.value?"":String(((ee=P.value.at(-1))==null?void 0:ee.props.title)??""),u.value=!0,be(()=>Ve.value=!1)):(!e.multiple&&w.value==null&&(P.value=[]),c.value=!1,P.value.some(H=>{let{title:le}=H;return le===w.value})||(w.value=""),d.value=-1))}),j(w,C=>{!i.value||Ve.value||(C&&(c.value=!0),u.value=!C)}),j(c,()=>{if(!e.hideSelected&&c.value&&P.value.length){const C=B.value.findIndex(L=>P.value.some(ee=>L.value===ee.value));Pe&&window.requestAnimationFrame(()=>{var L;C>=0&&((L=m.value)==null||L.scrollToIndex(C))})}}),j(()=>e.items,(C,L)=>{c.value||i.value&&!L.length&&C.length&&(c.value=!0)}),oe(()=>{const C=!!(!e.hideNoData||B.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),L=P.value.length>0,ee=xe.filterProps(e);return a(xe,G({ref:l},ee,{modelValue:w.value,"onUpdate:modelValue":[H=>w.value=H,me],focused:i.value,"onUpdate:focused":H=>i.value=H,validationValue:P.externalValue,counterValue:R.value,dirty:L,onChange:X,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":c.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!O.value,"v-autocomplete--selecting-index":d.value>-1},e.class],style:e.style,readonly:S.isReadonly.value,placeholder:L?void 0:e.placeholder,"onClick:clear":K,"onMousedown:control":f,onKeydown:_}),{...t,default:()=>a(ae,null,[a(il,G({ref:s,modelValue:c.value,"onUpdate:modelValue":H=>c.value=H,activator:"parent",contentClass:"v-autocomplete__content",disabled:E.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:M,onAfterLeave:W},e.menuProps),{default:()=>[C&&a(ul,G({ref:N,selected:z.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:H=>H.preventDefault(),onKeydown:p,onFocusin:Z,onFocusout:ve,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},q,e.listProps),{default:()=>{var H,le,ge;return[(H=t["prepend-item"])==null?void 0:H.call(t),!B.value.length&&!e.hideNoData&&(((le=t["no-data"])==null?void 0:le.call(t))??a(qe,{title:o(e.noDataText)},null)),a(Cl,{ref:m,renderless:!0,items:B.value},{default:ie=>{var wt;let{item:se,index:we,itemRef:ye}=ie;const It=G(se.props,{ref:ye,key:we,active:A.value&&we===0?!0:void 0,onClick:()=>te(se,null)});return((wt=t.item)==null?void 0:wt.call(t,{item:se,index:we,props:It}))??a(qe,G(It,{role:"option"}),{prepend:Le=>{let{isSelected:Ue}=Le;return a(ae,null,[e.multiple&&!e.hideSelected?a(fl,{key:se.value,modelValue:Ue,ripple:!1,tabindex:"-1"},null):void 0,se.props.prependAvatar&&a(Ge,{image:se.props.prependAvatar},null),se.props.prependIcon&&a(re,{icon:se.props.prependIcon},null)])},title:()=>{var Le,Ue;return u.value?se.title:an(se.title,(Le=U(se))==null?void 0:Le.title,((Ue=w.value)==null?void 0:Ue.length)??0)}})}}),(ge=t["append-item"])==null?void 0:ge.call(t)]}})]}),P.value.map((H,le)=>{function ge(ye){ye.stopPropagation(),ye.preventDefault(),te(H,!1)}const ie={"onClick:close":ge,onKeydown(ye){ye.key!=="Enter"&&ye.key!==" "||(ye.preventDefault(),ye.stopPropagation(),ge(ye))},onMousedown(ye){ye.preventDefault(),ye.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},se=F.value?!!t.chip:!!t.selection,we=se?sl(F.value?t.chip({item:H,index:le,props:ie}):t.selection({item:H,index:le})):void 0;if(!(se&&!we))return a("div",{key:H.value,class:["v-autocomplete__selection",le===d.value&&["v-autocomplete__selection--selected",T.value]],style:le===d.value?I.value:{}},[F.value?t.chip?a(Ce,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:H.title}}},{default:()=>[we]}):a(De,G({key:"chip",closable:e.closableChips,size:"small",text:H.title,disabled:H.props.disabled},ie),null):we??a("span",{class:"v-autocomplete__selection-text"},[H.title,e.multiple&&le<P.value.length-1&&a("span",{class:"v-autocomplete__selection-comma"},[he(",")])])])})]),"append-inner":function(){var ie;for(var H=arguments.length,le=new Array(H),ge=0;ge<H;ge++)le[ge]=arguments[ge];return a(ae,null,[(ie=t["append-inner"])==null?void 0:ie.call(t,...le),e.menuIcon?a(re,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:v,onClick:oa,"aria-label":o(k.value),title:o(k.value),tabindex:"-1"},null):void 0])}})}),Re({isFocused:i,isPristine:u,menu:c,search:w,filteredItems:$,select:te},l)}}),un=J({...fe(),...Ia()},"VForm"),sn=ne()({name:"VForm",props:un(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,n){let{slots:t,emit:o}=n;const l=wa(e),i=D();function u(s){s.preventDefault(),l.reset()}function r(s){const m=s,g=l.validate();m.then=g.then.bind(g),m.catch=g.catch.bind(g),m.finally=g.finally.bind(g),o("submit",m),m.defaultPrevented||g.then(c=>{var y;let{valid:d}=c;d&&((y=i.value)==null||y.submit())}),m.preventDefault()}return oe(()=>{var s;return a("form",{ref:i,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:u,onSubmit:r},[(s=t.default)==null?void 0:s.call(t,l)])}),Re(l,i)}}),rn=J({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...kt(),...St()},"VTextarea"),cn=ne()({name:"VTextarea",directives:{Intersect:al},inheritAttrs:!1,props:rn(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:o,slots:l}=n;const i=ce(e,"modelValue"),{isFocused:u,focus:r,blur:s}=pt(e),m=b(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value||"").toString().length),g=b(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function c(F,O){var z,A;!e.autofocus||!F||(A=(z=O[0].target)==null?void 0:z.focus)==null||A.call(z)}const d=D(),y=D(),k=Q(""),V=D(),h=b(()=>e.persistentPlaceholder||u.value||e.active);function x(){var F;V.value!==document.activeElement&&((F=V.value)==null||F.focus()),u.value||r()}function T(F){x(),o("click:control",F)}function I(F){o("mousedown:control",F)}function w(F){F.stopPropagation(),x(),be(()=>{i.value="",nl(e["onClick:clear"],F)})}function P(F){var z;const O=F.target;if(i.value=O.value,(z=e.modelModifiers)!=null&&z.trim){const A=[O.selectionStart,O.selectionEnd];be(()=>{O.selectionStart=A[0],O.selectionEnd=A[1]})}}const R=D(),S=D(+e.rows),$=b(()=>["plain","underlined"].includes(e.variant));je(()=>{e.autoGrow||(S.value=+e.rows)});function U(){e.autoGrow&&be(()=>{if(!R.value||!y.value)return;const F=getComputedStyle(R.value),O=getComputedStyle(y.value.$el),z=parseFloat(F.getPropertyValue("--v-field-padding-top"))+parseFloat(F.getPropertyValue("--v-input-padding-top"))+parseFloat(F.getPropertyValue("--v-field-padding-bottom")),A=R.value.scrollHeight,E=parseFloat(F.lineHeight),N=Math.max(parseFloat(e.rows)*E+z,parseFloat(O.getPropertyValue("--v-input-control-height"))),q=parseFloat(e.maxRows)*E+z||1/0,K=He(A??0,N,q);S.value=Math.floor((K-z)/E),k.value=Fe(K)})}gt(U),j(i,U),j(()=>e.rows,U),j(()=>e.maxRows,U),j(()=>e.density,U);let B;return j(R,F=>{F?(B=new ResizeObserver(U),B.observe(R.value)):B==null||B.disconnect()}),rt(()=>{B==null||B.disconnect()}),oe(()=>{const F=!!(l.counter||e.counter||e.counterValue),O=!!(F||l.details),[z,A]=vt(t),{modelValue:E,...N}=We.filterProps(e),q=Sl(e);return a(We,G({ref:d,modelValue:i.value,"onUpdate:modelValue":K=>i.value=K,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":$.value},e.class],style:e.style},z,N,{centerAffix:S.value===1&&!$.value,focused:u.value}),{...l,default:K=>{let{id:f,isDisabled:v,isDirty:p,isReadonly:_,isValid:X}=K;return a(Ct,G({ref:y,style:{"--v-textarea-control-height":k.value},onClick:T,onMousedown:I,"onClick:clear":w,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},q,{id:f.value,active:h.value||p.value,centerAffix:S.value===1&&!$.value,dirty:p.value||e.dirty,disabled:v.value,focused:u.value,error:X.value===!1}),{...l,default:M=>{let{props:{class:W,...Z}}=M;return a(ae,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[e.prefix]),Ie(a("textarea",G({ref:V,class:W,value:i.value,onInput:P,autofocus:e.autofocus,readonly:_.value,disabled:v.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:x,onBlur:s},Z,A),null),[[Ye("intersect"),{handler:c},null,{once:!0}]]),e.autoGrow&&Ie(a("textarea",{class:[W,"v-textarea__sizer"],id:`${Z.id}-sizer`,"onUpdate:modelValue":ve=>i.value=ve,ref:R,readonly:!0,"aria-hidden":"true"},null),[[ia,i.value]]),e.suffix&&a("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:O?K=>{var f;return a(ae,null,[(f=l.details)==null?void 0:f.call(l,K),F&&a(ae,null,[a("span",null,null),a(kl,{active:e.persistentCounter||u.value,value:m.value,max:g.value,disabled:e.disabled},l.counter)])])}:void 0})}),Re({},d,y,V)}});function dn(e,n,t,o,l,i){const u=ut("SelectFromRequest"),r=ut("RecordForm");return Ae(),st(r,{record:e.spirit,endpoint:e.endpoint,method:e.method,onSave:e.handleSave},{trigger:Y(({openDialog:s})=>[Te(e.$slots,"trigger",{openDialog:s},()=>[a(Me,{color:"primary"},{default:Y(()=>[he(ke(e.isEditMode?"Edit Spirit":"Add Spirit"),1)]),_:1})])]),title:Y(()=>[_e("span",null,ke(e.isEditMode?"Edit Spirit":"Add New Spirit"),1)]),form:Y(({record:s})=>[a(sn,null,{default:Y(()=>[a(xe,{modelValue:s.name,"onUpdate:modelValue":m=>s.name=m,label:"Name",required:""},null,8,["modelValue","onUpdate:modelValue"]),a(cn,{modelValue:s.description,"onUpdate:modelValue":m=>s.description=m,label:"Description",rows:"4",required:""},null,8,["modelValue","onUpdate:modelValue"]),a(xe,{modelValue:s.image,"onUpdate:modelValue":m=>s.image=m,label:"Image"},null,8,["modelValue","onUpdate:modelValue"]),a(xe,{modelValue:s.rating,"onUpdate:modelValue":m=>s.rating=m,label:"Rating"},null,8,["modelValue","onUpdate:modelValue"]),a(xe,{modelValue:s.ppm,"onUpdate:modelValue":m=>s.ppm=m,label:"Ppm"},null,8,["modelValue","onUpdate:modelValue"]),a(u,{path:"spirit_types",key:"name",name:"spirit_type_id",modelValue:s.spirit_type_id,"onUpdate:modelValue":m=>s.spirit_type_id=m},null,8,["modelValue","onUpdate:modelValue"]),a(u,{path:"spirit_styles",key:"name",name:"spirit_style_id",modelValue:s.spirit_style_id,"onUpdate:modelValue":m=>s.spirit_style_id=m},null,8,["modelValue","onUpdate:modelValue"]),a(on,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=m=>e.value=m),items:e.items,label:"Searchable Chips",chips:"",multiple:""},null,8,["modelValue","items"])]),_:2},1024)]),_:3},8,["record","endpoint","method","onSave"])}const vn=Qe(Ya,[["render",dn]]),fn=Je({name:"Spirit",props:{spirit:{type:Object,required:!0}},components:{SpiritForm:vn},setup(e){const n=D({...e.spirit}),t=Xe(),o=b(()=>`https://api.fordsdevelopment.co.uk/drinks/spirits/${e.spirit.id}`);return{editedSpirit:n,saveChanges:async({data:i,endpoint:u})=>{try{const r=await fetch(u,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`},body:JSON.stringify(i)});if(!r.ok)throw new Error(`Error: ${r.status} - ${r.statusText}`);const s=await r.json();n.value=s,window.location.reload()}catch(r){console.error("Error saving spirit:",r)}},endpoint:o}}}),mn={class:"image-container"},gn={class:"my-4 text-subtitle-1 spirit-factory"};function yn(e,n,t,o,l,i){const u=ut("SpiritForm");return Ae(),st(Et,null,{default:Y(()=>[a(ca,{cols:"12"},{default:Y(()=>[a(u,{spirit:e.spirit},{trigger:Y(({openDialog:r})=>[a(Me,{density:"comfortable",icon:"mdi-dots-vertical",variant:"tonal",onClick:r},null,8,["onClick"])]),_:1},8,["spirit"])]),_:1}),_e("div",mn,[a(ua,{height:"250",src:e.spirit.image,contain:""},null,8,["src"])]),a(sa,null,{default:Y(()=>[a(Mt,null,{default:Y(()=>[he(ke(e.spirit.name),1)]),_:1})]),_:1}),a(Dt,null,{default:Y(()=>[a(ra,{align:"center",class:"mx-0"},{default:Y(()=>[a(da,{"model-value":e.spirit.rating,color:"amber",density:"compact",size:"small","half-increments":"",readonly:""},null,8,["model-value"])]),_:1}),_e("p",gn,[a(re,{color:"black",icon:"mdi-factory",size:"large"}),he(" "+ke(e.spirit.distilleries.map(r=>r.name).join(", ")||"No distillery."),1)]),_e("div",null,[a(De,{class:"mb-2 mr-2",color:e.spirit.spirit_type.colour,size:"small",label:""},{default:Y(()=>[a(re,{icon:e.spirit.spirit_type.icon,start:""},null,8,["icon"]),he(" "+ke(e.spirit.spirit_type.name),1)]),_:1},8,["color"]),a(De,{class:"mb-2 mr-2",color:e.spirit.spirit_type.colour,size:"small",label:""},{default:Y(()=>[a(re,{icon:e.spirit.spirit_style.icon,start:""},null,8,["icon"]),he(" "+ke(e.spirit.spirit_style.name),1)]),_:1},8,["color"]),e.spirit.ppm?(Ae(),st(De,{key:0,class:"mb-2",color:"#8c4f00",size:"small",label:""},{default:Y(()=>[a(re,{icon:"mdi mdi-smoke",start:""}),he(" "+ke(e.spirit.ppm),1)]),_:1})):$t("",!0)]),_e("div",null,ke(e.spirit.description||"No description."),1)]),_:1})]),_:1})}const Vn=Qe(fn,[["render",yn]]);export{Vn as S,vn as a,Qa as b};
