import{d as Xe,r as D,u as Je,a9 as j,p as X,aa as wl,ab as Tt,v as ne,x as ce,ac as Pl,ad as rt,ae as Pe,af as be,Q as oe,ag as Pt,O as G,a as l,M as Ce,ah as Re,ai as Bt,_ as Qe,o as _e,S as nt,aj as Be,w as Y,a7 as Et,a3 as Mt,W as he,a5 as Dt,X as ke,T as $t,a6 as Fl,N as Me,ak as Se,m as fe,s as Te,I as de,al as Ot,h as ct,am as ze,e as b,an as zt,ao as dt,ap as Lt,H as ue,aq as Ut,ar as Q,as as vt,at as Ie,au as Ye,U as ae,L as re,av as Ht,A as ft,R as pe,G as Ze,P as Nt,aw as $e,ax as mt,J as et,ay as tt,az as Kt,aA as Gt,aB as jt,aC as Al,aD as qt,aE as Ee,aF as _l,f as gt,aG as ot,aH as Rl,i as Wt,B as Xt,y as lt,a8 as yt,aI as Tl,q as ht,aJ as Jt,aK as Qt,aL as Yt,aM as Ke,aN as Bl,aO as Ft,t as Zt,aP as El,j as Ml,aQ as Dl,n as el,aR as $l,aS as Ol,aT as zl,z as Ll,C as Ul,F as tl,aU as Hl,aV as Nl,aW as Kl,K as Gl,aX as ll,aY as bt,aZ as Ge,a_ as jl,a$ as ql,b0 as Wl,b1 as Fe,b2 as Xl,b3 as Jl,b4 as Ql,b5 as Yl,b6 as Zl,b7 as al,b8 as ea,b9 as nl,ba as je,bb as Ne,bc as ta,bd as la,be as aa,bf as ol,bg as il,bh as ul,bi as qe,bj as sl,bk as it,b as Ae,bl as na,bm as oa,bn as ia,Z as ut,c as st,a1 as ua,a2 as sa,V as ra}from"./index-D2dlZQRr.js";import{V as ca}from"./VCol-Dz9B0k35.js";import{V as da}from"./VRating-4qwSQ0g4.js";const va=Xe({name:"RecordForm",props:{record:{type:Object,default:()=>({})},endpoint:{type:String,required:!0},method:{type:String,default:"POST"}},setup(e){const n=D(!1),t=D({...e.record}),o=D(null),a=Je();return j(()=>e.record,r=>{t.value={...r}},{deep:!0,immediate:!0}),{dialog:n,localRecord:t,openDialog:()=>{n.value=!0},saveRecord:async()=>{o.value=null;const r=await fetch(e.endpoint,{method:e.method,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.accessToken}`},body:JSON.stringify(t.value)});r.ok?window.location.reload():o.value=await r.json()},errorMessage:o}}}),fa=X({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...wl({origin:"center center",scrollStrategy:"block",transition:{component:Tt},zIndex:2400})},"VDialog"),ma=ne()({name:"VDialog",props:fa(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,n){let{emit:t,slots:o}=n;const a=ce(e,"modelValue"),{scopeId:u}=Pl(),i=D();function r(g){var y,k;const c=g.relatedTarget,d=g.target;if(c!==d&&((y=i.value)!=null&&y.contentEl)&&((k=i.value)!=null&&k.globalTop)&&![document,i.value.contentEl].includes(d)&&!i.value.contentEl.contains(d)){const V=Bt(i.value.contentEl);if(!V.length)return;const h=V[0],x=V[V.length-1];c===h?x.focus():h.focus()}}rt(()=>{document.removeEventListener("focusin",r)}),Pe&&j(()=>a.value&&e.retainFocus,g=>{g?document.addEventListener("focusin",r):document.removeEventListener("focusin",r)},{immediate:!0});function s(){var g;t("afterEnter"),(g=i.value)!=null&&g.contentEl&&!i.value.contentEl.contains(document.activeElement)&&i.value.contentEl.focus({preventScroll:!0})}function m(){t("afterLeave")}return j(a,async g=>{var c;g||(await be(),(c=i.value.activatorEl)==null||c.focus({preventScroll:!0}))}),oe(()=>{const g=Pt.filterProps(e),c=G({"aria-haspopup":"dialog"},e.activatorProps),d=G({tabindex:-1},e.contentProps);return l(Pt,G({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},g,{modelValue:a.value,"onUpdate:modelValue":y=>a.value=y,"aria-modal":"true",activatorProps:c,contentProps:d,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:s,onAfterLeave:m},u),{activator:o.activator,default:function(){for(var y=arguments.length,k=new Array(y),V=0;V<y;V++)k[V]=arguments[V];return l(Ce,{root:"VDialog"},{default:()=>{var h;return[(h=o.default)==null?void 0:h.call(o,...k)]}})}})}),Re({},i)}}),ga={key:0,class:"error text-center"};function ya(e,n,t,o,a,u){return _e(),nt("div",null,[Be(e.$slots,"trigger",{openDialog:e.openDialog},()=>[l(Me,{color:"primary",onClick:e.openDialog},{default:Y(()=>n[2]||(n[2]=[he("Add Record")])),_:1},8,["onClick"])]),l(ma,{modelValue:e.dialog,"onUpdate:modelValue":n[1]||(n[1]=i=>e.dialog=i),"max-width":"500"},{default:Y(()=>[l(Et,null,{default:Y(()=>[l(Mt,null,{default:Y(()=>[Be(e.$slots,"title",{},()=>[n[3]||(n[3]=he("Add/Edit Record"))])]),_:3}),l(Dt,null,{default:Y(()=>[Be(e.$slots,"form",{record:e.localRecord},()=>[n[4]||(n[4]=he("No form provided"))])]),_:3}),e.errorMessage?(_e(),nt("p",ga,ke(e.errorMessage),1)):$t("",!0),l(Fl,null,{default:Y(()=>[Be(e.$slots,"actions",{},()=>[l(Me,{text:"",color:"secondary",onClick:n[0]||(n[0]=i=>e.dialog=!1)},{default:Y(()=>n[5]||(n[5]=[he("Cancel")])),_:1}),l(Me,{text:"",color:"primary",onClick:e.saveRecord},{default:Y(()=>n[6]||(n[6]=[he("Save")])),_:1},8,["onClick"])])]),_:3})]),_:3})]),_:3},8,["modelValue"])])}const ha=Qe(va,[["render",ya]]),ba=Xe({name:"SelectFromRequest",props:{path:{type:String,required:!0},key:{type:String,required:!0},name:{type:String,required:!0},value:{type:String,required:!0}},emits:["update:value"],setup(e,{emit:n}){const t=Je(),o=D([]),a=D(e.value),u=D(!0),i=D(null),r=3;let s=0;const m=async()=>{if(t.accessToken){u.value=!0,i.value=null;try{const c=await fetch(`https://api.fordsdevelopment.co.uk/drinks/${e.path}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});if(!c.ok){if(c.status===500&&s<r){s++,setTimeout(m,500);return}throw new Error(`HTTP error! status: ${c.status}`)}const y=(await c.json()).map(k=>k.name);o.value=Array.isArray(y)?y:[],u.value=!1}catch(c){console.error("Error fetching items:",c),u.value=!1,i.value=c instanceof Error?c.message:String(c)}}},g=c=>{const d=c.target;a.value=d.value,n("update:value",d.value)};return j(()=>e.path,()=>{t.accessToken&&m()},{immediate:!0}),j(()=>t.accessToken,c=>{c&&m()},{immediate:!0}),j(()=>e.value,c=>{a.value=c}),{items:o,selected:a,handleChange:g,loading:u,errorMessage:i}}}),pa=X({text:String,onClick:Se(),...fe(),...Te()},"VLabel"),rl=ne()({name:"VLabel",props:pa(),setup(e,n){let{slots:t}=n;return oe(()=>{var o;return l("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(o=t.default)==null?void 0:o.call(t)])}),{}}}),cl=Symbol.for("vuetify:selection-control-group"),dl=X({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:de,trueIcon:de,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Ot},...fe(),...ct(),...Te()},"SelectionControlGroup"),Va=X({...dl({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");ne()({name:"VSelectionControlGroup",props:Va(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const o=ce(e,"modelValue"),a=ze(),u=b(()=>e.id||`v-selection-control-group-${a}`),i=b(()=>e.name||u.value),r=new Set;return zt(cl,{modelValue:o,forceUpdate:()=>{r.forEach(s=>s())},onForceUpdate:s=>{r.add(s),dt(()=>{r.delete(s)})}}),Lt({[e.defaultsTarget]:{color:ue(e,"color"),disabled:ue(e,"disabled"),density:ue(e,"density"),error:ue(e,"error"),inline:ue(e,"inline"),modelValue:o,multiple:b(()=>!!e.multiple||e.multiple==null&&Array.isArray(o.value)),name:i,falseIcon:ue(e,"falseIcon"),trueIcon:ue(e,"trueIcon"),readonly:ue(e,"readonly"),ripple:ue(e,"ripple"),type:ue(e,"type"),valueComparator:ue(e,"valueComparator")}}),oe(()=>{var s;return l("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(s=t.default)==null?void 0:s.call(t)])}),{}}});const vl=X({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...fe(),...dl()},"VSelectionControl");function ka(e){const n=Ht(cl,void 0),{densityClasses:t}=ft(e),o=ce(e,"modelValue"),a=b(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),u=b(()=>e.falseValue!==void 0?e.falseValue:!1),i=b(()=>!!e.multiple||e.multiple==null&&Array.isArray(o.value)),r=b({get(){const y=n?n.modelValue.value:o.value;return i.value?pe(y).some(k=>e.valueComparator(k,a.value)):e.valueComparator(y,a.value)},set(y){if(e.readonly)return;const k=y?a.value:u.value;let V=k;i.value&&(V=y?[...pe(o.value),k]:pe(o.value).filter(h=>!e.valueComparator(h,a.value))),n?n.modelValue.value=V:o.value=V}}),{textColorClasses:s,textColorStyles:m}=Ze(b(()=>{if(!(e.error||e.disabled))return r.value?e.color:e.baseColor})),{backgroundColorClasses:g,backgroundColorStyles:c}=Nt(b(()=>r.value&&!e.error&&!e.disabled?e.color:e.baseColor)),d=b(()=>r.value?e.trueIcon:e.falseIcon);return{group:n,densityClasses:t,trueValue:a,falseValue:u,model:r,textColorClasses:s,textColorStyles:m,backgroundColorClasses:g,backgroundColorStyles:c,icon:d}}const At=ne()({name:"VSelectionControl",directives:{Ripple:Ut},inheritAttrs:!1,props:vl(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:t,slots:o}=n;const{group:a,densityClasses:u,icon:i,model:r,textColorClasses:s,textColorStyles:m,backgroundColorClasses:g,backgroundColorStyles:c,trueValue:d}=ka(e),y=ze(),k=Q(!1),V=Q(!1),h=D(),x=b(()=>e.id||`input-${y}`),B=b(()=>!e.disabled&&!e.readonly);a==null||a.onForceUpdate(()=>{h.value&&(h.value.checked=r.value)});function I(S){B.value&&(k.value=!0,$e(S.target,":focus-visible")!==!1&&(V.value=!0))}function w(){k.value=!1,V.value=!1}function P(S){S.stopPropagation()}function R(S){if(!B.value){h.value&&(h.value.checked=r.value);return}e.readonly&&a&&be(()=>a.forceUpdate()),r.value=S.target.checked}return oe(()=>{var F,O;const S=o.label?o.label({label:e.label,props:{for:x.value}}):e.label,[$,U]=vt(t),T=l("input",G({ref:h,checked:r.value,disabled:!!e.disabled,id:x.value,onBlur:w,onFocus:I,onInput:R,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:d.value,name:e.name,"aria-checked":e.type==="checkbox"?r.value:void 0},U),null);return l("div",G({class:["v-selection-control",{"v-selection-control--dirty":r.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":k.value,"v-selection-control--focus-visible":V.value,"v-selection-control--inline":e.inline},u.value,e.class]},$,{style:e.style}),[l("div",{class:["v-selection-control__wrapper",s.value],style:m.value},[(F=o.default)==null?void 0:F.call(o,{backgroundColorClasses:g,backgroundColorStyles:c}),Ie(l("div",{class:["v-selection-control__input"]},[((O=o.input)==null?void 0:O.call(o,{model:r,textColorClasses:s,textColorStyles:m,backgroundColorClasses:g,backgroundColorStyles:c,inputNode:T,icon:i.value,props:{onFocus:I,onBlur:w,id:x.value}}))??l(ae,null,[i.value&&l(re,{key:"icon",icon:i.value},null),T])]),[[Ye("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),S&&l(rl,{for:x.value,onClick:P},{default:()=>[S]})])}),{isFocused:k,input:h}}}),Sa=X({indeterminate:Boolean,indeterminateIcon:{type:de,default:"$checkboxIndeterminate"},...vl({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),fl=ne()({name:"VCheckboxBtn",props:Sa(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,n){let{slots:t}=n;const o=ce(e,"indeterminate"),a=ce(e,"modelValue");function u(s){o.value&&(o.value=!1)}const i=b(()=>o.value?e.indeterminateIcon:e.falseIcon),r=b(()=>o.value?e.indeterminateIcon:e.trueIcon);return oe(()=>{const s=mt(At.filterProps(e),["modelValue"]);return l(At,G(s,{modelValue:a.value,"onUpdate:modelValue":[m=>a.value=m,u],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:i.value,trueIcon:r.value,"aria-checked":o.value?"mixed":void 0}),t)}),{}}});function ml(e){const{t:n}=et();function t(o){let{name:a}=o;const u={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[a],i=e[`onClick:${a}`],r=i&&u?n(`$vuetify.input.${u}`,e.label??""):void 0;return l(re,{icon:e[`${a}Icon`],"aria-label":r,onClick:i},null)}return{InputIcon:t}}const Ca=X({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...fe(),...tt({transition:{component:Kt,leaveAbsolute:!0,group:!0}})},"VMessages"),xa=ne()({name:"VMessages",props:Ca(),setup(e,n){let{slots:t}=n;const o=b(()=>pe(e.messages)),{textColorClasses:a,textColorStyles:u}=Ze(b(()=>e.color));return oe(()=>l(Gt,{transition:e.transition,tag:"div",class:["v-messages",a.value,e.class],style:[u.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&o.value.map((i,r)=>l("div",{class:"v-messages__message",key:`${r}-${o.value}`},[t.message?t.message({message:i}):i]))]})),{}}}),gl=X({focused:Boolean,"onUpdate:focused":Se()},"focus");function pt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt();const t=ce(e,"focused"),o=b(()=>({[`${n}--focused`]:t.value}));function a(){t.value=!0}function u(){t.value=!1}return{focusClasses:o,isFocused:t,focus:a,blur:u}}const yl=Symbol.for("vuetify:form"),Ia=X({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function wa(e){const n=ce(e,"modelValue"),t=b(()=>e.disabled),o=b(()=>e.readonly),a=Q(!1),u=D([]),i=D([]);async function r(){const g=[];let c=!0;i.value=[],a.value=!0;for(const d of u.value){const y=await d.validate();if(y.length>0&&(c=!1,g.push({id:d.id,errorMessages:y})),!c&&e.fastFail)break}return i.value=g,a.value=!1,{valid:c,errors:i.value}}function s(){u.value.forEach(g=>g.reset())}function m(){u.value.forEach(g=>g.resetValidation())}return j(u,()=>{let g=0,c=0;const d=[];for(const y of u.value)y.isValid===!1?(c++,d.push({id:y.id,errorMessages:y.errorMessages})):y.isValid===!0&&g++;i.value=d,n.value=c>0?!1:g===u.value.length?!0:null},{deep:!0,flush:"post"}),zt(yl,{register:g=>{let{id:c,vm:d,validate:y,reset:k,resetValidation:V}=g;u.value.some(h=>h.id===c),u.value.push({id:c,validate:y,reset:k,resetValidation:V,vm:Al(d),isValid:null,errorMessages:[]})},unregister:g=>{u.value=u.value.filter(c=>c.id!==g)},update:(g,c,d)=>{const y=u.value.find(k=>k.id===g);y&&(y.isValid=c,y.errorMessages=d)},isDisabled:t,isReadonly:o,isValidating:a,isValid:n,items:u,validateOn:ue(e,"validateOn")}),{errors:i,isDisabled:t,isReadonly:o,isValidating:a,isValid:n,items:u,validate:r,reset:s,resetValidation:m}}function Vt(e){const n=Ht(yl,null);return{...n,isReadonly:b(()=>!!((e==null?void 0:e.readonly)??(n==null?void 0:n.isReadonly.value))),isDisabled:b(()=>!!((e==null?void 0:e.disabled)??(n==null?void 0:n.isDisabled.value)))}}const Pa=X({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...gl()},"validation");function Fa(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt(),t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ze();const o=ce(e,"modelValue"),a=b(()=>e.validationValue===void 0?o.value:e.validationValue),u=Vt(e),i=D([]),r=Q(!0),s=b(()=>!!(pe(o.value===""?null:o.value).length||pe(a.value===""?null:a.value).length)),m=b(()=>{var I;return(I=e.errorMessages)!=null&&I.length?pe(e.errorMessages).concat(i.value).slice(0,Math.max(0,+e.maxErrors)):i.value}),g=b(()=>{var P;let I=(e.validateOn??((P=u.validateOn)==null?void 0:P.value))||"input";I==="lazy"&&(I="input lazy"),I==="eager"&&(I="input eager");const w=new Set((I==null?void 0:I.split(" "))??[]);return{input:w.has("input"),blur:w.has("blur")||w.has("input")||w.has("invalid-input"),invalidInput:w.has("invalid-input"),lazy:w.has("lazy"),eager:w.has("eager")}}),c=b(()=>{var I;return e.error||(I=e.errorMessages)!=null&&I.length?!1:e.rules.length?r.value?i.value.length||g.value.lazy?null:!0:!i.value.length:!0}),d=Q(!1),y=b(()=>({[`${n}--error`]:c.value===!1,[`${n}--dirty`]:s.value,[`${n}--disabled`]:u.isDisabled.value,[`${n}--readonly`]:u.isReadonly.value})),k=qt("validation"),V=b(()=>e.name??Ee(t));_l(()=>{var I;(I=u.register)==null||I.call(u,{id:V.value,vm:k,validate:B,reset:h,resetValidation:x})}),rt(()=>{var I;(I=u.unregister)==null||I.call(u,V.value)}),gt(async()=>{var I;g.value.lazy||await B(!g.value.eager),(I=u.update)==null||I.call(u,V.value,c.value,m.value)}),ot(()=>g.value.input||g.value.invalidInput&&c.value===!1,()=>{j(a,()=>{if(a.value!=null)B();else if(e.focused){const I=j(()=>e.focused,w=>{w||B(),I()})}})}),ot(()=>g.value.blur,()=>{j(()=>e.focused,I=>{I||B()})}),j([c,m],()=>{var I;(I=u.update)==null||I.call(u,V.value,c.value,m.value)});async function h(){o.value=null,await be(),await x()}async function x(){r.value=!0,g.value.lazy?i.value=[]:await B(!g.value.eager)}async function B(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const w=[];d.value=!0;for(const P of e.rules){if(w.length>=+(e.maxErrors??1))break;const S=await(typeof P=="function"?P:()=>P)(a.value);if(S!==!0){if(S!==!1&&typeof S!="string"){console.warn(`${S} is not a valid value. Rule functions must return boolean true or a string.`);continue}w.push(S||"")}}return i.value=w,d.value=!1,r.value=I,i.value}return{errorMessages:m,isDirty:s,isDisabled:u.isDisabled,isReadonly:u.isReadonly,isPristine:r,isValid:c,isValidating:d,reset:h,resetValidation:x,validate:B,validationClasses:y}}const kt=X({id:String,appendIcon:de,centerAffix:{type:Boolean,default:!0},prependIcon:de,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Se(),"onClick:append":Se(),...fe(),...ct(),...Rl(Wt(),["maxWidth","minWidth","width"]),...Te(),...Pa()},"VInput"),We=ne()({name:"VInput",props:{...kt()},emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:t,slots:o,emit:a}=n;const{densityClasses:u}=ft(e),{dimensionStyles:i}=Xt(e),{themeClasses:r}=lt(e),{rtlClasses:s}=yt(),{InputIcon:m}=ml(e),g=ze(),c=b(()=>e.id||`input-${g}`),d=b(()=>`${c.value}-messages`),{errorMessages:y,isDirty:k,isDisabled:V,isReadonly:h,isPristine:x,isValid:B,isValidating:I,reset:w,resetValidation:P,validate:R,validationClasses:S}=Fa(e,"v-input",c),$=b(()=>({id:c,messagesId:d,isDirty:k,isDisabled:V,isReadonly:h,isPristine:x,isValid:B,isValidating:I,reset:w,resetValidation:P,validate:R})),U=b(()=>{var T;return(T=e.errorMessages)!=null&&T.length||!x.value&&y.value.length?y.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return oe(()=>{var _,E,H,q;const T=!!(o.prepend||e.prependIcon),F=!!(o.append||e.appendIcon),O=U.value.length>0,z=!e.hideDetails||e.hideDetails==="auto"&&(O||!!o.details);return l("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},u.value,r.value,s.value,S.value,e.class],style:[i.value,e.style]},[T&&l("div",{key:"prepend",class:"v-input__prepend"},[(_=o.prepend)==null?void 0:_.call(o,$.value),e.prependIcon&&l(m,{key:"prepend-icon",name:"prepend"},null)]),o.default&&l("div",{class:"v-input__control"},[(E=o.default)==null?void 0:E.call(o,$.value)]),F&&l("div",{key:"append",class:"v-input__append"},[e.appendIcon&&l(m,{key:"append-icon",name:"append"},null),(H=o.append)==null?void 0:H.call(o,$.value)]),z&&l("div",{class:"v-input__details"},[l(xa,{id:d.value,active:O,messages:U.value},{message:o.message}),(q=o.details)==null?void 0:q.call(o,$.value)])])}),{reset:w,resetValidation:P,validate:R,isValid:B,errorMessages:y}}});function Aa(e){let{selectedElement:n,containerElement:t,isRtl:o,isHorizontal:a}=e;const u=Oe(a,t),i=hl(a,o,t),r=Oe(a,n),s=bl(a,n),m=r*.4;return i>s?s-m:i+u<s+r?s-u+r+m:i}function _a(e){let{selectedElement:n,containerElement:t,isHorizontal:o}=e;const a=Oe(o,t),u=bl(o,n),i=Oe(o,n);return u-a/2+i/2}function _t(e,n){const t=e?"scrollWidth":"scrollHeight";return(n==null?void 0:n[t])||0}function Ra(e,n){const t=e?"clientWidth":"clientHeight";return(n==null?void 0:n[t])||0}function hl(e,n,t){if(!t)return 0;const{scrollLeft:o,offsetWidth:a,scrollWidth:u}=t;return e?n?u-a+o:o:t.scrollTop}function Oe(e,n){const t=e?"offsetWidth":"offsetHeight";return(n==null?void 0:n[t])||0}function bl(e,n){const t=e?"offsetLeft":"offsetTop";return(n==null?void 0:n[t])||0}const Ta=Symbol.for("vuetify:v-slide-group"),pl=X({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Ta},nextIcon:{type:de,default:"$next"},prevIcon:{type:de,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...fe(),...Tl({mobile:null}),...ht(),...Jt({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Rt=ne()({name:"VSlideGroup",props:pl(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{isRtl:o}=yt(),{displayClasses:a,mobile:u}=Qt(e),i=Yt(e,e.symbol),r=Q(!1),s=Q(0),m=Q(0),g=Q(0),c=b(()=>e.direction==="horizontal"),{resizeRef:d,contentRect:y}=Ke(),{resizeRef:k,contentRect:V}=Ke(),h=Bl(),x=b(()=>({container:d.el,duration:200,easing:"easeOutQuart"})),B=b(()=>i.selected.value.length?i.items.value.findIndex(v=>v.id===i.selected.value[0]):-1),I=b(()=>i.selected.value.length?i.items.value.findIndex(v=>v.id===i.selected.value[i.selected.value.length-1]):-1);if(Pe){let v=-1;j(()=>[i.selected.value,y.value,V.value,c.value],()=>{cancelAnimationFrame(v),v=requestAnimationFrame(()=>{if(y.value&&V.value){const p=c.value?"width":"height";m.value=y.value[p],g.value=V.value[p],r.value=m.value+1<g.value}if(B.value>=0&&k.el){const p=k.el.children[I.value];P(p,e.centerActive)}})})}const w=Q(!1);function P(v,p){let A=0;p?A=_a({containerElement:d.el,isHorizontal:c.value,selectedElement:v}):A=Aa({containerElement:d.el,isHorizontal:c.value,isRtl:o.value,selectedElement:v}),R(A)}function R(v){if(!Pe||!d.el)return;const p=Oe(c.value,d.el),A=hl(c.value,o.value,d.el);if(!(_t(c.value,d.el)<=p||Math.abs(v-A)<16)){if(c.value&&o.value&&d.el){const{scrollWidth:M,offsetWidth:W}=d.el;v=M-W-v}c.value?h.horizontal(v,x.value):h(v,x.value)}}function S(v){const{scrollTop:p,scrollLeft:A}=v.target;s.value=c.value?A:p}function $(v){if(w.value=!0,!(!r.value||!k.el)){for(const p of v.composedPath())for(const A of k.el.children)if(A===p){P(A);return}}}function U(v){w.value=!1}let T=!1;function F(v){var p;!T&&!w.value&&!(v.relatedTarget&&((p=k.el)!=null&&p.contains(v.relatedTarget)))&&_(),T=!1}function O(){T=!0}function z(v){if(!k.el)return;function p(A){v.preventDefault(),_(A)}c.value?v.key==="ArrowRight"?p(o.value?"prev":"next"):v.key==="ArrowLeft"&&p(o.value?"next":"prev"):v.key==="ArrowDown"?p("next"):v.key==="ArrowUp"&&p("prev"),v.key==="Home"?p("first"):v.key==="End"&&p("last")}function _(v){var A,J;if(!k.el)return;let p;if(!v)p=Bt(k.el)[0];else if(v==="next"){if(p=(A=k.el.querySelector(":focus"))==null?void 0:A.nextElementSibling,!p)return _("first")}else if(v==="prev"){if(p=(J=k.el.querySelector(":focus"))==null?void 0:J.previousElementSibling,!p)return _("last")}else v==="first"?p=k.el.firstElementChild:v==="last"&&(p=k.el.lastElementChild);p&&p.focus({preventScroll:!0})}function E(v){const p=c.value&&o.value?-1:1,A=(v==="prev"?-p:p)*m.value;let J=s.value+A;if(c.value&&o.value&&d.el){const{scrollWidth:M,offsetWidth:W}=d.el;J+=M-W}R(J)}const H=b(()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected})),q=b(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!u.value;case!0:return r.value||Math.abs(s.value)>0;case"mobile":return u.value||r.value||Math.abs(s.value)>0;default:return!u.value&&(r.value||Math.abs(s.value)>0)}}),K=b(()=>Math.abs(s.value)>1),f=b(()=>{if(!d.value)return!1;const v=_t(c.value,d.el),p=Ra(c.value,d.el);return v-p-Math.abs(s.value)>1});return oe(()=>l(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":q.value,"v-slide-group--is-overflowing":r.value},a.value,e.class],style:e.style,tabindex:w.value||i.selected.value.length?-1:0,onFocus:F},{default:()=>{var v,p,A;return[q.value&&l("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!K.value}],onMousedown:O,onClick:()=>K.value&&E("prev")},[((v=t.prev)==null?void 0:v.call(t,H.value))??l(Ft,null,{default:()=>[l(re,{icon:o.value?e.nextIcon:e.prevIcon},null)]})]),l("div",{key:"container",ref:d,class:"v-slide-group__container",onScroll:S},[l("div",{ref:k,class:"v-slide-group__content",onFocusin:$,onFocusout:U,onKeydown:z},[(p=t.default)==null?void 0:p.call(t,H.value)])]),q.value&&l("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!f.value}],onMousedown:O,onClick:()=>f.value&&E("next")},[((A=t.next)==null?void 0:A.call(t,H.value))??l(Ft,null,{default:()=>[l(re,{icon:o.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:i.selected,scrollTo:E,scrollOffset:s,focus:_,hasPrev:K,hasNext:f}}}),Vl=Symbol.for("vuetify:v-chip-group"),Ba=X({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ot},...pl(),...fe(),...Jt({selectedClass:"v-chip--selected"}),...ht(),...Te(),...Zt({variant:"tonal"})},"VChipGroup");ne()({name:"VChipGroup",props:Ba(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{themeClasses:o}=lt(e),{isSelected:a,select:u,next:i,prev:r,selected:s}=Yt(e,Vl);return Lt({VChip:{color:ue(e,"color"),disabled:ue(e,"disabled"),filter:ue(e,"filter"),variant:ue(e,"variant")}}),oe(()=>{const m=Rt.filterProps(e);return l(Rt,G(m,{class:["v-chip-group",{"v-chip-group--column":e.column},o.value,e.class],style:e.style}),{default:()=>{var g;return[(g=t.default)==null?void 0:g.call(t,{isSelected:a,select:u,next:i,prev:r,selected:s.value})]}})}),{}}});const Ea=X({activeClass:String,appendAvatar:String,appendIcon:de,closable:Boolean,closeIcon:{type:de,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:de,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:de,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Se(),onClickOnce:Se(),...El(),...fe(),...ct(),...Ml(),...Dl(),...el(),...$l(),...Ol(),...ht({tag:"span"}),...Te(),...Zt({variant:"tonal"})},"VChip"),De=ne()({name:"VChip",directives:{Ripple:Ut},props:Ea(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,n){let{attrs:t,emit:o,slots:a}=n;const{t:u}=et(),{borderClasses:i}=zl(e),{colorClasses:r,colorStyles:s,variantClasses:m}=Ll(e),{densityClasses:g}=ft(e),{elevationClasses:c}=Ul(e),{roundedClasses:d}=tl(e),{sizeClasses:y}=Hl(e),{themeClasses:k}=lt(e),V=ce(e,"modelValue"),h=Nl(e,Vl,!1),x=Kl(e,t),B=b(()=>e.link!==!1&&x.isLink.value),I=b(()=>!e.disabled&&e.link!==!1&&(!!h||e.link||x.isClickable.value)),w=b(()=>({"aria-label":u(e.closeLabel),onClick(S){S.preventDefault(),S.stopPropagation(),V.value=!1,o("click:close",S)}}));function P(S){var $;o("click",S),I.value&&(($=x.navigate)==null||$.call(x,S),h==null||h.toggle())}function R(S){(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),P(S))}return()=>{var E;const S=x.isLink.value?"a":e.tag,$=!!(e.appendIcon||e.appendAvatar),U=!!($||a.append),T=!!(a.close||e.closable),F=!!(a.filter||e.filter)&&h,O=!!(e.prependIcon||e.prependAvatar),z=!!(O||a.prepend),_=!h||h.isSelected.value;return V.value&&Ie(l(S,G({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":I.value,"v-chip--filter":F,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&((E=x.isActive)==null?void 0:E.value)},k.value,i.value,_?r.value:void 0,g.value,c.value,d.value,y.value,m.value,h==null?void 0:h.selectedClass.value,e.class],style:[_?s.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:I.value?0:void 0,onClick:P,onKeydown:I.value&&!B.value&&R},x.linkProps),{default:()=>{var H;return[Gl(I.value,"v-chip"),F&&l(ll,{key:"filter"},{default:()=>[Ie(l("div",{class:"v-chip__filter"},[a.filter?l(Ce,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},a.filter):l(re,{key:"filter-icon",icon:e.filterIcon},null)]),[[bt,h.isSelected.value]])]}),z&&l("div",{key:"prepend",class:"v-chip__prepend"},[a.prepend?l(Ce,{key:"prepend-defaults",disabled:!O,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},a.prepend):l(ae,null,[e.prependIcon&&l(re,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&l(Ge,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),l("div",{class:"v-chip__content","data-no-activator":""},[((H=a.default)==null?void 0:H.call(a,{isSelected:h==null?void 0:h.isSelected.value,selectedClass:h==null?void 0:h.selectedClass.value,select:h==null?void 0:h.select,toggle:h==null?void 0:h.toggle,value:h==null?void 0:h.value.value,disabled:e.disabled}))??e.text]),U&&l("div",{key:"append",class:"v-chip__append"},[a.append?l(Ce,{key:"append-defaults",disabled:!$,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},a.append):l(ae,null,[e.appendIcon&&l(re,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&l(Ge,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),T&&l("button",G({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},w.value),[a.close?l(Ce,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},a.close):l(re,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[Ye("ripple"),I.value&&e.ripple,null]])}}}),Ma=X({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...fe(),...tt({transition:{component:Kt}})},"VCounter"),kl=ne()({name:"VCounter",functional:!0,props:Ma(),setup(e,n){let{slots:t}=n;const o=b(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return oe(()=>l(Gt,{transition:e.transition},{default:()=>[Ie(l("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[t.default?t.default({counter:o.value,max:e.max,value:e.value}):o.value]),[[bt,e.active]])]})),{}}}),Da=X({floating:Boolean,...fe()},"VFieldLabel"),He=ne()({name:"VFieldLabel",props:Da(),setup(e,n){let{slots:t}=n;return oe(()=>l(rl,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},t)),{}}}),$a=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],St=X({appendInnerIcon:de,bgColor:String,clearable:Boolean,clearIcon:{type:de,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:de,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>$a.includes(e)},"onClick:clear":Se(),"onClick:appendInner":Se(),"onClick:prependInner":Se(),...fe(),...jl(),...el(),...Te()},"VField"),Ct=ne()({name:"VField",inheritAttrs:!1,props:{id:String,...gl(),...St()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:o,slots:a}=n;const{themeClasses:u}=lt(e),{loaderClasses:i}=ql(e),{focusClasses:r,isFocused:s,focus:m,blur:g}=pt(e),{InputIcon:c}=ml(e),{roundedClasses:d}=tl(e),{rtlClasses:y}=yt(),k=b(()=>e.dirty||e.active),V=b(()=>!e.singleLine&&!!(e.label||a.label)),h=ze(),x=b(()=>e.id||`input-${h}`),B=b(()=>`${x.value}-messages`),I=D(),w=D(),P=D(),R=b(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:S,backgroundColorStyles:$}=Nt(ue(e,"bgColor")),{textColorClasses:U,textColorStyles:T}=Ze(b(()=>e.error||e.disabled?void 0:k.value&&s.value?e.color:e.baseColor));j(k,_=>{if(V.value){const E=I.value.$el,H=w.value.$el;requestAnimationFrame(()=>{const q=Wl(E),K=H.getBoundingClientRect(),f=K.x-q.x,v=K.y-q.y-(q.height/2-K.height/2),p=K.width/.75,A=Math.abs(p-q.width)>1?{maxWidth:Fe(p)}:void 0,J=getComputedStyle(E),M=getComputedStyle(H),W=parseFloat(J.transitionDuration)*1e3||150,Z=parseFloat(M.getPropertyValue("--v-field-label-scale")),ve=M.getPropertyValue("color");E.style.visibility="visible",H.style.visibility="hidden",Xl(E,{transform:`translate(${f}px, ${v}px) scale(${Z})`,color:ve,...A},{duration:W,easing:Zl,direction:_?"normal":"reverse"}).finished.then(()=>{E.style.removeProperty("visibility"),H.style.removeProperty("visibility")})})}},{flush:"post"});const F=b(()=>({isActive:k,isFocused:s,controlRef:P,blur:g,focus:m}));function O(_){_.target!==document.activeElement&&_.preventDefault()}function z(_){var E;_.key!=="Enter"&&_.key!==" "||(_.preventDefault(),_.stopPropagation(),(E=e["onClick:clear"])==null||E.call(e,new MouseEvent("click")))}return oe(()=>{var f,v,p;const _=e.variant==="outlined",E=!!(a["prepend-inner"]||e.prependInnerIcon),H=!!(e.clearable||a.clear),q=!!(a["append-inner"]||e.appendInnerIcon||H),K=()=>a.label?a.label({...F.value,label:e.label,props:{for:x.value}}):e.label;return l("div",G({class:["v-field",{"v-field--active":k.value,"v-field--appended":q,"v-field--center-affix":e.centerAffix??!R.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":E,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!K(),[`v-field--variant-${e.variant}`]:!0},u.value,S.value,r.value,i.value,d.value,y.value,e.class],style:[$.value,e.style],onClick:O},t),[l("div",{class:"v-field__overlay"},null),l(Jl,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:a.loader}),E&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&l(c,{key:"prepend-icon",name:"prependInner"},null),(f=a["prepend-inner"])==null?void 0:f.call(a,F.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&V.value&&l(He,{key:"floating-label",ref:w,class:[U.value],floating:!0,for:x.value,style:T.value},{default:()=>[K()]}),V.value&&l(He,{key:"label",ref:I,for:x.value},{default:()=>[K()]}),(v=a.default)==null?void 0:v.call(a,{...F.value,props:{id:x.value,class:"v-field__input","aria-describedby":B.value},focus:m,blur:g})]),H&&l(ll,{key:"clear"},{default:()=>[Ie(l("div",{class:"v-field__clearable",onMousedown:A=>{A.preventDefault(),A.stopPropagation()}},[l(Ce,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[a.clear?a.clear({...F.value,props:{onKeydown:z,onFocus:m,onBlur:g,onClick:e["onClick:clear"]}}):l(c,{name:"clear",onKeydown:z,onFocus:m,onBlur:g},null)]})]),[[bt,e.dirty]])]}),q&&l("div",{key:"append",class:"v-field__append-inner"},[(p=a["append-inner"])==null?void 0:p.call(a,F.value),e.appendInnerIcon&&l(c,{key:"append-icon",name:"appendInner"},null)]),l("div",{class:["v-field__outline",U.value],style:T.value},[_&&l(ae,null,[l("div",{class:"v-field__outline__start"},null),V.value&&l("div",{class:"v-field__outline__notch"},[l(He,{ref:w,floating:!0,for:x.value},{default:()=>[K()]})]),l("div",{class:"v-field__outline__end"},null)]),R.value&&V.value&&l(He,{ref:w,floating:!0,for:x.value},{default:()=>[K()]})])])}),{controlRef:P}}});function Sl(e){const n=Object.keys(Ct.props).filter(t=>!Ql(t)&&t!=="class"&&t!=="style");return Yl(e,n)}const Oa=["color","file","time","date","datetime-local","week","month"],xt=X({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...kt(),...St()},"VTextField"),xe=ne()({name:"VTextField",directives:{Intersect:al},inheritAttrs:!1,props:xt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:o,slots:a}=n;const u=ce(e,"modelValue"),{isFocused:i,focus:r,blur:s}=pt(e),m=b(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),g=b(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),c=b(()=>["plain","underlined"].includes(e.variant));function d(R,S){var $,U;!e.autofocus||!R||(U=($=S[0].target)==null?void 0:$.focus)==null||U.call($)}const y=D(),k=D(),V=D(),h=b(()=>Oa.includes(e.type)||e.persistentPlaceholder||i.value||e.active);function x(){var R;V.value!==document.activeElement&&((R=V.value)==null||R.focus()),i.value||r()}function B(R){o("mousedown:control",R),R.target!==V.value&&(x(),R.preventDefault())}function I(R){x(),o("click:control",R)}function w(R){R.stopPropagation(),x(),be(()=>{u.value=null,nl(e["onClick:clear"],R)})}function P(R){var $;const S=R.target;if(u.value=S.value,($=e.modelModifiers)!=null&&$.trim&&["text","search","password","tel","url"].includes(e.type)){const U=[S.selectionStart,S.selectionEnd];be(()=>{S.selectionStart=U[0],S.selectionEnd=U[1]})}}return oe(()=>{const R=!!(a.counter||e.counter!==!1&&e.counter!=null),S=!!(R||a.details),[$,U]=vt(t),{modelValue:T,...F}=We.filterProps(e),O=Sl(e);return l(We,G({ref:y,modelValue:u.value,"onUpdate:modelValue":z=>u.value=z,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":c.value},e.class],style:e.style},$,F,{centerAffix:!c.value,focused:i.value}),{...a,default:z=>{let{id:_,isDisabled:E,isDirty:H,isReadonly:q,isValid:K}=z;return l(Ct,G({ref:k,onMousedown:B,onClick:I,"onClick:clear":w,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},O,{id:_.value,active:h.value||H.value,dirty:H.value||e.dirty,disabled:E.value,focused:i.value,error:K.value===!1}),{...a,default:f=>{let{props:{class:v,...p}}=f;const A=Ie(l("input",G({ref:V,value:u.value,onInput:P,autofocus:e.autofocus,readonly:q.value,disabled:E.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:x,onBlur:s},p,U),null),[[Ye("intersect"),{handler:d},null,{once:!0}]]);return l(ae,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),a.default?l("div",{class:v,"data-no-activator":""},[a.default(),A]):ea(A,{class:v}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:S?z=>{var _;return l(ae,null,[(_=a.details)==null?void 0:_.call(a,z),R&&l(ae,null,[l("span",null,null),l(kl,{active:e.persistentCounter||i.value,value:m.value,max:g.value,disabled:e.disabled},a.counter)])])}:void 0})}),Re({},y,k,V)}}),za=X({renderless:Boolean,...fe()},"VVirtualScrollItem"),La=ne()({name:"VVirtualScrollItem",inheritAttrs:!1,props:za(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:t,emit:o,slots:a}=n;const{resizeRef:u,contentRect:i}=Ke(void 0,"border");j(()=>{var r;return(r=i.value)==null?void 0:r.height},r=>{r!=null&&o("update:height",r)}),oe(()=>{var r,s;return e.renderless?l(ae,null,[(r=a.default)==null?void 0:r.call(a,{itemRef:u})]):l("div",G({ref:u,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(s=a.default)==null?void 0:s.call(a)])})}}),Ua=-1,Ha=1,at=100,Na=X({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Ka(e,n){const t=Qt(),o=Q(0);je(()=>{o.value=parseFloat(e.itemHeight||0)});const a=Q(0),u=Q(Math.ceil((parseInt(e.height)||t.height.value)/(o.value||16))||1),i=Q(0),r=Q(0),s=D(),m=D();let g=0;const{resizeRef:c,contentRect:d}=Ke();je(()=>{c.value=s.value});const y=b(()=>{var f;return s.value===document.documentElement?t.height.value:((f=d.value)==null?void 0:f.height)||parseInt(e.height)||0}),k=b(()=>!!(s.value&&m.value&&y.value&&o.value));let V=Array.from({length:n.value.length}),h=Array.from({length:n.value.length});const x=Q(0);let B=-1;function I(f){return V[f]||o.value}const w=ta(()=>{const f=performance.now();h[0]=0;const v=n.value.length;for(let p=1;p<=v-1;p++)h[p]=(h[p-1]||0)+I(p-1);x.value=Math.max(x.value,performance.now()-f)},x),P=j(k,f=>{f&&(P(),g=m.value.offsetTop,w.immediate(),E(),~B&&be(()=>{Pe&&window.requestAnimationFrame(()=>{q(B),B=-1})}))});dt(()=>{w.clear()});function R(f,v){const p=V[f],A=o.value;o.value=A?Math.min(o.value,v):v,(p!==v||A!==o.value)&&(V[f]=v,w())}function S(f){return f=Ne(f,0,n.value.length-1),h[f]||0}function $(f){return Ga(h,f)}let U=0,T=0,F=0;j(y,(f,v)=>{v&&(E(),f<v&&requestAnimationFrame(()=>{T=0,E()}))});function O(){if(!s.value||!m.value)return;const f=s.value.scrollTop,v=performance.now();v-F>500?(T=Math.sign(f-U),g=m.value.offsetTop):T=f-U,U=f,F=v,E()}function z(){!s.value||!m.value||(T=0,F=0,E())}let _=-1;function E(){cancelAnimationFrame(_),_=requestAnimationFrame(H)}function H(){if(!s.value||!y.value)return;const f=U-g,v=Math.sign(T),p=Math.max(0,f-at),A=Ne($(p),0,n.value.length),J=f+y.value+at,M=Ne($(J)+1,A+1,n.value.length);if((v!==Ua||A<a.value)&&(v!==Ha||M>u.value)){const W=S(a.value)-S(A),Z=S(M)-S(u.value);Math.max(W,Z)>at?(a.value=A,u.value=M):(A<=0&&(a.value=A),M>=n.value.length&&(u.value=M))}i.value=S(a.value),r.value=S(n.value.length)-S(u.value)}function q(f){const v=S(f);!s.value||f&&!v?B=f:s.value.scrollTop=v}const K=b(()=>n.value.slice(a.value,u.value).map((f,v)=>({raw:f,index:v+a.value})));return j(n,()=>{V=Array.from({length:n.value.length}),h=Array.from({length:n.value.length}),w.immediate(),E()},{deep:!0}),{calculateVisibleItems:E,containerRef:s,markerRef:m,computedItems:K,paddingTop:i,paddingBottom:r,scrollToIndex:q,handleScroll:O,handleScrollend:z,handleItemResize:R}}function Ga(e,n){let t=e.length-1,o=0,a=0,u=null,i=-1;if(e[t]<n)return t;for(;o<=t;)if(a=o+t>>1,u=e[a],u>n)t=a-1;else if(u<n)i=a,o=a+1;else return u===n?a:o;return i}const ja=X({items:{type:Array,default:()=>[]},renderless:Boolean,...Na(),...fe(),...Wt()},"VVirtualScroll"),Cl=ne()({name:"VVirtualScroll",props:ja(),setup(e,n){let{slots:t}=n;const o=qt("VVirtualScroll"),{dimensionStyles:a}=Xt(e),{calculateVisibleItems:u,containerRef:i,markerRef:r,handleScroll:s,handleScrollend:m,handleItemResize:g,scrollToIndex:c,paddingTop:d,paddingBottom:y,computedItems:k}=Ka(e,ue(e,"items"));return ot(()=>e.renderless,()=>{function V(){var B,I;const x=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";i.value===document.documentElement?(document[x]("scroll",s,{passive:!0}),document[x]("scrollend",m)):((B=i.value)==null||B[x]("scroll",s,{passive:!0}),(I=i.value)==null||I[x]("scrollend",m))}gt(()=>{i.value=la(o.vnode.el,!0),V(!0)}),dt(V)}),oe(()=>{const V=k.value.map(h=>l(La,{key:h.index,renderless:e.renderless,"onUpdate:height":x=>g(h.index,x)},{default:x=>{var B;return(B=t.default)==null?void 0:B.call(t,{item:h.raw,index:h.index,...x})}}));return e.renderless?l(ae,null,[l("div",{ref:r,class:"v-virtual-scroll__spacer",style:{paddingTop:Fe(d.value)}},null),V,l("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Fe(y.value)}},null)]):l("div",{ref:i,class:["v-virtual-scroll",e.class],onScrollPassive:s,onScrollend:m,style:[a.value,e.style]},[l("div",{ref:r,class:"v-virtual-scroll__container",style:{paddingTop:Fe(d.value),paddingBottom:Fe(y.value)}},[V])])}),{calculateVisibleItems:u,scrollToIndex:c}}});function xl(e,n){const t=Q(!1);let o;function a(r){cancelAnimationFrame(o),t.value=!0,o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{t.value=!1})})}async function u(){await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>{if(t.value){const s=j(t,()=>{s(),r()})}else r()})}async function i(r){var g,c;if(r.key==="Tab"&&((g=n.value)==null||g.focus()),!["PageDown","PageUp","Home","End"].includes(r.key))return;const s=(c=e.value)==null?void 0:c.$el;if(!s)return;(r.key==="Home"||r.key==="End")&&s.scrollTo({top:r.key==="Home"?0:s.scrollHeight,behavior:"smooth"}),await u();const m=s.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(r.key==="PageDown"||r.key==="Home"){const d=s.getBoundingClientRect().top;for(const y of m)if(y.getBoundingClientRect().top>=d){y.focus();break}}else{const d=s.getBoundingClientRect().bottom;for(const y of[...m].reverse())if(y.getBoundingClientRect().bottom<=d){y.focus();break}}}return{onScrollPassive:a,onKeydown:i}}const Il=X({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:de,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...aa({itemChildren:!1})},"Select"),qa=X({...Il(),...mt(xt({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...tt({transition:{component:Tt}})},"VSelect"),Wa=ne()({name:"VSelect",props:qa(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:t}=n;const{t:o}=et(),a=D(),u=D(),i=D(),r=ce(e,"menu"),s=b({get:()=>r.value,set:f=>{var v;r.value&&!f&&((v=u.value)!=null&&v.Î¨openChildren.size)||(r.value=f)}}),{items:m,transformIn:g,transformOut:c}=ol(e),d=ce(e,"modelValue",[],f=>g(f===null?[null]:pe(f)),f=>{const v=c(f);return e.multiple?v:v[0]??null}),y=b(()=>typeof e.counterValue=="function"?e.counterValue(d.value):typeof e.counterValue=="number"?e.counterValue:d.value.length),k=Vt(e),V=b(()=>d.value.map(f=>f.value)),h=Q(!1),x=b(()=>s.value?e.closeText:e.openText);let B="",I;const w=b(()=>e.hideSelected?m.value.filter(f=>!d.value.some(v=>e.valueComparator(v,f))):m.value),P=b(()=>e.hideNoData&&!w.value.length||k.isReadonly.value||k.isDisabled.value),R=b(()=>{var f;return{...e.menuProps,activatorProps:{...((f=e.menuProps)==null?void 0:f.activatorProps)||{},"aria-haspopup":"listbox"}}}),S=D(),$=xl(S,a);function U(f){e.openOnClear&&(s.value=!0)}function T(){P.value||(s.value=!s.value)}function F(f){it(f)&&O(f)}function O(f){var J,M;if(!f.key||k.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(f.key)&&f.preventDefault(),["Enter","ArrowDown"," "].includes(f.key)&&(s.value=!0),["Escape","Tab"].includes(f.key)&&(s.value=!1),f.key==="Home"?(J=S.value)==null||J.focus("first"):f.key==="End"&&((M=S.value)==null||M.focus("last"));const v=1e3;if(e.multiple||!it(f))return;const p=performance.now();p-I>v&&(B=""),B+=f.key.toLowerCase(),I=p;const A=m.value.find(W=>W.title.toLowerCase().startsWith(B));if(A!==void 0){d.value=[A];const W=w.value.indexOf(A);Pe&&window.requestAnimationFrame(()=>{var Z;W>=0&&((Z=i.value)==null||Z.scrollToIndex(W))})}}function z(f){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!f.props.disabled)if(e.multiple){const p=d.value.findIndex(J=>e.valueComparator(J.value,f.value)),A=v??!~p;if(~p){const J=A?[...d.value,f]:[...d.value];J.splice(p,1),d.value=J}else A&&(d.value=[...d.value,f])}else{const p=v!==!1;d.value=p?[f]:[],be(()=>{s.value=!1})}}function _(f){var v;(v=S.value)!=null&&v.$el.contains(f.relatedTarget)||(s.value=!1)}function E(){var f;e.eager&&((f=i.value)==null||f.calculateVisibleItems())}function H(){var f;h.value&&((f=a.value)==null||f.focus())}function q(f){h.value=!0}function K(f){if(f==null)d.value=[];else if($e(a.value,":autofill")||$e(a.value,":-webkit-autofill")){const v=m.value.find(p=>p.title===f);v&&z(v)}else a.value&&(a.value.value="")}return j(s,()=>{if(!e.hideSelected&&s.value&&d.value.length){const f=w.value.findIndex(v=>d.value.some(p=>e.valueComparator(p.value,v.value)));Pe&&window.requestAnimationFrame(()=>{var v;f>=0&&((v=i.value)==null||v.scrollToIndex(f))})}}),j(()=>e.items,(f,v)=>{s.value||h.value&&!v.length&&f.length&&(s.value=!0)}),oe(()=>{const f=!!(e.chips||t.chip),v=!!(!e.hideNoData||w.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),p=d.value.length>0,A=xe.filterProps(e),J=p||!h.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return l(xe,G({ref:a},A,{modelValue:d.value.map(M=>M.props.value).join(", "),"onUpdate:modelValue":K,focused:h.value,"onUpdate:focused":M=>h.value=M,validationValue:d.externalValue,counterValue:y.value,dirty:p,class:["v-select",{"v-select--active-menu":s.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":d.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:J,"onClick:clear":U,"onMousedown:control":T,onBlur:_,onKeydown:O,"aria-label":o(x.value),title:o(x.value)}),{...t,default:()=>l(ae,null,[l(il,G({ref:u,modelValue:s.value,"onUpdate:modelValue":M=>s.value=M,activator:"parent",contentClass:"v-select__content",disabled:P.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:E,onAfterLeave:H},R.value),{default:()=>[v&&l(ul,G({ref:S,selected:V.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:M=>M.preventDefault(),onKeydown:F,onFocusin:q,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},$,e.listProps),{default:()=>{var M,W,Z;return[(M=t["prepend-item"])==null?void 0:M.call(t),!w.value.length&&!e.hideNoData&&(((W=t["no-data"])==null?void 0:W.call(t))??l(qe,{title:o(e.noDataText)},null)),l(Cl,{ref:i,renderless:!0,items:w.value},{default:ve=>{var L;let{item:me,index:Ve,itemRef:te}=ve;const C=G(me.props,{ref:te,key:Ve,onClick:()=>z(me,null)});return((L=t.item)==null?void 0:L.call(t,{item:me,index:Ve,props:C}))??l(qe,G(C,{role:"option"}),{prepend:ee=>{let{isSelected:N}=ee;return l(ae,null,[e.multiple&&!e.hideSelected?l(fl,{key:me.value,modelValue:N,ripple:!1,tabindex:"-1"},null):void 0,me.props.prependAvatar&&l(Ge,{image:me.props.prependAvatar},null),me.props.prependIcon&&l(re,{icon:me.props.prependIcon},null)])}})}}),(Z=t["append-item"])==null?void 0:Z.call(t)]}})]}),d.value.map((M,W)=>{function Z(te){te.stopPropagation(),te.preventDefault(),z(M,!1)}const ve={"onClick:close":Z,onKeydown(te){te.key!=="Enter"&&te.key!==" "||(te.preventDefault(),te.stopPropagation(),Z(te))},onMousedown(te){te.preventDefault(),te.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},me=f?!!t.chip:!!t.selection,Ve=me?sl(f?t.chip({item:M,index:W,props:ve}):t.selection({item:M,index:W})):void 0;if(!(me&&!Ve))return l("div",{key:M.value,class:"v-select__selection"},[f?t.chip?l(Ce,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:M.title}}},{default:()=>[Ve]}):l(De,G({key:"chip",closable:e.closableChips,size:"small",text:M.title,disabled:M.props.disabled},ve),null):Ve??l("span",{class:"v-select__selection-text"},[M.title,e.multiple&&W<d.value.length-1&&l("span",{class:"v-select__selection-comma"},[he(",")])])])})]),"append-inner":function(){var ve;for(var M=arguments.length,W=new Array(M),Z=0;Z<M;Z++)W[Z]=arguments[Z];return l(ae,null,[(ve=t["append-inner"])==null?void 0:ve.call(t,...W),e.menuIcon?l(re,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Re({isFocused:h,menu:s,select:z},a)}}),Xa={for:"select",class:"block text capitalize"};function Ja(e,n,t,o,a,u){return _e(),nt(ae,null,[Ae("label",Xa,ke(e.$props.path.replace("_"," ")),1),l(Wa,{modelValue:e.selected,"onUpdate:modelValue":n[0]||(n[0]=i=>e.selected=i),items:e.items,onChange:e.handleChange,loading:e.loading,"error-messages":e.errorMessage,name:e.$props.name,outlined:"",dense:"",clearable:""},null,8,["modelValue","items","onChange","loading","error-messages","name"])],64)}const Qa=Qe(ba,[["render",Ja]]),Ya=Xe({name:"SpiritForm",props:{spirit:{type:Object,required:!1,default:()=>({name:"",description:"",image:""})}},components:{RecordForm:ha,SelectFromRequest:Qa},setup(e){Je();const n=["Vanilla","Caramel","Spicy","Fruity","Floral","Herbal","Smoky","Woody"],t=D([]),o=D(""),a=D(""),u=D(""),i=b(()=>!!e.spirit.id),r=b(()=>i.value?`https://api.fordsdevelopment.co.uk/drinks/spirits/${e.spirit.id}`:"https://api.fordsdevelopment.co.uk/drinks/spirits"),s=b(()=>i.value?"PUT":"POST");return{isEditMode:i,endpoint:r,method:s,handleSave:async g=>{console.log(`${i.value?"Updated":"Created"} record:`,g),window.location.reload()},items:n,value:t,selectedSpiritType:o,selectedSpiritStyle:a,selectedDistillery:u}}}),Za=(e,n,t)=>e==null||n==null?-1:e.toString().toLocaleLowerCase().indexOf(n.toString().toLocaleLowerCase()),en=X({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function tn(e,n,t){var r;const o=[],a=(t==null?void 0:t.default)??Za,u=t!=null&&t.filterKeys?pe(t.filterKeys):!1,i=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return o;e:for(let s=0;s<e.length;s++){const[m,g=m]=pe(e[s]),c={},d={};let y=-1;if((n||i>0)&&!(t!=null&&t.noFilter)){if(typeof m=="object"){const h=u||Object.keys(g);for(const x of h){const B=na(g,x),I=(r=t==null?void 0:t.customKeyFilter)==null?void 0:r[x];if(y=I?I(B,n,m):a(B,n,m),y!==-1&&y!==!1)I?c[x]=y:d[x]=y;else if((t==null?void 0:t.filterMode)==="every")continue e}}else y=a(m,n,m),y!==-1&&y!==!1&&(d.title=y);const k=Object.keys(d).length,V=Object.keys(c).length;if(!k&&!V||(t==null?void 0:t.filterMode)==="union"&&V!==i&&!k||(t==null?void 0:t.filterMode)==="intersection"&&(V!==i||!k))continue}o.push({index:s,matches:{...d,...c}})}return o}function ln(e,n,t,o){const a=D([]),u=D(new Map),i=b(()=>Ee(n));je(()=>{const s=typeof t=="function"?t():Ee(t),m=typeof s!="string"&&typeof s!="number"?"":String(s),g=tn(i.value,m,{customKeyFilter:{...e.customKeyFilter,...Ee(o==null?void 0:o.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),c=Ee(n),d=[],y=new Map;g.forEach(k=>{let{index:V,matches:h}=k;const x=c[V];d.push(x),y.set(x.value,h)}),a.value=d,u.value=y});function r(s){return u.value.get(s.value)}return{filteredItems:a,filteredMatches:u,getMatches:r}}function an(e,n,t){if(n==null)return e;if(Array.isArray(n))throw new Error("Multiple matches is not implemented");return typeof n=="number"&&~n?l(ae,null,[l("span",{class:"v-autocomplete__unmask"},[e.substr(0,n)]),l("span",{class:"v-autocomplete__mask"},[e.substr(n,t)]),l("span",{class:"v-autocomplete__unmask"},[e.substr(n+t)])]):e}const nn=X({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...en({filterKeys:["title"]}),...Il(),...mt(xt({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...tt({transition:!1})},"VAutocomplete"),on=ne()({name:"VAutocomplete",props:nn(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:t}=n;const{t:o}=et(),a=D(),u=Q(!1),i=Q(!0),r=Q(!1),s=D(),m=D(),g=ce(e,"menu"),c=b({get:()=>g.value,set:C=>{var L;g.value&&!C&&((L=s.value)!=null&&L.Î¨openChildren.size)||(g.value=C)}}),d=Q(-1),y=b(()=>{var C;return(C=a.value)==null?void 0:C.color}),k=b(()=>c.value?e.closeText:e.openText),{items:V,transformIn:h,transformOut:x}=ol(e),{textColorClasses:B,textColorStyles:I}=Ze(y),w=ce(e,"search",""),P=ce(e,"modelValue",[],C=>h(C===null?[null]:pe(C)),C=>{const L=x(C);return e.multiple?L:L[0]??null}),R=b(()=>typeof e.counterValue=="function"?e.counterValue(P.value):typeof e.counterValue=="number"?e.counterValue:P.value.length),S=Vt(e),{filteredItems:$,getMatches:U}=ln(e,V,()=>i.value?"":w.value),T=b(()=>e.hideSelected?$.value.filter(C=>!P.value.some(L=>L.value===C.value)):$.value),F=b(()=>!!(e.chips||t.chip)),O=b(()=>F.value||!!t.selection),z=b(()=>P.value.map(C=>C.props.value)),_=b(()=>{var L;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&w.value===((L=T.value[0])==null?void 0:L.title))&&T.value.length>0&&!i.value&&!r.value}),E=b(()=>e.hideNoData&&!T.value.length||S.isReadonly.value||S.isDisabled.value),H=D(),q=xl(H,a);function K(C){e.openOnClear&&(c.value=!0),w.value=""}function f(){E.value||(c.value=!0)}function v(C){E.value||(u.value&&(C.preventDefault(),C.stopPropagation()),c.value=!c.value)}function p(C){var L;it(C)&&((L=a.value)==null||L.focus())}function A(C){var N,le,ge;if(S.isReadonly.value)return;const L=a.value.selectionStart,ee=P.value.length;if((d.value>-1||["Enter","ArrowDown","ArrowUp"].includes(C.key))&&C.preventDefault(),["Enter","ArrowDown"].includes(C.key)&&(c.value=!0),["Escape"].includes(C.key)&&(c.value=!1),_.value&&["Enter","Tab"].includes(C.key)&&!P.value.some(ie=>{let{value:se}=ie;return se===T.value[0].value})&&te(T.value[0]),C.key==="ArrowDown"&&_.value&&((N=H.value)==null||N.focus("next")),["Backspace","Delete"].includes(C.key)){if(!e.multiple&&O.value&&P.value.length>0&&!w.value)return te(P.value[0],!1);if(~d.value){const ie=d.value;te(P.value[d.value],!1),d.value=ie>=ee-1?ee-2:ie}else C.key==="Backspace"&&!w.value&&(d.value=ee-1)}if(e.multiple){if(C.key==="ArrowLeft"){if(d.value<0&&L>0)return;const ie=d.value>-1?d.value-1:ee-1;P.value[ie]?d.value=ie:(d.value=-1,a.value.setSelectionRange((le=w.value)==null?void 0:le.length,(ge=w.value)==null?void 0:ge.length))}if(C.key==="ArrowRight"){if(d.value<0)return;const ie=d.value+1;P.value[ie]?d.value=ie:(d.value=-1,a.value.setSelectionRange(0,0))}}}function J(C){if($e(a.value,":autofill")||$e(a.value,":-webkit-autofill")){const L=V.value.find(ee=>ee.title===C.target.value);L&&te(L)}}function M(){var C;e.eager&&((C=m.value)==null||C.calculateVisibleItems())}function W(){var C;u.value&&(i.value=!0,(C=a.value)==null||C.focus())}function Z(C){u.value=!0,setTimeout(()=>{r.value=!0})}function ve(C){r.value=!1}function me(C){(C==null||C===""&&!e.multiple&&!O.value)&&(P.value=[])}const Ve=Q(!1);function te(C){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!C||C.props.disabled))if(e.multiple){const ee=P.value.findIndex(le=>e.valueComparator(le.value,C.value)),N=L??!~ee;if(~ee){const le=N?[...P.value,C]:[...P.value];le.splice(ee,1),P.value=le}else N&&(P.value=[...P.value,C]);e.clearOnSelect&&(w.value="")}else{const ee=L!==!1;P.value=ee?[C]:[],w.value=ee&&!O.value?C.title:"",be(()=>{c.value=!1,i.value=!0})}}return j(u,(C,L)=>{var ee;C!==L&&(C?(Ve.value=!0,w.value=e.multiple||O.value?"":String(((ee=P.value.at(-1))==null?void 0:ee.props.title)??""),i.value=!0,be(()=>Ve.value=!1)):(!e.multiple&&w.value==null&&(P.value=[]),c.value=!1,P.value.some(N=>{let{title:le}=N;return le===w.value})||(w.value=""),d.value=-1))}),j(w,C=>{!u.value||Ve.value||(C&&(c.value=!0),i.value=!C)}),j(c,()=>{if(!e.hideSelected&&c.value&&P.value.length){const C=T.value.findIndex(L=>P.value.some(ee=>L.value===ee.value));Pe&&window.requestAnimationFrame(()=>{var L;C>=0&&((L=m.value)==null||L.scrollToIndex(C))})}}),j(()=>e.items,(C,L)=>{c.value||u.value&&!L.length&&C.length&&(c.value=!0)}),oe(()=>{const C=!!(!e.hideNoData||T.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),L=P.value.length>0,ee=xe.filterProps(e);return l(xe,G({ref:a},ee,{modelValue:w.value,"onUpdate:modelValue":[N=>w.value=N,me],focused:u.value,"onUpdate:focused":N=>u.value=N,validationValue:P.externalValue,counterValue:R.value,dirty:L,onChange:J,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":c.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!O.value,"v-autocomplete--selecting-index":d.value>-1},e.class],style:e.style,readonly:S.isReadonly.value,placeholder:L?void 0:e.placeholder,"onClick:clear":K,"onMousedown:control":f,onKeydown:A}),{...t,default:()=>l(ae,null,[l(il,G({ref:s,modelValue:c.value,"onUpdate:modelValue":N=>c.value=N,activator:"parent",contentClass:"v-autocomplete__content",disabled:E.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:M,onAfterLeave:W},e.menuProps),{default:()=>[C&&l(ul,G({ref:H,selected:z.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:N=>N.preventDefault(),onKeydown:p,onFocusin:Z,onFocusout:ve,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},q,e.listProps),{default:()=>{var N,le,ge;return[(N=t["prepend-item"])==null?void 0:N.call(t),!T.value.length&&!e.hideNoData&&(((le=t["no-data"])==null?void 0:le.call(t))??l(qe,{title:o(e.noDataText)},null)),l(Cl,{ref:m,renderless:!0,items:T.value},{default:ie=>{var wt;let{item:se,index:we,itemRef:ye}=ie;const It=G(se.props,{ref:ye,key:we,active:_.value&&we===0?!0:void 0,onClick:()=>te(se,null)});return((wt=t.item)==null?void 0:wt.call(t,{item:se,index:we,props:It}))??l(qe,G(It,{role:"option"}),{prepend:Le=>{let{isSelected:Ue}=Le;return l(ae,null,[e.multiple&&!e.hideSelected?l(fl,{key:se.value,modelValue:Ue,ripple:!1,tabindex:"-1"},null):void 0,se.props.prependAvatar&&l(Ge,{image:se.props.prependAvatar},null),se.props.prependIcon&&l(re,{icon:se.props.prependIcon},null)])},title:()=>{var Le,Ue;return i.value?se.title:an(se.title,(Le=U(se))==null?void 0:Le.title,((Ue=w.value)==null?void 0:Ue.length)??0)}})}}),(ge=t["append-item"])==null?void 0:ge.call(t)]}})]}),P.value.map((N,le)=>{function ge(ye){ye.stopPropagation(),ye.preventDefault(),te(N,!1)}const ie={"onClick:close":ge,onKeydown(ye){ye.key!=="Enter"&&ye.key!==" "||(ye.preventDefault(),ye.stopPropagation(),ge(ye))},onMousedown(ye){ye.preventDefault(),ye.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},se=F.value?!!t.chip:!!t.selection,we=se?sl(F.value?t.chip({item:N,index:le,props:ie}):t.selection({item:N,index:le})):void 0;if(!(se&&!we))return l("div",{key:N.value,class:["v-autocomplete__selection",le===d.value&&["v-autocomplete__selection--selected",B.value]],style:le===d.value?I.value:{}},[F.value?t.chip?l(Ce,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:N.title}}},{default:()=>[we]}):l(De,G({key:"chip",closable:e.closableChips,size:"small",text:N.title,disabled:N.props.disabled},ie),null):we??l("span",{class:"v-autocomplete__selection-text"},[N.title,e.multiple&&le<P.value.length-1&&l("span",{class:"v-autocomplete__selection-comma"},[he(",")])])])})]),"append-inner":function(){var ie;for(var N=arguments.length,le=new Array(N),ge=0;ge<N;ge++)le[ge]=arguments[ge];return l(ae,null,[(ie=t["append-inner"])==null?void 0:ie.call(t,...le),e.menuIcon?l(re,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:v,onClick:oa,"aria-label":o(k.value),title:o(k.value),tabindex:"-1"},null):void 0])}})}),Re({isFocused:u,isPristine:i,menu:c,search:w,filteredItems:$,select:te},a)}}),un=X({...fe(),...Ia()},"VForm"),sn=ne()({name:"VForm",props:un(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,n){let{slots:t,emit:o}=n;const a=wa(e),u=D();function i(s){s.preventDefault(),a.reset()}function r(s){const m=s,g=a.validate();m.then=g.then.bind(g),m.catch=g.catch.bind(g),m.finally=g.finally.bind(g),o("submit",m),m.defaultPrevented||g.then(c=>{var y;let{valid:d}=c;d&&((y=u.value)==null||y.submit())}),m.preventDefault()}return oe(()=>{var s;return l("form",{ref:u,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:i,onSubmit:r},[(s=t.default)==null?void 0:s.call(t,a)])}),Re(a,u)}}),rn=X({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...kt(),...St()},"VTextarea"),cn=ne()({name:"VTextarea",directives:{Intersect:al},inheritAttrs:!1,props:rn(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:o,slots:a}=n;const u=ce(e,"modelValue"),{isFocused:i,focus:r,blur:s}=pt(e),m=b(()=>typeof e.counterValue=="function"?e.counterValue(u.value):(u.value||"").toString().length),g=b(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function c(F,O){var z,_;!e.autofocus||!F||(_=(z=O[0].target)==null?void 0:z.focus)==null||_.call(z)}const d=D(),y=D(),k=Q(""),V=D(),h=b(()=>e.persistentPlaceholder||i.value||e.active);function x(){var F;V.value!==document.activeElement&&((F=V.value)==null||F.focus()),i.value||r()}function B(F){x(),o("click:control",F)}function I(F){o("mousedown:control",F)}function w(F){F.stopPropagation(),x(),be(()=>{u.value="",nl(e["onClick:clear"],F)})}function P(F){var z;const O=F.target;if(u.value=O.value,(z=e.modelModifiers)!=null&&z.trim){const _=[O.selectionStart,O.selectionEnd];be(()=>{O.selectionStart=_[0],O.selectionEnd=_[1]})}}const R=D(),S=D(+e.rows),$=b(()=>["plain","underlined"].includes(e.variant));je(()=>{e.autoGrow||(S.value=+e.rows)});function U(){e.autoGrow&&be(()=>{if(!R.value||!y.value)return;const F=getComputedStyle(R.value),O=getComputedStyle(y.value.$el),z=parseFloat(F.getPropertyValue("--v-field-padding-top"))+parseFloat(F.getPropertyValue("--v-input-padding-top"))+parseFloat(F.getPropertyValue("--v-field-padding-bottom")),_=R.value.scrollHeight,E=parseFloat(F.lineHeight),H=Math.max(parseFloat(e.rows)*E+z,parseFloat(O.getPropertyValue("--v-input-control-height"))),q=parseFloat(e.maxRows)*E+z||1/0,K=Ne(_??0,H,q);S.value=Math.floor((K-z)/E),k.value=Fe(K)})}gt(U),j(u,U),j(()=>e.rows,U),j(()=>e.maxRows,U),j(()=>e.density,U);let T;return j(R,F=>{F?(T=new ResizeObserver(U),T.observe(R.value)):T==null||T.disconnect()}),rt(()=>{T==null||T.disconnect()}),oe(()=>{const F=!!(a.counter||e.counter||e.counterValue),O=!!(F||a.details),[z,_]=vt(t),{modelValue:E,...H}=We.filterProps(e),q=Sl(e);return l(We,G({ref:d,modelValue:u.value,"onUpdate:modelValue":K=>u.value=K,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":$.value},e.class],style:e.style},z,H,{centerAffix:S.value===1&&!$.value,focused:i.value}),{...a,default:K=>{let{id:f,isDisabled:v,isDirty:p,isReadonly:A,isValid:J}=K;return l(Ct,G({ref:y,style:{"--v-textarea-control-height":k.value},onClick:B,onMousedown:I,"onClick:clear":w,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},q,{id:f.value,active:h.value||p.value,centerAffix:S.value===1&&!$.value,dirty:p.value||e.dirty,disabled:v.value,focused:i.value,error:J.value===!1}),{...a,default:M=>{let{props:{class:W,...Z}}=M;return l(ae,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),Ie(l("textarea",G({ref:V,class:W,value:u.value,onInput:P,autofocus:e.autofocus,readonly:A.value,disabled:v.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:x,onBlur:s},Z,_),null),[[Ye("intersect"),{handler:c},null,{once:!0}]]),e.autoGrow&&Ie(l("textarea",{class:[W,"v-textarea__sizer"],id:`${Z.id}-sizer`,"onUpdate:modelValue":ve=>u.value=ve,ref:R,readonly:!0,"aria-hidden":"true"},null),[[ia,u.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:O?K=>{var f;return l(ae,null,[(f=a.details)==null?void 0:f.call(a,K),F&&l(ae,null,[l("span",null,null),l(kl,{active:e.persistentCounter||i.value,value:m.value,max:g.value,disabled:e.disabled},a.counter)])])}:void 0})}),Re({},d,y,V)}});function dn(e,n,t,o,a,u){const i=ut("SelectFromRequest"),r=ut("RecordForm");return _e(),st(r,{record:e.spirit,endpoint:e.endpoint,method:e.method,onSave:e.handleSave},{trigger:Y(({openDialog:s})=>[Be(e.$slots,"trigger",{openDialog:s},()=>[l(Me,{color:"primary"},{default:Y(()=>[he(ke(e.isEditMode?"Edit Spirit":"Add Spirit"),1)]),_:1})])]),title:Y(()=>[Ae("span",null,ke(e.isEditMode?"Edit Spirit":"Add New Spirit"),1)]),form:Y(({record:s})=>[l(sn,null,{default:Y(()=>[l(xe,{modelValue:s.name,"onUpdate:modelValue":m=>s.name=m,label:"Name",required:""},null,8,["modelValue","onUpdate:modelValue"]),l(cn,{modelValue:s.description,"onUpdate:modelValue":m=>s.description=m,label:"Description",rows:"4",required:""},null,8,["modelValue","onUpdate:modelValue"]),l(xe,{modelValue:s.image,"onUpdate:modelValue":m=>s.image=m,label:"Image"},null,8,["modelValue","onUpdate:modelValue"]),l(xe,{modelValue:s.rating,"onUpdate:modelValue":m=>s.rating=m,label:"Rating"},null,8,["modelValue","onUpdate:modelValue"]),l(xe,{modelValue:s.ppm,"onUpdate:modelValue":m=>s.ppm=m,label:"Ppm"},null,8,["modelValue","onUpdate:modelValue"]),l(i,{path:"spirit_types",key:"name",name:"spirit_type",modelValue:e.selectedSpiritType,"onUpdate:modelValue":n[0]||(n[0]=m=>e.selectedSpiritType=m)},null,8,["modelValue"]),l(i,{path:"spirit_styles",key:"name",name:"spirit_style",modelValue:e.selectedSpiritStyle,"onUpdate:modelValue":n[1]||(n[1]=m=>e.selectedSpiritStyle=m)},null,8,["modelValue"]),l(i,{path:"distilleries",key:"name",name:"distillery",modelValue:e.selectedDistillery,"onUpdate:modelValue":n[2]||(n[2]=m=>e.selectedDistillery=m)},null,8,["modelValue"]),l(on,{modelValue:e.value,"onUpdate:modelValue":n[3]||(n[3]=m=>e.value=m),items:e.items,label:"Searchable Chips",chips:"",multiple:""},null,8,["modelValue","items"])]),_:2},1024)]),_:3},8,["record","endpoint","method","onSave"])}const vn=Qe(Ya,[["render",dn]]),fn=Xe({name:"Spirit",props:{spirit:{type:Object,required:!0}},components:{SpiritForm:vn},setup(e){const n=D({...e.spirit}),t=Je(),o=b(()=>`https://api.fordsdevelopment.co.uk/drinks/spirits/${e.spirit.id}`);return{editedSpirit:n,saveChanges:async({data:u,endpoint:i})=>{try{const r=await fetch(i,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`},body:JSON.stringify(u)});if(!r.ok)throw new Error(`Error: ${r.status} - ${r.statusText}`);const s=await r.json();n.value=s,window.location.reload()}catch(r){console.error("Error saving spirit:",r)}},endpoint:o}}}),mn={class:"image-container"},gn={class:"my-4 text-subtitle-1 spirit-factory"};function yn(e,n,t,o,a,u){const i=ut("SpiritForm");return _e(),st(Et,null,{default:Y(()=>[l(ca,{cols:"12"},{default:Y(()=>[l(i,{spirit:e.spirit},{trigger:Y(({openDialog:r})=>[l(Me,{density:"comfortable",icon:"mdi-dots-vertical",variant:"tonal",onClick:r},null,8,["onClick"])]),_:1},8,["spirit"])]),_:1}),Ae("div",mn,[l(ua,{height:"250",src:e.spirit.image,contain:""},null,8,["src"])]),l(sa,null,{default:Y(()=>[l(Mt,null,{default:Y(()=>[he(ke(e.spirit.name),1)]),_:1})]),_:1}),l(Dt,null,{default:Y(()=>[l(ra,{align:"center",class:"mx-0"},{default:Y(()=>[l(da,{"model-value":e.spirit.rating,color:"amber",density:"compact",size:"small","half-increments":"",readonly:""},null,8,["model-value"])]),_:1}),Ae("p",gn,[l(re,{color:"black",icon:"mdi-factory",size:"large"}),he(" "+ke(e.spirit.distilleries.map(r=>r.name).join(", ")||"No distillery."),1)]),Ae("div",null,[l(De,{class:"mb-2 mr-2",color:e.spirit.spirit_type.colour,size:"small",label:""},{default:Y(()=>[l(re,{icon:e.spirit.spirit_type.icon,start:""},null,8,["icon"]),he(" "+ke(e.spirit.spirit_type.name),1)]),_:1},8,["color"]),l(De,{class:"mb-2 mr-2",color:e.spirit.spirit_type.colour,size:"small",label:""},{default:Y(()=>[l(re,{icon:e.spirit.spirit_style.icon,start:""},null,8,["icon"]),he(" "+ke(e.spirit.spirit_style.name),1)]),_:1},8,["color"]),e.spirit.ppm?(_e(),st(De,{key:0,class:"mb-2",color:"#8c4f00",size:"small",label:""},{default:Y(()=>[l(re,{icon:"mdi mdi-smoke",start:""}),he(" "+ke(e.spirit.ppm),1)]),_:1})):$t("",!0)]),Ae("div",null,ke(e.spirit.description||"No description."),1)]),_:1})]),_:1})}const Vn=Qe(fn,[["render",yn]]);export{Vn as S,vn as a,Qa as b};
