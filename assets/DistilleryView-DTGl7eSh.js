import{d as h,u,C as _,_ as f,y as t,a as g,z as k,b as a,D as w,F as $,B as S,A as p,o as e,c as v}from"./index-B-rq8bqZ.js";import{S as B}from"./Spirit-FDkaiMdK.js";import{M as C}from"./Map-CjAY8N-D.js";import"./VCol-BsieP9_M.js";import"./VRating-mbr9RwAb.js";const D=h({name:"App",data(){return{distillery:{},pins:[]}},components:{Spirit:B,Map:C},mounted(){this.fetchDistillery()},methods:{async fetchDistillery(){const r=_().params.id,o=u();try{const i=await fetch(`https://api.allorigins.win/raw?url=${encodeURIComponent(`https://api.fordsdevelopment.co.uk/drinks/distilleries/${r}?password=${o.password}`)}`);this.distillery=await i.json(),this.distillery.lat&&(this.pins=[{lat:parseFloat(this.distillery.lat),lng:parseFloat(this.distillery.lng),body:`<h1>${this.distillery.name}</h1>`}])}catch(i){console.error("Error fetching distillery:",i)}}}}),F={key:0},M={key:1,class:"row m-0 g-2 p-2"},V=["src","alt"],A={key:2},L={key:3,class:"row m-0 g-2 p-2"},N={key:4};function b(s,r,o,i,E,R){var n,l;const d=p("Map"),c=p("Spirit");return e(),t("main",null,[s.pins.length>0?(e(),t("div",F,[g(d,{pins:s.pins},null,8,["pins"])])):k("",!0),(n=s.distillery)!=null&&n.id?(e(),t("div",M,[a("h1",null,w(s.distillery.name),1),a("img",{src:s.distillery.image_link,alt:s.distillery.name,class:"whisky-image"},null,8,V)])):(e(),t("p",A,"Loading distillery...")),((l=s.distillery.spirits)==null?void 0:l.length)>0?(e(),t("div",L,[(e(!0),t($,null,S(s.distillery.spirits,(m,y)=>(e(),v(c,{key:y,spirit:m},null,8,["spirit"]))),128))])):(e(),t("p",N,"Loading spirits..."))])}const q=f(D,[["render",b]]);export{q as default};
