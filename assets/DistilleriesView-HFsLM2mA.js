import{d as u,_,o as n,c as o,f as i,t as r,i as k,M as $,u as w,b as g,e as D,F as h,r as v,g as m,h as b}from"./index-FqoWlvqm.js";const M=u({name:"Distillery",props:{spirit:{type:Object,required:!0}},computed:{distilleryLink(){return`/Drinks/#/distilleries/${this.spirit.id}`}}}),V={class:"col-12 col-md-6 col-lg-4 col-xl-3"},B={class:"whisky-container"},C={class:"row"},F={class:"col-8"},L={class:"whisky-name"},N={class:"whisky-description"},j={class:"whisky-details"},S={class:"whisky-location"},E={class:"whisky-info"},q={class:"col-4"},A=["src","alt"],I=["href"];function O(s,e,t,l,f,y){var a,d,p,c;return n(),o("div",V,[i("div",B,[i("div",C,[i("div",F,[i("h2",L,r(s.spirit.name),1),i("p",N,r(s.spirit.description),1),i("div",j,[i("p",S,r((a=s.spirit.country)==null?void 0:a.name)+" - "+r((d=s.spirit.region)==null?void 0:d.name),1),e[2]||(e[2]=i("br",null,null,-1)),i("p",E,[e[0]||(e[0]=i("b",null,"Distillery:",-1)),k(" "+r((p=s.spirit.distillery)==null?void 0:p.name),1),e[1]||(e[1]=i("br",null,null,-1))])])]),i("div",q,[i("img",{src:(c=s.spirit)==null?void 0:c.image_link,alt:s.spirit.name,class:"whisky-image"},null,8,A)])]),i("a",{href:s.distilleryLink,class:"button"},"More",8,I)])])}const P=_(M,[["render",O]]),R=u({name:"App",components:{Distillery:P,Map:$},data(){return{distilleries:[],pins:[]}},mounted(){this.fetchDistilleries()},methods:{async fetchDistilleries(){try{const s=w(),e=await fetch(`https://api.allorigins.win/raw?url=${encodeURIComponent(`https://api.fordsdevelopment.co.uk/drinks/distilleries?password=${s.password}`)}`);this.distilleries=await e.json(),this.pins=this.distilleries.filter(t=>{if(t.lat)return t}).map(t=>({lat:parseFloat(t.lat),lng:parseFloat(t.lng),body:`<h4>${t.name}</h4>
                  <ul>
                    ${t.spirits.map(l=>`
                      <li>
                        <a href="/Drinks/#/spirits/${l.id}">${l.name}</a>
                      </li>
                    `).join("")}
                  </ul>
            `}))}catch(s){console.error("Error fetching distilleries:",s)}}}}),T={key:0},U={key:0,class:"row m-0 g-2 p-2"},z={key:1};function G(s,e,t,l,f,y){const a=m("Map"),d=m("Distillery");return n(),o(h,null,[s.pins.length>0?(n(),o("div",T,[g(a,{pins:s.pins},null,8,["pins"])])):D("",!0),i("main",null,[s.distilleries.length>0?(n(),o("div",U,[(n(!0),o(h,null,v(s.distilleries,(p,c)=>(n(),b(d,{key:c,spirit:p},null,8,["spirit"]))),128))])):(n(),o("p",z,"Loading distilleries..."))])],64)}const J=_(R,[["render",G]]);export{J as default};
