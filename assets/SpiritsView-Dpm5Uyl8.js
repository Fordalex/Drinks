import{d as F,r as w,e as $,f as P,u as R,p as U,m as N,g as E,h as j,i as q,j as D,t as z,k as I,l as H,n as M,q as O,s as G,a as o,v as J,x as K,_ as Q,y as v,w as n,b as p,c as b,z as _,F as k,A as x,o as d,V as h,B as T}from"./index-B-rq8bqZ.js";import{S as W,R as X,V as Y,a as C,b as Z}from"./Spirit-FDkaiMdK.js";import{V}from"./VContainer-DO7Uul1n.js";import{V as S}from"./VCol-BsieP9_M.js";import"./VRating-mbr9RwAb.js";const ee=F({name:"SpiritsView",components:{Spirit:W,RecordForm:X},setup(){const e=w([]),t=w(!0),a=$(()=>"https://api.fordsdevelopment.co.uk/drinks/spirits"),u=async()=>{try{const r=R(),c="https://api.fordsdevelopment.co.uk/drinks/spirits";if(!r.accessToken){console.error("No access token available");return}const i=await fetch(c,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.accessToken}`}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);e.value=await i.json(),t.value=!1}catch(r){console.error("Error fetching spirits:",r)}};return P(()=>{u()}),{spirits:e,loading:t,endpoint:a}}}),te={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function ae(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return o("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[t])}function B(e){const[t,a]=e.split("@");return Array.from({length:a}).map(()=>m(t))}function m(e){let t=[];if(!e)return t;const a=te[e];if(e!==a){if(e.includes(","))return L(e);if(e.includes("@"))return B(e);a.includes(",")?t=L(a):a.includes("@")?t=B(a):a&&t.push(m(a))}return[ae(e,t)]}function L(e){return e.replace(/\s/g,"").split(",").map(m)}const oe=U({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...N(),...E(),...j()},"VSkeletonLoader"),ne=q()({name:"VSkeletonLoader",props:oe(),setup(e,t){let{slots:a}=t;const{backgroundColorClasses:u,backgroundColorStyles:r}=D(z(e,"color")),{dimensionStyles:c}=I(e),{elevationClasses:i}=H(e),{themeClasses:f}=M(e),{t:l}=O(),s=$(()=>m(K(e.type).join(",")));return G(()=>{var y;const g=!a.default||e.loading,A=e.boilerplate||!g?{}:{ariaLive:"polite",ariaLabel:l(e.loadingText),role:"alert"};return o("div",J({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},f.value,u.value,i.value],style:[r.value,g?c.value:{}]},A),[g?s.value:(y=a.default)==null?void 0:y.call(a)])}),{}}});function le(e,t,a,u,r,c){const i=x("RecordForm"),f=x("Spirit");return d(),v(k,null,[o(V,null,{default:n(()=>[o(h,null,{default:n(()=>[o(S,{cols:"12"},{default:n(()=>t[0]||(t[0]=[p("h1",null,"Spirits",-1)])),_:1})]),_:1})]),_:1}),p("div",null,[o(i,{endpoint:e.endpoint,method:"POST",onSave:e.handleSave},{"button-label":n(()=>t[1]||(t[1]=[p("span",null,"Add Spirit",-1)])),title:n(()=>t[2]||(t[2]=[p("span",null,"Add New Spirit",-1)])),form:n(({record:l})=>[o(Y,null,{default:n(()=>[o(C,{modelValue:l.name,"onUpdate:modelValue":s=>l.name=s,label:"Name",required:""},null,8,["modelValue","onUpdate:modelValue"]),o(Z,{modelValue:l.description,"onUpdate:modelValue":s=>l.description=s,label:"Description",rows:"4",required:""},null,8,["modelValue","onUpdate:modelValue"]),o(C,{modelValue:l.image,"onUpdate:modelValue":s=>l.image=s,label:"Image URL"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:1},8,["endpoint","onSave"])]),e.loading?_("",!0):(d(),b(V,{key:0},{default:n(()=>[o(h,null,{default:n(()=>[(d(!0),v(k,null,T(e.spirits,(l,s)=>(d(),b(S,{cols:"12",sm:"6",md:"4",lg:"3",key:s,spirit:l},{default:n(()=>[o(f,{spirit:l},null,8,["spirit"])]),_:2},1032,["spirit"]))),128))]),_:1})]),_:1})),e.loading?(d(),b(V,{key:1},{default:n(()=>[o(h,null,{default:n(()=>[(d(),v(k,null,T(16,l=>o(S,{cols:"12",sm:"6",md:"4",lg:"3"},{default:n(()=>[o(ne,{class:"border",type:"image, article"})]),_:1})),64))]),_:1})]),_:1})):_("",!0)],64)}const ce=Q(ee,[["render",le]]);export{ce as default};
