import{d as b,e as B,_ as h,o as s,c as t,w as e,a,n as L,p as M,q as v,s as T,j as w,t as V,v as j,b as l,x as A,y as N,V as d,z as S,i as z,A as I,u as F,r as g,f as q,g as k,h as m,F as C,k as $,l as D}from"./index-Dgo0gmOG.js";import{M as R}from"./Map-Bc8QxRRB.js";import{V as U}from"./VRating-DFb_ZKv5.js";import{V as f}from"./VContainer-D8XUICs_.js";import{V as y}from"./VCol-DjnPnRNT.js";import{V as x,a as E}from"./VSkeletonLoader-BGRpqJkl.js";const H=b({name:"Company",props:{company:{type:Object,required:!0}},setup(n){return{companyLink:B(()=>`/Drinks/#/companies/${n.company.id}`)}}});function O(n,o,p,i,c,_){return s(),t(I,null,{loader:e(({isActive:r})=>[a(L,{active:r,color:"deep-purple",height:"4",indeterminate:""},null,8,["active"])]),default:e(()=>[a(M,{height:"250",src:n.company.image_link,cover:""},null,8,["src"]),a(v,null,{default:e(()=>[a(T,null,{default:e(()=>[w(V(n.company.name),1)]),_:1}),a(j,null,{default:e(()=>[o[0]||(o[0]=l("span",{class:"me-1"},"Local Favorite",-1)),a(A,{color:"error",icon:"mdi-fire-circle",size:"small"})]),_:1})]),_:1}),a(v,null,{default:e(()=>[l("p",null,"Brands: "+V(n.company.brands),1)]),_:1}),a(N,null,{default:e(()=>[a(d,{align:"center",class:"mx-0"},{default:e(()=>[a(U,{"model-value":4.5,color:"amber",density:"compact",size:"small","half-increments":"",readonly:""}),o[1]||(o[1]=l("div",{class:"text-grey ms-4"},"4.5 (413)",-1))]),_:1}),o[2]||(o[2]=l("div",{class:"my-4 text-subtitle-1"},"$ â€¢ Italian, Cafe",-1)),l("div",null,V(n.company.description||"No description."),1)]),_:1}),a(S,null,{default:e(()=>[a(z,{href:n.companyLink,color:"deep-purple-lighten-2",text:"More",block:"",border:""},null,8,["href"])]),_:1})]),_:1})}const P=h(H,[["render",O]]),G=b({name:"HomeView",components:{Map:R,Company:P},setup(){const n=F(),o=g([]),p=g(null),i=g(!0),c=async()=>{const r=await fetch("https://api.fordsdevelopment.co.uk/drinks/companies",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.accessToken}`}});if(r.ok)o.value=await r.json(),i.value=!1;else{const u=await r.json();p.value=u.error,i.value=!1}};return q(()=>{c()}),{fetchCompanies:c,companies:o,errorMessage:p,loading:i}}});function J(n,o,p,i,c,_){const r=D("Company");return s(),k(C,null,[a(f,null,{default:e(()=>[a(d,null,{default:e(()=>[a(y,{cols:"12"},{default:e(()=>o[0]||(o[0]=[l("h1",null,"Companies",-1)])),_:1})]),_:1})]),_:1}),n.loading?m("",!0):(s(),t(f,{key:0},{default:e(()=>[a(d,null,{default:e(()=>[a(y,{cols:"12"},{default:e(()=>[n.errorMessage?(s(),t(x,{key:0,type:"error",dismissible:"",border:"left",elevation:"2"},{default:e(()=>[w(V(n.errorMessage),1)]),_:1})):m("",!0)]),_:1})]),_:1})]),_:1})),n.loading?m("",!0):(s(),t(f,{key:1},{default:e(()=>[a(d,null,{default:e(()=>[(s(!0),k(C,null,$(n.companies,u=>(s(),t(y,{cols:"12",sm:"6",md:"4",lg:"3",key:u.id},{default:e(()=>[a(r,{company:u},null,8,["company"])]),_:2},1024))),128))]),_:1})]),_:1})),n.loading?(s(),t(f,{key:2},{default:e(()=>[a(d,null,{default:e(()=>[(s(),k(C,null,$(16,u=>a(y,{cols:"12",sm:"6",md:"4",lg:"3"},{default:e(()=>[a(E,{class:"border",type:"image, article"})]),_:1})),64))]),_:1})]),_:1})):m("",!0)],64)}const ee=h(G,[["render",J]]);export{ee as default};
