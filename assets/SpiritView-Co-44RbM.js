import{d as y,S as u,R as _,u as g,T as k,_ as f,A as t,a as w,B as S,b as l,K as $,F as v,C as B,U as p,o as e,c as C}from"./index-RspQ5tSm.js";const F=y({name:"App",data(){return{distillery:{},pins:[]}},components:{Spirit:u,Map:_},mounted(){this.fetchDistillery()},methods:{async fetchDistillery(){const r=k().params.id,o=g();try{const i=await fetch(`https://api.allorigins.win/raw?url=${encodeURIComponent(`https://api.fordsdevelopment.co.uk/drinks/spirits/${r}?password=${o.password}`)}`);this.distillery=await i.json(),this.distillery.lat&&(this.pins=[{lat:parseFloat(this.distillery.lat),lng:parseFloat(this.distillery.lng),body:`<h1>${this.distillery.name}</h1>
            `}])}catch(i){console.error("Error fetching distillery:",i)}}}}),V={key:0},A={key:1,class:"row m-0 g-2 p-2"},D=["src","alt"],L={key:2},M={key:3,class:"row m-0 g-2 p-2"},N={key:4};function R(s,r,o,i,b,E){var n,a;const d=p("Map"),c=p("Spirit");return e(),t("main",null,[s.pins.length>0?(e(),t("div",V,[w(d,{pins:s.pins},null,8,["pins"])])):S("",!0),(n=s.distillery)!=null&&n.id?(e(),t("div",A,[l("h1",null,$(s.distillery.name),1),l("img",{src:s.distillery.image_link,alt:s.distillery.name,class:"whisky-image"},null,8,D)])):(e(),t("p",L,"Loading distillery...")),((a=s.distillery.spirits)==null?void 0:a.length)>0?(e(),t("div",M,[(e(!0),t(v,null,B(s.distillery.spirits,(h,m)=>(e(),C(c,{key:m,spirit:h},null,8,["spirit"]))),128))])):(e(),t("p",N,"Loading spirits..."))])}const U=f(F,[["render",R]]);export{U as default};
