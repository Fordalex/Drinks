import{d as ye,r as _,u as he,T as O,p as N,U as nt,W as lt,i as q,X as ee,Y as it,Z as Ve,$ as ot,a0 as J,s as G,a1 as Pe,v as j,a as t,a2 as Be,a3 as ve,a4 as st,_ as be,o as xe,y as rt,a5 as te,w as F,P as _e,I as Re,J as K,M as Ee,N as ut,O as ae,e as v,a6 as de,a7 as dt,a8 as ct,t as De,a9 as ft,Q,aa as Ae,ab as Me,ac as le,ad as Te,ae as Le,af as X,h as Ce,q as vt,L as Oe,ag as Ne,ah as ne,ai as mt,aj as gt,n as ze,ak as yt,al as ht,S as Ue,am as ke,j as Vt,an as He,ao as bt,ap as je,aq as xt,ar as Ct,as as kt,F as Y,at as St,au as pt,av as wt,x as ue,aw as It,ax as Pt,ay as Ft,f as qe,az as Fe,aA as $t,aB as Bt,m as _t,aC as Rt,k as Et,aD as Ge,aE as We,aF as Ke,aG as Dt,aH as Je,aI as At,aJ as Mt,aK as Tt,A as Xe,c as Ye,D as ce,b as Z,G as Lt,H as Ot,K as Nt,V as zt}from"./index-B-rq8bqZ.js";import{V as Ut}from"./VCol-BsieP9_M.js";import{V as Ht}from"./VRating-mbr9RwAb.js";const jt=ye({name:"RecordForm",props:{record:{type:Object,default:()=>({})},endpoint:{type:String,required:!0},method:{type:String,default:"POST"}},setup(e){const a=_(!1),s=_({...e.record}),o=he();return O(()=>e.record,i=>{s.value={...i}},{deep:!0,immediate:!0}),{dialog:a,localRecord:s,openDialog:()=>{a.value=!0},saveRecord:async()=>{try{const i=await fetch(e.endpoint,{method:e.method,headers:{"Content-Type":"application/json",Authorization:`Bearer ${o.accessToken}`},body:JSON.stringify(s.value)});if(!i.ok)throw new Error(`Error: ${i.status} - ${i.statusText}`);window.location.reload()}catch(i){console.error("Error saving record:",i)}}}}}),qt=N({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...nt({origin:"center center",scrollStrategy:"block",transition:{component:lt},zIndex:2400})},"VDialog"),Gt=q()({name:"VDialog",props:qt(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,a){let{emit:s,slots:o}=a;const l=ee(e,"modelValue"),{scopeId:n}=it(),i=_();function d(r){var c,S;const u=r.relatedTarget,V=r.target;if(u!==V&&((c=i.value)!=null&&c.contentEl)&&((S=i.value)!=null&&S.globalTop)&&![document,i.value.contentEl].includes(V)&&!i.value.contentEl.contains(V)){const m=st(i.value.contentEl);if(!m.length)return;const R=m[0],C=m[m.length-1];u===R?C.focus():R.focus()}}Ve(()=>{document.removeEventListener("focusin",d)}),ot&&O(()=>l.value&&e.retainFocus,r=>{r?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0});function h(){var r;s("afterEnter"),(r=i.value)!=null&&r.contentEl&&!i.value.contentEl.contains(document.activeElement)&&i.value.contentEl.focus({preventScroll:!0})}function x(){s("afterLeave")}return O(l,async r=>{var u;r||(await J(),(u=i.value.activatorEl)==null||u.focus({preventScroll:!0}))}),G(()=>{const r=Pe.filterProps(e),u=j({"aria-haspopup":"dialog"},e.activatorProps),V=j({tabindex:-1},e.contentProps);return t(Pe,j({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},r,{modelValue:l.value,"onUpdate:modelValue":c=>l.value=c,"aria-modal":"true",activatorProps:u,contentProps:V,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:h,onAfterLeave:x},n),{activator:o.activator,default:function(){for(var c=arguments.length,S=new Array(c),m=0;m<c;m++)S[m]=arguments[m];return t(Be,{root:"VDialog"},{default:()=>{var R;return[(R=o.default)==null?void 0:R.call(o,...S)]}})}})}),ve({},i)}});function Wt(e,a,s,o,l,n){return xe(),rt("div",null,[te(e.$slots,"trigger",{openDialog:e.openDialog},()=>[t(ae,{color:"primary",onClick:e.openDialog},{default:F(()=>a[2]||(a[2]=[K("Add Record")])),_:1},8,["onClick"])]),t(Gt,{modelValue:e.dialog,"onUpdate:modelValue":a[1]||(a[1]=i=>e.dialog=i),"max-width":"500"},{default:F(()=>[t(_e,null,{default:F(()=>[t(Re,null,{default:F(()=>[te(e.$slots,"title",{},()=>[a[3]||(a[3]=K("Add/Edit Record"))])]),_:3}),t(Ee,null,{default:F(()=>[te(e.$slots,"form",{record:e.localRecord},()=>[a[4]||(a[4]=K("No form provided"))])]),_:3}),t(ut,null,{default:F(()=>[te(e.$slots,"actions",{},()=>[t(ae,{text:"",color:"secondary",onClick:a[0]||(a[0]=i=>e.dialog=!1)},{default:F(()=>a[5]||(a[5]=[K("Cancel")])),_:1}),t(ae,{text:"",color:"primary",onClick:e.saveRecord},{default:F(()=>a[6]||(a[6]=[K("Save")])),_:1},8,["onClick"])])]),_:3})]),_:3})]),_:3},8,["modelValue"])])}const Kt=be(jt,[["render",Wt]]),Jt=ye({name:"SpiritForm",props:{spirit:{type:Object,required:!1,default:()=>({name:"",description:"",image:""})}},components:{RecordForm:Kt},setup(e){he();const a=v(()=>!!e.spirit.id),s=v(()=>a.value?`https://api.fordsdevelopment.co.uk/drinks/spirits/${e.spirit.id}`:"https://api.fordsdevelopment.co.uk/drinks/spirits"),o=v(()=>a.value?"PUT":"POST");return{isEditMode:a,endpoint:s,method:o,handleSave:async n=>{console.log(`${a.value?"Updated":"Created"} record:`,n),window.location.reload()}}}}),Qe=Symbol.for("vuetify:form"),Xt=N({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Yt(e){const a=ee(e,"modelValue"),s=v(()=>e.disabled),o=v(()=>e.readonly),l=de(!1),n=_([]),i=_([]);async function d(){const r=[];let u=!0;i.value=[],l.value=!0;for(const V of n.value){const c=await V.validate();if(c.length>0&&(u=!1,r.push({id:V.id,errorMessages:c})),!u&&e.fastFail)break}return i.value=r,l.value=!1,{valid:u,errors:i.value}}function h(){n.value.forEach(r=>r.reset())}function x(){n.value.forEach(r=>r.resetValidation())}return O(n,()=>{let r=0,u=0;const V=[];for(const c of n.value)c.isValid===!1?(u++,V.push({id:c.id,errorMessages:c.errorMessages})):c.isValid===!0&&r++;i.value=V,a.value=u>0?!1:r===n.value.length?!0:null},{deep:!0,flush:"post"}),dt(Qe,{register:r=>{let{id:u,vm:V,validate:c,reset:S,resetValidation:m}=r;n.value.some(R=>R.id===u),n.value.push({id:u,validate:c,reset:S,resetValidation:m,vm:ct(V),isValid:null,errorMessages:[]})},unregister:r=>{n.value=n.value.filter(u=>u.id!==r)},update:(r,u,V)=>{const c=n.value.find(S=>S.id===r);c&&(c.isValid=u,c.errorMessages=V)},isDisabled:s,isReadonly:o,isValidating:l,isValid:a,items:n,validateOn:De(e,"validateOn")}),{errors:i,isDisabled:s,isReadonly:o,isValidating:l,isValid:a,items:n,validate:d,reset:h,resetValidation:x}}function Qt(e){const a=ft(Qe,null);return{...a,isReadonly:v(()=>!!((e==null?void 0:e.readonly)??(a==null?void 0:a.isReadonly.value))),isDisabled:v(()=>!!((e==null?void 0:e.disabled)??(a==null?void 0:a.isDisabled.value)))}}const Zt=N({...Q(),...Xt()},"VForm"),ea=q()({name:"VForm",props:Zt(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,a){let{slots:s,emit:o}=a;const l=Yt(e),n=_();function i(h){h.preventDefault(),l.reset()}function d(h){const x=h,r=l.validate();x.then=r.then.bind(r),x.catch=r.catch.bind(r),x.finally=r.finally.bind(r),o("submit",x),x.defaultPrevented||r.then(u=>{var c;let{valid:V}=u;V&&((c=n.value)==null||c.submit())}),x.preventDefault()}return G(()=>{var h;return t("form",{ref:n,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:i,onSubmit:d},[(h=s.default)==null?void 0:h.call(s,l)])}),ve(l,n)}}),ta=N({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Q(),...Ae({transition:{component:Me}})},"VCounter"),Ze=q()({name:"VCounter",functional:!0,props:ta(),setup(e,a){let{slots:s}=a;const o=v(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return G(()=>t(Le,{transition:e.transition},{default:()=>[le(t("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[s.default?s.default({counter:o.value,max:e.max,value:e.value}):o.value]),[[Te,e.active]])]})),{}}}),aa=N({text:String,onClick:X(),...Q(),...Ce()},"VLabel"),na=q()({name:"VLabel",props:aa(),setup(e,a){let{slots:s}=a;return G(()=>{var o;return t("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(o=s.default)==null?void 0:o.call(s)])}),{}}}),la=N({floating:Boolean,...Q()},"VFieldLabel"),re=q()({name:"VFieldLabel",props:la(),setup(e,a){let{slots:s}=a;return G(()=>t(na,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},s)),{}}});function et(e){const{t:a}=vt();function s(o){let{name:l}=o;const n={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[l],i=e[`onClick:${l}`],d=i&&n?a(`$vuetify.input.${n}`,e.label??""):void 0;return t(Oe,{icon:e[`${l}Icon`],"aria-label":d,onClick:i},null)}return{InputIcon:s}}const tt=N({focused:Boolean,"onUpdate:focused":X()},"focus");function Se(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne();const s=ee(e,"focused"),o=v(()=>({[`${a}--focused`]:s.value}));function l(){s.value=!0}function n(){s.value=!1}return{focusClasses:o,isFocused:s,focus:l,blur:n}}const ia=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],pe=N({appendInnerIcon:ne,bgColor:String,clearable:Boolean,clearIcon:{type:ne,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ne,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>ia.includes(e)},"onClick:clear":X(),"onClick:appendInner":X(),"onClick:prependInner":X(),...Q(),...mt(),...gt(),...Ce()},"VField"),we=q()({name:"VField",inheritAttrs:!1,props:{id:String,...tt(),...pe()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:s,emit:o,slots:l}=a;const{themeClasses:n}=ze(e),{loaderClasses:i}=yt(e),{focusClasses:d,isFocused:h,focus:x,blur:r}=Se(e),{InputIcon:u}=et(e),{roundedClasses:V}=ht(e),{rtlClasses:c}=Ue(),S=v(()=>e.dirty||e.active),m=v(()=>!e.singleLine&&!!(e.label||l.label)),R=ke(),C=v(()=>e.id||`input-${R}`),M=v(()=>`${C.value}-messages`),f=_(),k=_(),T=_(),y=v(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:p,backgroundColorStyles:$}=Vt(De(e,"bgColor")),{textColorClasses:B,textColorStyles:D}=He(v(()=>e.error||e.disabled?void 0:S.value&&h.value?e.color:e.baseColor));O(S,b=>{if(m.value){const I=f.value.$el,A=k.value.$el;requestAnimationFrame(()=>{const L=bt(I),P=A.getBoundingClientRect(),z=P.x-L.x,U=P.y-L.y-(L.height/2-P.height/2),H=P.width/.75,W=Math.abs(H-L.width)>1?{maxWidth:je(H)}:void 0,me=getComputedStyle(I),ie=getComputedStyle(A),oe=parseFloat(me.transitionDuration)*1e3||150,se=parseFloat(ie.getPropertyValue("--v-field-label-scale")),ge=ie.getPropertyValue("color");I.style.visibility="visible",A.style.visibility="hidden",xt(I,{transform:`translate(${z}px, ${U}px) scale(${se})`,color:ge,...W},{duration:oe,easing:wt,direction:b?"normal":"reverse"}).finished.then(()=>{I.style.removeProperty("visibility"),A.style.removeProperty("visibility")})})}},{flush:"post"});const g=v(()=>({isActive:S,isFocused:h,controlRef:T,blur:r,focus:x}));function E(b){b.target!==document.activeElement&&b.preventDefault()}function w(b){var I;b.key!=="Enter"&&b.key!==" "||(b.preventDefault(),b.stopPropagation(),(I=e["onClick:clear"])==null||I.call(e,new MouseEvent("click")))}return G(()=>{var z,U,H;const b=e.variant==="outlined",I=!!(l["prepend-inner"]||e.prependInnerIcon),A=!!(e.clearable||l.clear),L=!!(l["append-inner"]||e.appendInnerIcon||A),P=()=>l.label?l.label({...g.value,label:e.label,props:{for:C.value}}):e.label;return t("div",j({class:["v-field",{"v-field--active":S.value,"v-field--appended":L,"v-field--center-affix":e.centerAffix??!y.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":I,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!P(),[`v-field--variant-${e.variant}`]:!0},n.value,p.value,d.value,i.value,V.value,c.value,e.class],style:[$.value,e.style],onClick:E},s),[t("div",{class:"v-field__overlay"},null),t(Ct,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),I&&t("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&t(u,{key:"prepend-icon",name:"prependInner"},null),(z=l["prepend-inner"])==null?void 0:z.call(l,g.value)]),t("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&m.value&&t(re,{key:"floating-label",ref:k,class:[B.value],floating:!0,for:C.value,style:D.value},{default:()=>[P()]}),m.value&&t(re,{key:"label",ref:f,for:C.value},{default:()=>[P()]}),(U=l.default)==null?void 0:U.call(l,{...g.value,props:{id:C.value,class:"v-field__input","aria-describedby":M.value},focus:x,blur:r})]),A&&t(kt,{key:"clear"},{default:()=>[le(t("div",{class:"v-field__clearable",onMousedown:W=>{W.preventDefault(),W.stopPropagation()}},[t(Be,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[l.clear?l.clear({...g.value,props:{onKeydown:w,onFocus:x,onBlur:r,onClick:e["onClick:clear"]}}):t(u,{name:"clear",onKeydown:w,onFocus:x,onBlur:r},null)]})]),[[Te,e.dirty]])]}),L&&t("div",{key:"append",class:"v-field__append-inner"},[(H=l["append-inner"])==null?void 0:H.call(l,g.value),e.appendInnerIcon&&t(u,{key:"append-icon",name:"appendInner"},null)]),t("div",{class:["v-field__outline",B.value],style:D.value},[b&&t(Y,null,[t("div",{class:"v-field__outline__start"},null),m.value&&t("div",{class:"v-field__outline__notch"},[t(re,{ref:k,floating:!0,for:C.value},{default:()=>[P()]})]),t("div",{class:"v-field__outline__end"},null)]),y.value&&m.value&&t(re,{ref:k,floating:!0,for:C.value},{default:()=>[P()]})])])}),{controlRef:T}}});function at(e){const a=Object.keys(we.props).filter(s=>!St(s)&&s!=="class"&&s!=="style");return pt(e,a)}const oa=N({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Q(),...Ae({transition:{component:Me,leaveAbsolute:!0,group:!0}})},"VMessages"),sa=q()({name:"VMessages",props:oa(),setup(e,a){let{slots:s}=a;const o=v(()=>ue(e.messages)),{textColorClasses:l,textColorStyles:n}=He(v(()=>e.color));return G(()=>t(Le,{transition:e.transition,tag:"div",class:["v-messages",l.value,e.class],style:[n.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&o.value.map((i,d)=>t("div",{class:"v-messages__message",key:`${d}-${o.value}`},[s.message?s.message({message:i}):i]))]})),{}}}),ra=N({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...tt()},"validation");function ua(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne(),s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ke();const o=ee(e,"modelValue"),l=v(()=>e.validationValue===void 0?o.value:e.validationValue),n=Qt(e),i=_([]),d=de(!0),h=v(()=>!!(ue(o.value===""?null:o.value).length||ue(l.value===""?null:l.value).length)),x=v(()=>{var f;return(f=e.errorMessages)!=null&&f.length?ue(e.errorMessages).concat(i.value).slice(0,Math.max(0,+e.maxErrors)):i.value}),r=v(()=>{var T;let f=(e.validateOn??((T=n.validateOn)==null?void 0:T.value))||"input";f==="lazy"&&(f="input lazy"),f==="eager"&&(f="input eager");const k=new Set((f==null?void 0:f.split(" "))??[]);return{input:k.has("input"),blur:k.has("blur")||k.has("input")||k.has("invalid-input"),invalidInput:k.has("invalid-input"),lazy:k.has("lazy"),eager:k.has("eager")}}),u=v(()=>{var f;return e.error||(f=e.errorMessages)!=null&&f.length?!1:e.rules.length?d.value?i.value.length||r.value.lazy?null:!0:!i.value.length:!0}),V=de(!1),c=v(()=>({[`${a}--error`]:u.value===!1,[`${a}--dirty`]:h.value,[`${a}--disabled`]:n.isDisabled.value,[`${a}--readonly`]:n.isReadonly.value})),S=It("validation"),m=v(()=>e.name??Pt(s));Ft(()=>{var f;(f=n.register)==null||f.call(n,{id:m.value,vm:S,validate:M,reset:R,resetValidation:C})}),Ve(()=>{var f;(f=n.unregister)==null||f.call(n,m.value)}),qe(async()=>{var f;r.value.lazy||await M(!r.value.eager),(f=n.update)==null||f.call(n,m.value,u.value,x.value)}),Fe(()=>r.value.input||r.value.invalidInput&&u.value===!1,()=>{O(l,()=>{if(l.value!=null)M();else if(e.focused){const f=O(()=>e.focused,k=>{k||M(),f()})}})}),Fe(()=>r.value.blur,()=>{O(()=>e.focused,f=>{f||M()})}),O([u,x],()=>{var f;(f=n.update)==null||f.call(n,m.value,u.value,x.value)});async function R(){o.value=null,await J(),await C()}async function C(){d.value=!0,r.value.lazy?i.value=[]:await M(!r.value.eager)}async function M(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const k=[];V.value=!0;for(const T of e.rules){if(k.length>=+(e.maxErrors??1))break;const p=await(typeof T=="function"?T:()=>T)(l.value);if(p!==!0){if(p!==!1&&typeof p!="string"){console.warn(`${p} is not a valid value. Rule functions must return boolean true or a string.`);continue}k.push(p||"")}}return i.value=k,V.value=!1,d.value=f,i.value}return{errorMessages:x,isDirty:h,isDisabled:n.isDisabled,isReadonly:n.isReadonly,isPristine:d,isValid:u,isValidating:V,reset:R,resetValidation:C,validate:M,validationClasses:c}}const Ie=N({id:String,appendIcon:ne,centerAffix:{type:Boolean,default:!0},prependIcon:ne,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":X(),"onClick:append":X(),...Q(),...$t(),...Bt(_t(),["maxWidth","minWidth","width"]),...Ce(),...ra()},"VInput"),fe=q()({name:"VInput",props:{...Ie()},emits:{"update:modelValue":e=>!0},setup(e,a){let{attrs:s,slots:o,emit:l}=a;const{densityClasses:n}=Rt(e),{dimensionStyles:i}=Et(e),{themeClasses:d}=ze(e),{rtlClasses:h}=Ue(),{InputIcon:x}=et(e),r=ke(),u=v(()=>e.id||`input-${r}`),V=v(()=>`${u.value}-messages`),{errorMessages:c,isDirty:S,isDisabled:m,isReadonly:R,isPristine:C,isValid:M,isValidating:f,reset:k,resetValidation:T,validate:y,validationClasses:p}=ua(e,"v-input",u),$=v(()=>({id:u,messagesId:V,isDirty:S,isDisabled:m,isReadonly:R,isPristine:C,isValid:M,isValidating:f,reset:k,resetValidation:T,validate:y})),B=v(()=>{var D;return(D=e.errorMessages)!=null&&D.length||!C.value&&c.value.length?c.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return G(()=>{var b,I,A,L;const D=!!(o.prepend||e.prependIcon),g=!!(o.append||e.appendIcon),E=B.value.length>0,w=!e.hideDetails||e.hideDetails==="auto"&&(E||!!o.details);return t("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},n.value,d.value,h.value,p.value,e.class],style:[i.value,e.style]},[D&&t("div",{key:"prepend",class:"v-input__prepend"},[(b=o.prepend)==null?void 0:b.call(o,$.value),e.prependIcon&&t(x,{key:"prepend-icon",name:"prepend"},null)]),o.default&&t("div",{class:"v-input__control"},[(I=o.default)==null?void 0:I.call(o,$.value)]),g&&t("div",{key:"append",class:"v-input__append"},[e.appendIcon&&t(x,{key:"append-icon",name:"append"},null),(A=o.append)==null?void 0:A.call(o,$.value)]),w&&t("div",{class:"v-input__details"},[t(sa,{id:V.value,active:E,messages:B.value},{message:o.message}),(L=o.details)==null?void 0:L.call(o,$.value)])])}),{reset:k,resetValidation:T,validate:y,isValid:M,errorMessages:c}}}),da=["color","file","time","date","datetime-local","week","month"],ca=N({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Ie(),...pe()},"VTextField"),$e=q()({name:"VTextField",directives:{Intersect:Ge},inheritAttrs:!1,props:ca(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:s,emit:o,slots:l}=a;const n=ee(e,"modelValue"),{isFocused:i,focus:d,blur:h}=Se(e),x=v(()=>typeof e.counterValue=="function"?e.counterValue(n.value):typeof e.counterValue=="number"?e.counterValue:(n.value??"").toString().length),r=v(()=>{if(s.maxlength)return s.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),u=v(()=>["plain","underlined"].includes(e.variant));function V(y,p){var $,B;!e.autofocus||!y||(B=($=p[0].target)==null?void 0:$.focus)==null||B.call($)}const c=_(),S=_(),m=_(),R=v(()=>da.includes(e.type)||e.persistentPlaceholder||i.value||e.active);function C(){var y;m.value!==document.activeElement&&((y=m.value)==null||y.focus()),i.value||d()}function M(y){o("mousedown:control",y),y.target!==m.value&&(C(),y.preventDefault())}function f(y){C(),o("click:control",y)}function k(y){y.stopPropagation(),C(),J(()=>{n.value=null,Je(e["onClick:clear"],y)})}function T(y){var $;const p=y.target;if(n.value=p.value,($=e.modelModifiers)!=null&&$.trim&&["text","search","password","tel","url"].includes(e.type)){const B=[p.selectionStart,p.selectionEnd];J(()=>{p.selectionStart=B[0],p.selectionEnd=B[1]})}}return G(()=>{const y=!!(l.counter||e.counter!==!1&&e.counter!=null),p=!!(y||l.details),[$,B]=We(s),{modelValue:D,...g}=fe.filterProps(e),E=at(e);return t(fe,j({ref:c,modelValue:n.value,"onUpdate:modelValue":w=>n.value=w,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":u.value},e.class],style:e.style},$,g,{centerAffix:!u.value,focused:i.value}),{...l,default:w=>{let{id:b,isDisabled:I,isDirty:A,isReadonly:L,isValid:P}=w;return t(we,j({ref:S,onMousedown:M,onClick:f,"onClick:clear":k,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},E,{id:b.value,active:R.value||A.value,dirty:A.value||e.dirty,disabled:I.value,focused:i.value,error:P.value===!1}),{...l,default:z=>{let{props:{class:U,...H}}=z;const W=le(t("input",j({ref:m,value:n.value,onInput:T,autofocus:e.autofocus,readonly:L.value,disabled:I.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:C,onBlur:h},H,B),null),[[Ke("intersect"),{handler:V},null,{once:!0}]]);return t(Y,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[t("span",{class:"v-text-field__prefix__text"},[e.prefix])]),l.default?t("div",{class:U,"data-no-activator":""},[l.default(),W]):Dt(W,{class:U}),e.suffix&&t("span",{class:"v-text-field__suffix"},[t("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:p?w=>{var b;return t(Y,null,[(b=l.details)==null?void 0:b.call(l,w),y&&t(Y,null,[t("span",null,null),t(Ze,{active:e.persistentCounter||i.value,value:x.value,max:r.value,disabled:e.disabled},l.counter)])])}:void 0})}),ve({},c,S,m)}}),fa=N({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Ie(),...pe()},"VTextarea"),va=q()({name:"VTextarea",directives:{Intersect:Ge},inheritAttrs:!1,props:fa(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:s,emit:o,slots:l}=a;const n=ee(e,"modelValue"),{isFocused:i,focus:d,blur:h}=Se(e),x=v(()=>typeof e.counterValue=="function"?e.counterValue(n.value):(n.value||"").toString().length),r=v(()=>{if(s.maxlength)return s.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function u(g,E){var w,b;!e.autofocus||!g||(b=(w=E[0].target)==null?void 0:w.focus)==null||b.call(w)}const V=_(),c=_(),S=de(""),m=_(),R=v(()=>e.persistentPlaceholder||i.value||e.active);function C(){var g;m.value!==document.activeElement&&((g=m.value)==null||g.focus()),i.value||d()}function M(g){C(),o("click:control",g)}function f(g){o("mousedown:control",g)}function k(g){g.stopPropagation(),C(),J(()=>{n.value="",Je(e["onClick:clear"],g)})}function T(g){var w;const E=g.target;if(n.value=E.value,(w=e.modelModifiers)!=null&&w.trim){const b=[E.selectionStart,E.selectionEnd];J(()=>{E.selectionStart=b[0],E.selectionEnd=b[1]})}}const y=_(),p=_(+e.rows),$=v(()=>["plain","underlined"].includes(e.variant));At(()=>{e.autoGrow||(p.value=+e.rows)});function B(){e.autoGrow&&J(()=>{if(!y.value||!c.value)return;const g=getComputedStyle(y.value),E=getComputedStyle(c.value.$el),w=parseFloat(g.getPropertyValue("--v-field-padding-top"))+parseFloat(g.getPropertyValue("--v-input-padding-top"))+parseFloat(g.getPropertyValue("--v-field-padding-bottom")),b=y.value.scrollHeight,I=parseFloat(g.lineHeight),A=Math.max(parseFloat(e.rows)*I+w,parseFloat(E.getPropertyValue("--v-input-control-height"))),L=parseFloat(e.maxRows)*I+w||1/0,P=Tt(b??0,A,L);p.value=Math.floor((P-w)/I),S.value=je(P)})}qe(B),O(n,B),O(()=>e.rows,B),O(()=>e.maxRows,B),O(()=>e.density,B);let D;return O(y,g=>{g?(D=new ResizeObserver(B),D.observe(y.value)):D==null||D.disconnect()}),Ve(()=>{D==null||D.disconnect()}),G(()=>{const g=!!(l.counter||e.counter||e.counterValue),E=!!(g||l.details),[w,b]=We(s),{modelValue:I,...A}=fe.filterProps(e),L=at(e);return t(fe,j({ref:V,modelValue:n.value,"onUpdate:modelValue":P=>n.value=P,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":$.value},e.class],style:e.style},w,A,{centerAffix:p.value===1&&!$.value,focused:i.value}),{...l,default:P=>{let{id:z,isDisabled:U,isDirty:H,isReadonly:W,isValid:me}=P;return t(we,j({ref:c,style:{"--v-textarea-control-height":S.value},onClick:M,onMousedown:f,"onClick:clear":k,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},L,{id:z.value,active:R.value||H.value,centerAffix:p.value===1&&!$.value,dirty:H.value||e.dirty,disabled:U.value,focused:i.value,error:me.value===!1}),{...l,default:ie=>{let{props:{class:oe,...se}}=ie;return t(Y,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),le(t("textarea",j({ref:m,class:oe,value:n.value,onInput:T,autofocus:e.autofocus,readonly:W.value,disabled:U.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:C,onBlur:h},se,b),null),[[Ke("intersect"),{handler:u},null,{once:!0}]]),e.autoGrow&&le(t("textarea",{class:[oe,"v-textarea__sizer"],id:`${se.id}-sizer`,"onUpdate:modelValue":ge=>n.value=ge,ref:y,readonly:!0,"aria-hidden":"true"},null),[[Mt,n.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:E?P=>{var z;return t(Y,null,[(z=l.details)==null?void 0:z.call(l,P),g&&t(Y,null,[t("span",null,null),t(Ze,{active:e.persistentCounter||i.value,value:x.value,max:r.value,disabled:e.disabled},l.counter)])])}:void 0})}),ve({},V,c,m)}});function ma(e,a,s,o,l,n){const i=Xe("RecordForm");return xe(),Ye(i,{record:e.spirit,endpoint:e.endpoint,method:e.method,onSave:e.handleSave},{trigger:F(({openDialog:d})=>[te(e.$slots,"trigger",{openDialog:d},()=>[t(ae,{color:"primary"},{default:F(()=>[K(ce(e.isEditMode?"Edit Spirit":"Add Spirit"),1)]),_:1})])]),title:F(()=>[Z("span",null,ce(e.isEditMode?"Edit Spirit":"Add New Spirit"),1)]),form:F(({record:d})=>[t(ea,null,{default:F(()=>[t($e,{modelValue:d.name,"onUpdate:modelValue":h=>d.name=h,label:"Name",required:""},null,8,["modelValue","onUpdate:modelValue"]),t(va,{modelValue:d.description,"onUpdate:modelValue":h=>d.description=h,label:"Description",rows:"4",required:""},null,8,["modelValue","onUpdate:modelValue"]),t($e,{modelValue:d.image,"onUpdate:modelValue":h=>d.image=h,label:"Image URL"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:3},8,["record","endpoint","method","onSave"])}const ga=be(Jt,[["render",ma]]),ya=ye({name:"Spirit",props:{spirit:{type:Object,required:!0}},components:{SpiritForm:ga},setup(e){const a=_({...e.spirit}),s=he(),o=v(()=>`https://api.fordsdevelopment.co.uk/drinks/spirits/${e.spirit.id}`);return{editedSpirit:a,saveChanges:async({data:n,endpoint:i})=>{try{const d=await fetch(i,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.accessToken}`},body:JSON.stringify(n)});if(!d.ok)throw new Error(`Error: ${d.status} - ${d.statusText}`);const h=await d.json();console.log("Save successful:",h),a.value=h,window.location.reload()}catch(d){console.error("Error saving spirit:",d)}},endpoint:o}}}),ha={class:"image-container"};function Va(e,a,s,o,l,n){const i=Xe("SpiritForm");return xe(),Ye(_e,null,{default:F(()=>[t(Ut,{cols:"12"},{default:F(()=>[t(i,{spirit:e.spirit},{trigger:F(({openDialog:d})=>[t(ae,{density:"comfortable",icon:"mdi-dots-vertical",variant:"tonal",onClick:d},null,8,["onClick"])]),_:1},8,["spirit"])]),_:1}),Z("div",ha,[t(Lt,{height:"250",src:e.spirit.image,contain:""},null,8,["src"])]),t(Ot,null,{default:F(()=>[t(Re,null,{default:F(()=>[K(ce(e.spirit.name),1)]),_:1}),t(Nt,null,{default:F(()=>[a[0]||(a[0]=Z("span",{class:"me-1"},"Local Favorite",-1)),t(Oe,{color:"error",icon:"mdi-fire-circle",size:"small"})]),_:1})]),_:1}),t(Ee,null,{default:F(()=>[t(zt,{align:"center",class:"mx-0"},{default:F(()=>[t(Ht,{"model-value":4.5,color:"amber",density:"compact",size:"small","half-increments":"",readonly:""}),a[1]||(a[1]=Z("div",{class:"text-grey ms-4"},"4.5 (413)",-1))]),_:1}),a[2]||(a[2]=Z("div",{class:"my-4 text-subtitle-1"},"$ • Italian, Cafe",-1)),Z("div",null,ce(e.spirit.description||"No description."),1)]),_:1})]),_:1})}const ka=be(ya,[["render",Va]]);export{Kt as R,ka as S,ea as V,$e as a,va as b};
