import{d as he,r as R,u as Ve,T as L,p as N,U as nt,W as lt,i as q,X as ee,Y as it,Z as be,$ as ot,a0 as J,s as G,a1 as Fe,v as j,a as t,a2 as Be,a3 as ve,a4 as st,_ as xe,o as Ce,y as rt,a5 as te,w as F,P as Re,I as _e,J as K,M as Ee,N as ut,O as ae,e as v,a6 as de,a7 as dt,a8 as ct,t as De,a9 as ft,Q,aa as Ae,ab as Me,ac as le,ad as Te,ae as Oe,af as X,h as ke,q as vt,L as Le,ag as Ne,ah as ne,ai as mt,aj as gt,n as Ue,ak as yt,al as ht,S as ze,am as Se,j as Vt,an as He,ao as bt,ap as je,aq as xt,ar as Ct,as as kt,F as Y,at as St,au as pt,av as wt,x as ue,aw as It,ax as Pt,ay as Ft,f as qe,az as $e,aA as $t,aB as Bt,m as Rt,aC as _t,k as Et,aD as Ge,aE as We,aF as Ke,aG as Dt,aH as Je,aI as At,aJ as Mt,aK as Tt,A as Xe,c as Ye,D as ce,b as Z,G as Ot,H as Lt,K as Nt,V as Ut}from"./index-D_iVcCHJ.js";import{V as zt}from"./VCol-D3ZKEDRW.js";import{V as Ht}from"./VRating-CLZm4ydl.js";const jt=he({name:"RecordForm",props:{record:{type:Object,default:()=>({})},endpoint:{type:String,required:!0},method:{type:String,default:"POST"}},setup(e){const a=R(!1),s=R({...e.record}),o=Ve();return L(()=>e.record,i=>{s.value={...i}},{deep:!0,immediate:!0}),{dialog:a,localRecord:s,openDialog:()=>{a.value=!0},saveRecord:async()=>{try{const i=await fetch(e.endpoint,{method:e.method,headers:{"Content-Type":"application/json",Authorization:`Bearer ${o.accessToken}`},body:JSON.stringify(s.value)});if(!i.ok)throw new Error(`Error: ${i.status} - ${i.statusText}`);window.location.reload()}catch(i){console.error("Error saving record:",i)}}}}}),qt=N({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...nt({origin:"center center",scrollStrategy:"block",transition:{component:lt},zIndex:2400})},"VDialog"),Gt=q()({name:"VDialog",props:qt(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,a){let{emit:s,slots:o}=a;const l=ee(e,"modelValue"),{scopeId:n}=it(),i=R();function u(r){var c,S;const d=r.relatedTarget,V=r.target;if(d!==V&&((c=i.value)!=null&&c.contentEl)&&((S=i.value)!=null&&S.globalTop)&&![document,i.value.contentEl].includes(V)&&!i.value.contentEl.contains(V)){const m=st(i.value.contentEl);if(!m.length)return;const _=m[0],C=m[m.length-1];d===_?C.focus():_.focus()}}be(()=>{document.removeEventListener("focusin",u)}),ot&&L(()=>l.value&&e.retainFocus,r=>{r?document.addEventListener("focusin",u):document.removeEventListener("focusin",u)},{immediate:!0});function g(){var r;s("afterEnter"),(r=i.value)!=null&&r.contentEl&&!i.value.contentEl.contains(document.activeElement)&&i.value.contentEl.focus({preventScroll:!0})}function x(){s("afterLeave")}return L(l,async r=>{var d;r||(await J(),(d=i.value.activatorEl)==null||d.focus({preventScroll:!0}))}),G(()=>{const r=Fe.filterProps(e),d=j({"aria-haspopup":"dialog"},e.activatorProps),V=j({tabindex:-1},e.contentProps);return t(Fe,j({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},r,{modelValue:l.value,"onUpdate:modelValue":c=>l.value=c,"aria-modal":"true",activatorProps:d,contentProps:V,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:g,onAfterLeave:x},n),{activator:o.activator,default:function(){for(var c=arguments.length,S=new Array(c),m=0;m<c;m++)S[m]=arguments[m];return t(Be,{root:"VDialog"},{default:()=>{var _;return[(_=o.default)==null?void 0:_.call(o,...S)]}})}})}),ve({},i)}});function Wt(e,a,s,o,l,n){return Ce(),rt("div",null,[te(e.$slots,"trigger",{openDialog:e.openDialog},()=>[t(ae,{color:"primary",onClick:e.openDialog},{default:F(()=>a[2]||(a[2]=[K("Add Record")])),_:1},8,["onClick"])]),t(Gt,{modelValue:e.dialog,"onUpdate:modelValue":a[1]||(a[1]=i=>e.dialog=i),"max-width":"500"},{default:F(()=>[t(Re,null,{default:F(()=>[t(_e,null,{default:F(()=>[te(e.$slots,"title",{},()=>[a[3]||(a[3]=K("Add/Edit Record"))])]),_:3}),t(Ee,null,{default:F(()=>[te(e.$slots,"form",{record:e.localRecord},()=>[a[4]||(a[4]=K("No form provided"))])]),_:3}),t(ut,null,{default:F(()=>[te(e.$slots,"actions",{},()=>[t(ae,{text:"",color:"secondary",onClick:a[0]||(a[0]=i=>e.dialog=!1)},{default:F(()=>a[5]||(a[5]=[K("Cancel")])),_:1}),t(ae,{text:"",color:"primary",onClick:e.saveRecord},{default:F(()=>a[6]||(a[6]=[K("Save")])),_:1},8,["onClick"])])]),_:3})]),_:3})]),_:3},8,["modelValue"])])}const Kt=xe(jt,[["render",Wt]]),Jt=he({name:"SpiritForm",props:{spirit:{type:Object,required:!1,default:()=>({name:"",description:"",image:""})}},components:{RecordForm:Kt},setup(e){Ve();const a=v(()=>!!e.spirit.id),s=v(()=>a.value?`https://api.fordsdevelopment.co.uk/drinks/spirits/${e.spirit.id}`:"https://api.fordsdevelopment.co.uk/drinks/spirits"),o=v(()=>a.value?"PUT":"POST");return{isEditMode:a,endpoint:s,method:o,handleSave:async n=>{console.log(`${a.value?"Updated":"Created"} record:`,n),window.location.reload()}}}}),Qe=Symbol.for("vuetify:form"),Xt=N({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Yt(e){const a=ee(e,"modelValue"),s=v(()=>e.disabled),o=v(()=>e.readonly),l=de(!1),n=R([]),i=R([]);async function u(){const r=[];let d=!0;i.value=[],l.value=!0;for(const V of n.value){const c=await V.validate();if(c.length>0&&(d=!1,r.push({id:V.id,errorMessages:c})),!d&&e.fastFail)break}return i.value=r,l.value=!1,{valid:d,errors:i.value}}function g(){n.value.forEach(r=>r.reset())}function x(){n.value.forEach(r=>r.resetValidation())}return L(n,()=>{let r=0,d=0;const V=[];for(const c of n.value)c.isValid===!1?(d++,V.push({id:c.id,errorMessages:c.errorMessages})):c.isValid===!0&&r++;i.value=V,a.value=d>0?!1:r===n.value.length?!0:null},{deep:!0,flush:"post"}),dt(Qe,{register:r=>{let{id:d,vm:V,validate:c,reset:S,resetValidation:m}=r;n.value.some(_=>_.id===d),n.value.push({id:d,validate:c,reset:S,resetValidation:m,vm:ct(V),isValid:null,errorMessages:[]})},unregister:r=>{n.value=n.value.filter(d=>d.id!==r)},update:(r,d,V)=>{const c=n.value.find(S=>S.id===r);c&&(c.isValid=d,c.errorMessages=V)},isDisabled:s,isReadonly:o,isValidating:l,isValid:a,items:n,validateOn:De(e,"validateOn")}),{errors:i,isDisabled:s,isReadonly:o,isValidating:l,isValid:a,items:n,validate:u,reset:g,resetValidation:x}}function Qt(e){const a=ft(Qe,null);return{...a,isReadonly:v(()=>!!((e==null?void 0:e.readonly)??(a==null?void 0:a.isReadonly.value))),isDisabled:v(()=>!!((e==null?void 0:e.disabled)??(a==null?void 0:a.isDisabled.value)))}}const Zt=N({...Q(),...Xt()},"VForm"),ea=q()({name:"VForm",props:Zt(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,a){let{slots:s,emit:o}=a;const l=Yt(e),n=R();function i(g){g.preventDefault(),l.reset()}function u(g){const x=g,r=l.validate();x.then=r.then.bind(r),x.catch=r.catch.bind(r),x.finally=r.finally.bind(r),o("submit",x),x.defaultPrevented||r.then(d=>{var c;let{valid:V}=d;V&&((c=n.value)==null||c.submit())}),x.preventDefault()}return G(()=>{var g;return t("form",{ref:n,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:i,onSubmit:u},[(g=s.default)==null?void 0:g.call(s,l)])}),ve(l,n)}}),ta=N({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Q(),...Ae({transition:{component:Me}})},"VCounter"),Ze=q()({name:"VCounter",functional:!0,props:ta(),setup(e,a){let{slots:s}=a;const o=v(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return G(()=>t(Oe,{transition:e.transition},{default:()=>[le(t("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[s.default?s.default({counter:o.value,max:e.max,value:e.value}):o.value]),[[Te,e.active]])]})),{}}}),aa=N({text:String,onClick:X(),...Q(),...ke()},"VLabel"),na=q()({name:"VLabel",props:aa(),setup(e,a){let{slots:s}=a;return G(()=>{var o;return t("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(o=s.default)==null?void 0:o.call(s)])}),{}}}),la=N({floating:Boolean,...Q()},"VFieldLabel"),re=q()({name:"VFieldLabel",props:la(),setup(e,a){let{slots:s}=a;return G(()=>t(na,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},s)),{}}});function et(e){const{t:a}=vt();function s(o){let{name:l}=o;const n={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[l],i=e[`onClick:${l}`],u=i&&n?a(`$vuetify.input.${n}`,e.label??""):void 0;return t(Le,{icon:e[`${l}Icon`],"aria-label":u,onClick:i},null)}return{InputIcon:s}}const tt=N({focused:Boolean,"onUpdate:focused":X()},"focus");function pe(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne();const s=ee(e,"focused"),o=v(()=>({[`${a}--focused`]:s.value}));function l(){s.value=!0}function n(){s.value=!1}return{focusClasses:o,isFocused:s,focus:l,blur:n}}const ia=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],we=N({appendInnerIcon:ne,bgColor:String,clearable:Boolean,clearIcon:{type:ne,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ne,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>ia.includes(e)},"onClick:clear":X(),"onClick:appendInner":X(),"onClick:prependInner":X(),...Q(),...mt(),...gt(),...ke()},"VField"),Ie=q()({name:"VField",inheritAttrs:!1,props:{id:String,...tt(),...we()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:s,emit:o,slots:l}=a;const{themeClasses:n}=Ue(e),{loaderClasses:i}=yt(e),{focusClasses:u,isFocused:g,focus:x,blur:r}=pe(e),{InputIcon:d}=et(e),{roundedClasses:V}=ht(e),{rtlClasses:c}=ze(),S=v(()=>e.dirty||e.active),m=v(()=>!e.singleLine&&!!(e.label||l.label)),_=Se(),C=v(()=>e.id||`input-${_}`),M=v(()=>`${C.value}-messages`),f=R(),k=R(),T=R(),h=v(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:p,backgroundColorStyles:$}=Vt(De(e,"bgColor")),{textColorClasses:B,textColorStyles:D}=He(v(()=>e.error||e.disabled?void 0:S.value&&g.value?e.color:e.baseColor));L(S,b=>{if(m.value){const I=f.value.$el,A=k.value.$el;requestAnimationFrame(()=>{const O=bt(I),P=A.getBoundingClientRect(),U=P.x-O.x,z=P.y-O.y-(O.height/2-P.height/2),H=P.width/.75,W=Math.abs(H-O.width)>1?{maxWidth:je(H)}:void 0,me=getComputedStyle(I),ie=getComputedStyle(A),oe=parseFloat(me.transitionDuration)*1e3||150,se=parseFloat(ie.getPropertyValue("--v-field-label-scale")),ge=ie.getPropertyValue("color");I.style.visibility="visible",A.style.visibility="hidden",xt(I,{transform:`translate(${U}px, ${z}px) scale(${se})`,color:ge,...W},{duration:oe,easing:wt,direction:b?"normal":"reverse"}).finished.then(()=>{I.style.removeProperty("visibility"),A.style.removeProperty("visibility")})})}},{flush:"post"});const y=v(()=>({isActive:S,isFocused:g,controlRef:T,blur:r,focus:x}));function E(b){b.target!==document.activeElement&&b.preventDefault()}function w(b){var I;b.key!=="Enter"&&b.key!==" "||(b.preventDefault(),b.stopPropagation(),(I=e["onClick:clear"])==null||I.call(e,new MouseEvent("click")))}return G(()=>{var U,z,H;const b=e.variant==="outlined",I=!!(l["prepend-inner"]||e.prependInnerIcon),A=!!(e.clearable||l.clear),O=!!(l["append-inner"]||e.appendInnerIcon||A),P=()=>l.label?l.label({...y.value,label:e.label,props:{for:C.value}}):e.label;return t("div",j({class:["v-field",{"v-field--active":S.value,"v-field--appended":O,"v-field--center-affix":e.centerAffix??!h.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":I,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!P(),[`v-field--variant-${e.variant}`]:!0},n.value,p.value,u.value,i.value,V.value,c.value,e.class],style:[$.value,e.style],onClick:E},s),[t("div",{class:"v-field__overlay"},null),t(Ct,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),I&&t("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&t(d,{key:"prepend-icon",name:"prependInner"},null),(U=l["prepend-inner"])==null?void 0:U.call(l,y.value)]),t("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&m.value&&t(re,{key:"floating-label",ref:k,class:[B.value],floating:!0,for:C.value,style:D.value},{default:()=>[P()]}),m.value&&t(re,{key:"label",ref:f,for:C.value},{default:()=>[P()]}),(z=l.default)==null?void 0:z.call(l,{...y.value,props:{id:C.value,class:"v-field__input","aria-describedby":M.value},focus:x,blur:r})]),A&&t(kt,{key:"clear"},{default:()=>[le(t("div",{class:"v-field__clearable",onMousedown:W=>{W.preventDefault(),W.stopPropagation()}},[t(Be,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[l.clear?l.clear({...y.value,props:{onKeydown:w,onFocus:x,onBlur:r,onClick:e["onClick:clear"]}}):t(d,{name:"clear",onKeydown:w,onFocus:x,onBlur:r},null)]})]),[[Te,e.dirty]])]}),O&&t("div",{key:"append",class:"v-field__append-inner"},[(H=l["append-inner"])==null?void 0:H.call(l,y.value),e.appendInnerIcon&&t(d,{key:"append-icon",name:"appendInner"},null)]),t("div",{class:["v-field__outline",B.value],style:D.value},[b&&t(Y,null,[t("div",{class:"v-field__outline__start"},null),m.value&&t("div",{class:"v-field__outline__notch"},[t(re,{ref:k,floating:!0,for:C.value},{default:()=>[P()]})]),t("div",{class:"v-field__outline__end"},null)]),h.value&&m.value&&t(re,{ref:k,floating:!0,for:C.value},{default:()=>[P()]})])])}),{controlRef:T}}});function at(e){const a=Object.keys(Ie.props).filter(s=>!St(s)&&s!=="class"&&s!=="style");return pt(e,a)}const oa=N({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Q(),...Ae({transition:{component:Me,leaveAbsolute:!0,group:!0}})},"VMessages"),sa=q()({name:"VMessages",props:oa(),setup(e,a){let{slots:s}=a;const o=v(()=>ue(e.messages)),{textColorClasses:l,textColorStyles:n}=He(v(()=>e.color));return G(()=>t(Oe,{transition:e.transition,tag:"div",class:["v-messages",l.value,e.class],style:[n.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&o.value.map((i,u)=>t("div",{class:"v-messages__message",key:`${u}-${o.value}`},[s.message?s.message({message:i}):i]))]})),{}}}),ra=N({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...tt()},"validation");function ua(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne(),s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Se();const o=ee(e,"modelValue"),l=v(()=>e.validationValue===void 0?o.value:e.validationValue),n=Qt(e),i=R([]),u=de(!0),g=v(()=>!!(ue(o.value===""?null:o.value).length||ue(l.value===""?null:l.value).length)),x=v(()=>{var f;return(f=e.errorMessages)!=null&&f.length?ue(e.errorMessages).concat(i.value).slice(0,Math.max(0,+e.maxErrors)):i.value}),r=v(()=>{var T;let f=(e.validateOn??((T=n.validateOn)==null?void 0:T.value))||"input";f==="lazy"&&(f="input lazy"),f==="eager"&&(f="input eager");const k=new Set((f==null?void 0:f.split(" "))??[]);return{input:k.has("input"),blur:k.has("blur")||k.has("input")||k.has("invalid-input"),invalidInput:k.has("invalid-input"),lazy:k.has("lazy"),eager:k.has("eager")}}),d=v(()=>{var f;return e.error||(f=e.errorMessages)!=null&&f.length?!1:e.rules.length?u.value?i.value.length||r.value.lazy?null:!0:!i.value.length:!0}),V=de(!1),c=v(()=>({[`${a}--error`]:d.value===!1,[`${a}--dirty`]:g.value,[`${a}--disabled`]:n.isDisabled.value,[`${a}--readonly`]:n.isReadonly.value})),S=It("validation"),m=v(()=>e.name??Pt(s));Ft(()=>{var f;(f=n.register)==null||f.call(n,{id:m.value,vm:S,validate:M,reset:_,resetValidation:C})}),be(()=>{var f;(f=n.unregister)==null||f.call(n,m.value)}),qe(async()=>{var f;r.value.lazy||await M(!r.value.eager),(f=n.update)==null||f.call(n,m.value,d.value,x.value)}),$e(()=>r.value.input||r.value.invalidInput&&d.value===!1,()=>{L(l,()=>{if(l.value!=null)M();else if(e.focused){const f=L(()=>e.focused,k=>{k||M(),f()})}})}),$e(()=>r.value.blur,()=>{L(()=>e.focused,f=>{f||M()})}),L([d,x],()=>{var f;(f=n.update)==null||f.call(n,m.value,d.value,x.value)});async function _(){o.value=null,await J(),await C()}async function C(){u.value=!0,r.value.lazy?i.value=[]:await M(!r.value.eager)}async function M(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const k=[];V.value=!0;for(const T of e.rules){if(k.length>=+(e.maxErrors??1))break;const p=await(typeof T=="function"?T:()=>T)(l.value);if(p!==!0){if(p!==!1&&typeof p!="string"){console.warn(`${p} is not a valid value. Rule functions must return boolean true or a string.`);continue}k.push(p||"")}}return i.value=k,V.value=!1,u.value=f,i.value}return{errorMessages:x,isDirty:g,isDisabled:n.isDisabled,isReadonly:n.isReadonly,isPristine:u,isValid:d,isValidating:V,reset:_,resetValidation:C,validate:M,validationClasses:c}}const Pe=N({id:String,appendIcon:ne,centerAffix:{type:Boolean,default:!0},prependIcon:ne,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":X(),"onClick:append":X(),...Q(),...$t(),...Bt(Rt(),["maxWidth","minWidth","width"]),...ke(),...ra()},"VInput"),fe=q()({name:"VInput",props:{...Pe()},emits:{"update:modelValue":e=>!0},setup(e,a){let{attrs:s,slots:o,emit:l}=a;const{densityClasses:n}=_t(e),{dimensionStyles:i}=Et(e),{themeClasses:u}=Ue(e),{rtlClasses:g}=ze(),{InputIcon:x}=et(e),r=Se(),d=v(()=>e.id||`input-${r}`),V=v(()=>`${d.value}-messages`),{errorMessages:c,isDirty:S,isDisabled:m,isReadonly:_,isPristine:C,isValid:M,isValidating:f,reset:k,resetValidation:T,validate:h,validationClasses:p}=ua(e,"v-input",d),$=v(()=>({id:d,messagesId:V,isDirty:S,isDisabled:m,isReadonly:_,isPristine:C,isValid:M,isValidating:f,reset:k,resetValidation:T,validate:h})),B=v(()=>{var D;return(D=e.errorMessages)!=null&&D.length||!C.value&&c.value.length?c.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return G(()=>{var b,I,A,O;const D=!!(o.prepend||e.prependIcon),y=!!(o.append||e.appendIcon),E=B.value.length>0,w=!e.hideDetails||e.hideDetails==="auto"&&(E||!!o.details);return t("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},n.value,u.value,g.value,p.value,e.class],style:[i.value,e.style]},[D&&t("div",{key:"prepend",class:"v-input__prepend"},[(b=o.prepend)==null?void 0:b.call(o,$.value),e.prependIcon&&t(x,{key:"prepend-icon",name:"prepend"},null)]),o.default&&t("div",{class:"v-input__control"},[(I=o.default)==null?void 0:I.call(o,$.value)]),y&&t("div",{key:"append",class:"v-input__append"},[e.appendIcon&&t(x,{key:"append-icon",name:"append"},null),(A=o.append)==null?void 0:A.call(o,$.value)]),w&&t("div",{class:"v-input__details"},[t(sa,{id:V.value,active:E,messages:B.value},{message:o.message}),(O=o.details)==null?void 0:O.call(o,$.value)])])}),{reset:k,resetValidation:T,validate:h,isValid:M,errorMessages:c}}}),da=["color","file","time","date","datetime-local","week","month"],ca=N({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Pe(),...we()},"VTextField"),ye=q()({name:"VTextField",directives:{Intersect:Ge},inheritAttrs:!1,props:ca(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:s,emit:o,slots:l}=a;const n=ee(e,"modelValue"),{isFocused:i,focus:u,blur:g}=pe(e),x=v(()=>typeof e.counterValue=="function"?e.counterValue(n.value):typeof e.counterValue=="number"?e.counterValue:(n.value??"").toString().length),r=v(()=>{if(s.maxlength)return s.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),d=v(()=>["plain","underlined"].includes(e.variant));function V(h,p){var $,B;!e.autofocus||!h||(B=($=p[0].target)==null?void 0:$.focus)==null||B.call($)}const c=R(),S=R(),m=R(),_=v(()=>da.includes(e.type)||e.persistentPlaceholder||i.value||e.active);function C(){var h;m.value!==document.activeElement&&((h=m.value)==null||h.focus()),i.value||u()}function M(h){o("mousedown:control",h),h.target!==m.value&&(C(),h.preventDefault())}function f(h){C(),o("click:control",h)}function k(h){h.stopPropagation(),C(),J(()=>{n.value=null,Je(e["onClick:clear"],h)})}function T(h){var $;const p=h.target;if(n.value=p.value,($=e.modelModifiers)!=null&&$.trim&&["text","search","password","tel","url"].includes(e.type)){const B=[p.selectionStart,p.selectionEnd];J(()=>{p.selectionStart=B[0],p.selectionEnd=B[1]})}}return G(()=>{const h=!!(l.counter||e.counter!==!1&&e.counter!=null),p=!!(h||l.details),[$,B]=We(s),{modelValue:D,...y}=fe.filterProps(e),E=at(e);return t(fe,j({ref:c,modelValue:n.value,"onUpdate:modelValue":w=>n.value=w,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":d.value},e.class],style:e.style},$,y,{centerAffix:!d.value,focused:i.value}),{...l,default:w=>{let{id:b,isDisabled:I,isDirty:A,isReadonly:O,isValid:P}=w;return t(Ie,j({ref:S,onMousedown:M,onClick:f,"onClick:clear":k,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},E,{id:b.value,active:_.value||A.value,dirty:A.value||e.dirty,disabled:I.value,focused:i.value,error:P.value===!1}),{...l,default:U=>{let{props:{class:z,...H}}=U;const W=le(t("input",j({ref:m,value:n.value,onInput:T,autofocus:e.autofocus,readonly:O.value,disabled:I.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:C,onBlur:g},H,B),null),[[Ke("intersect"),{handler:V},null,{once:!0}]]);return t(Y,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[t("span",{class:"v-text-field__prefix__text"},[e.prefix])]),l.default?t("div",{class:z,"data-no-activator":""},[l.default(),W]):Dt(W,{class:z}),e.suffix&&t("span",{class:"v-text-field__suffix"},[t("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:p?w=>{var b;return t(Y,null,[(b=l.details)==null?void 0:b.call(l,w),h&&t(Y,null,[t("span",null,null),t(Ze,{active:e.persistentCounter||i.value,value:x.value,max:r.value,disabled:e.disabled},l.counter)])])}:void 0})}),ve({},c,S,m)}}),fa=N({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Pe(),...we()},"VTextarea"),va=q()({name:"VTextarea",directives:{Intersect:Ge},inheritAttrs:!1,props:fa(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:s,emit:o,slots:l}=a;const n=ee(e,"modelValue"),{isFocused:i,focus:u,blur:g}=pe(e),x=v(()=>typeof e.counterValue=="function"?e.counterValue(n.value):(n.value||"").toString().length),r=v(()=>{if(s.maxlength)return s.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function d(y,E){var w,b;!e.autofocus||!y||(b=(w=E[0].target)==null?void 0:w.focus)==null||b.call(w)}const V=R(),c=R(),S=de(""),m=R(),_=v(()=>e.persistentPlaceholder||i.value||e.active);function C(){var y;m.value!==document.activeElement&&((y=m.value)==null||y.focus()),i.value||u()}function M(y){C(),o("click:control",y)}function f(y){o("mousedown:control",y)}function k(y){y.stopPropagation(),C(),J(()=>{n.value="",Je(e["onClick:clear"],y)})}function T(y){var w;const E=y.target;if(n.value=E.value,(w=e.modelModifiers)!=null&&w.trim){const b=[E.selectionStart,E.selectionEnd];J(()=>{E.selectionStart=b[0],E.selectionEnd=b[1]})}}const h=R(),p=R(+e.rows),$=v(()=>["plain","underlined"].includes(e.variant));At(()=>{e.autoGrow||(p.value=+e.rows)});function B(){e.autoGrow&&J(()=>{if(!h.value||!c.value)return;const y=getComputedStyle(h.value),E=getComputedStyle(c.value.$el),w=parseFloat(y.getPropertyValue("--v-field-padding-top"))+parseFloat(y.getPropertyValue("--v-input-padding-top"))+parseFloat(y.getPropertyValue("--v-field-padding-bottom")),b=h.value.scrollHeight,I=parseFloat(y.lineHeight),A=Math.max(parseFloat(e.rows)*I+w,parseFloat(E.getPropertyValue("--v-input-control-height"))),O=parseFloat(e.maxRows)*I+w||1/0,P=Tt(b??0,A,O);p.value=Math.floor((P-w)/I),S.value=je(P)})}qe(B),L(n,B),L(()=>e.rows,B),L(()=>e.maxRows,B),L(()=>e.density,B);let D;return L(h,y=>{y?(D=new ResizeObserver(B),D.observe(h.value)):D==null||D.disconnect()}),be(()=>{D==null||D.disconnect()}),G(()=>{const y=!!(l.counter||e.counter||e.counterValue),E=!!(y||l.details),[w,b]=We(s),{modelValue:I,...A}=fe.filterProps(e),O=at(e);return t(fe,j({ref:V,modelValue:n.value,"onUpdate:modelValue":P=>n.value=P,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":$.value},e.class],style:e.style},w,A,{centerAffix:p.value===1&&!$.value,focused:i.value}),{...l,default:P=>{let{id:U,isDisabled:z,isDirty:H,isReadonly:W,isValid:me}=P;return t(Ie,j({ref:c,style:{"--v-textarea-control-height":S.value},onClick:M,onMousedown:f,"onClick:clear":k,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},O,{id:U.value,active:_.value||H.value,centerAffix:p.value===1&&!$.value,dirty:H.value||e.dirty,disabled:z.value,focused:i.value,error:me.value===!1}),{...l,default:ie=>{let{props:{class:oe,...se}}=ie;return t(Y,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),le(t("textarea",j({ref:m,class:oe,value:n.value,onInput:T,autofocus:e.autofocus,readonly:W.value,disabled:z.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:C,onBlur:g},se,b),null),[[Ke("intersect"),{handler:d},null,{once:!0}]]),e.autoGrow&&le(t("textarea",{class:[oe,"v-textarea__sizer"],id:`${se.id}-sizer`,"onUpdate:modelValue":ge=>n.value=ge,ref:h,readonly:!0,"aria-hidden":"true"},null),[[Mt,n.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:E?P=>{var U;return t(Y,null,[(U=l.details)==null?void 0:U.call(l,P),y&&t(Y,null,[t("span",null,null),t(Ze,{active:e.persistentCounter||i.value,value:x.value,max:r.value,disabled:e.disabled},l.counter)])])}:void 0})}),ve({},V,c,m)}});function ma(e,a,s,o,l,n){const i=Xe("RecordForm");return Ce(),Ye(i,{record:e.spirit,endpoint:e.endpoint,method:e.method,onSave:e.handleSave},{trigger:F(({openDialog:u})=>[te(e.$slots,"trigger",{openDialog:u},()=>[t(ae,{color:"primary"},{default:F(()=>[K(ce(e.isEditMode?"Edit Spirit":"Add Spirit"),1)]),_:1})])]),title:F(()=>[Z("span",null,ce(e.isEditMode?"Edit Spirit":"Add New Spirit"),1)]),form:F(({record:u})=>[t(ea,null,{default:F(()=>[t(ye,{modelValue:u.name,"onUpdate:modelValue":g=>u.name=g,label:"Name",required:""},null,8,["modelValue","onUpdate:modelValue"]),t(va,{modelValue:u.description,"onUpdate:modelValue":g=>u.description=g,label:"Description",rows:"4",required:""},null,8,["modelValue","onUpdate:modelValue"]),t(ye,{modelValue:u.image,"onUpdate:modelValue":g=>u.image=g,label:"Image"},null,8,["modelValue","onUpdate:modelValue"]),t(ye,{modelValue:u.rating,"onUpdate:modelValue":g=>u.rating=g,label:"Rating"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:3},8,["record","endpoint","method","onSave"])}const ga=xe(Jt,[["render",ma]]),ya=he({name:"Spirit",props:{spirit:{type:Object,required:!0}},components:{SpiritForm:ga},setup(e){const a=R({...e.spirit}),s=Ve(),o=v(()=>`https://api.fordsdevelopment.co.uk/drinks/spirits/${e.spirit.id}`);return{editedSpirit:a,saveChanges:async({data:n,endpoint:i})=>{try{const u=await fetch(i,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.accessToken}`},body:JSON.stringify(n)});if(!u.ok)throw new Error(`Error: ${u.status} - ${u.statusText}`);const g=await u.json();console.log("Save successful:",g),a.value=g,window.location.reload()}catch(u){console.error("Error saving spirit:",u)}},endpoint:o}}}),ha={class:"image-container"};function Va(e,a,s,o,l,n){const i=Xe("SpiritForm");return Ce(),Ye(Re,null,{default:F(()=>[t(zt,{cols:"12"},{default:F(()=>[t(i,{spirit:e.spirit},{trigger:F(({openDialog:u})=>[t(ae,{density:"comfortable",icon:"mdi-dots-vertical",variant:"tonal",onClick:u},null,8,["onClick"])]),_:1},8,["spirit"])]),_:1}),Z("div",ha,[t(Ot,{height:"250",src:e.spirit.image,contain:""},null,8,["src"])]),t(Lt,null,{default:F(()=>[t(_e,null,{default:F(()=>[K(ce(e.spirit.name),1)]),_:1}),t(Nt,null,{default:F(()=>[a[0]||(a[0]=Z("span",{class:"me-1"},"Local Favorite",-1)),t(Le,{color:"error",icon:"mdi-fire-circle",size:"small"})]),_:1})]),_:1}),t(Ee,null,{default:F(()=>[t(Ut,{align:"center",class:"mx-0"},{default:F(()=>[t(Ht,{"model-value":e.spirit.rating,color:"amber",density:"compact",size:"small","half-increments":"",readonly:""},null,8,["model-value"]),a[1]||(a[1]=Z("div",{class:"text-grey ms-4"},"4.5 (413)",-1))]),_:1}),a[2]||(a[2]=Z("div",{class:"my-4 text-subtitle-1"},"$ • Italian, Cafe",-1)),Z("div",null,ce(e.spirit.description||"No description."),1)]),_:1})]),_:1})}const ka=xe(ya,[["render",Va]]);export{Kt as R,ka as S,ea as V,ye as a,va as b};
